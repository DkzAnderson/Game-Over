var eT=Object.defineProperty;var tT=(n,e,t)=>e in n?eT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Sr=(n,e,t)=>tT(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function a_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vh={exports:{}},Za={},jh={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function nT(){if(Kg)return qe;Kg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=T&&j[T]||j["@@iterator"],typeof j=="function"?j:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,z={};function V(j,q,ie){this.props=j,this.context=q,this.refs=z,this.updater=ie||A}V.prototype.isReactComponent={},V.prototype.setState=function(j,q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,q,"setState")},V.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function G(){}G.prototype=V.prototype;function K(j,q,ie){this.props=j,this.context=q,this.refs=z,this.updater=ie||A}var J=K.prototype=new G;J.constructor=K,O(J,V.prototype),J.isPureReactComponent=!0;var ne=Array.isArray,de=Object.prototype.hasOwnProperty,F={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I(j,q,ie){var me,Ce={},Ae=null,Be=null;if(q!=null)for(me in q.ref!==void 0&&(Be=q.ref),q.key!==void 0&&(Ae=""+q.key),q)de.call(q,me)&&!P.hasOwnProperty(me)&&(Ce[me]=q[me]);var Ge=arguments.length-2;if(Ge===1)Ce.children=ie;else if(1<Ge){for(var Je=Array(Ge),He=0;He<Ge;He++)Je[He]=arguments[He+2];Ce.children=Je}if(j&&j.defaultProps)for(me in Ge=j.defaultProps,Ge)Ce[me]===void 0&&(Ce[me]=Ge[me]);return{$$typeof:n,type:j,key:Ae,ref:Be,props:Ce,_owner:F.current}}function C(j,q){return{$$typeof:n,type:j.type,key:q,ref:j.ref,props:j.props,_owner:j._owner}}function N(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function L(j){var q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ie){return q[ie]})}var b=/\/+/g;function S(j,q){return typeof j=="object"&&j!==null&&j.key!=null?L(""+j.key):q.toString(36)}function Ie(j,q,ie,me,Ce){var Ae=typeof j;(Ae==="undefined"||Ae==="boolean")&&(j=null);var Be=!1;if(j===null)Be=!0;else switch(Ae){case"string":case"number":Be=!0;break;case"object":switch(j.$$typeof){case n:case e:Be=!0}}if(Be)return Be=j,Ce=Ce(Be),j=me===""?"."+S(Be,0):me,ne(Ce)?(ie="",j!=null&&(ie=j.replace(b,"$&/")+"/"),Ie(Ce,q,ie,"",function(He){return He})):Ce!=null&&(N(Ce)&&(Ce=C(Ce,ie+(!Ce.key||Be&&Be.key===Ce.key?"":(""+Ce.key).replace(b,"$&/")+"/")+j)),q.push(Ce)),1;if(Be=0,me=me===""?".":me+":",ne(j))for(var Ge=0;Ge<j.length;Ge++){Ae=j[Ge];var Je=me+S(Ae,Ge);Be+=Ie(Ae,q,ie,Je,Ce)}else if(Je=x(j),typeof Je=="function")for(j=Je.call(j),Ge=0;!(Ae=j.next()).done;)Ae=Ae.value,Je=me+S(Ae,Ge++),Be+=Ie(Ae,q,ie,Je,Ce);else if(Ae==="object")throw q=String(j),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Be}function ke(j,q,ie){if(j==null)return j;var me=[],Ce=0;return Ie(j,me,"","",function(Ae){return q.call(ie,Ae,Ce++)}),me}function je(j){if(j._status===-1){var q=j._result;q=q(),q.then(function(ie){(j._status===0||j._status===-1)&&(j._status=1,j._result=ie)},function(ie){(j._status===0||j._status===-1)&&(j._status=2,j._result=ie)}),j._status===-1&&(j._status=0,j._result=q)}if(j._status===1)return j._result.default;throw j._result}var Fe={current:null},ae={transition:null},te={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:ae,ReactCurrentOwner:F};function $(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:ke,forEach:function(j,q,ie){ke(j,function(){q.apply(this,arguments)},ie)},count:function(j){var q=0;return ke(j,function(){q++}),q},toArray:function(j){return ke(j,function(q){return q})||[]},only:function(j){if(!N(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},qe.Component=V,qe.Fragment=t,qe.Profiler=o,qe.PureComponent=K,qe.StrictMode=i,qe.Suspense=f,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,qe.act=$,qe.cloneElement=function(j,q,ie){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var me=O({},j.props),Ce=j.key,Ae=j.ref,Be=j._owner;if(q!=null){if(q.ref!==void 0&&(Ae=q.ref,Be=F.current),q.key!==void 0&&(Ce=""+q.key),j.type&&j.type.defaultProps)var Ge=j.type.defaultProps;for(Je in q)de.call(q,Je)&&!P.hasOwnProperty(Je)&&(me[Je]=q[Je]===void 0&&Ge!==void 0?Ge[Je]:q[Je])}var Je=arguments.length-2;if(Je===1)me.children=ie;else if(1<Je){Ge=Array(Je);for(var He=0;He<Je;He++)Ge[He]=arguments[He+2];me.children=Ge}return{$$typeof:n,type:j.type,key:Ce,ref:Ae,props:me,_owner:Be}},qe.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:l,_context:j},j.Consumer=j},qe.createElement=I,qe.createFactory=function(j){var q=I.bind(null,j);return q.type=j,q},qe.createRef=function(){return{current:null}},qe.forwardRef=function(j){return{$$typeof:h,render:j}},qe.isValidElement=N,qe.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:je}},qe.memo=function(j,q){return{$$typeof:y,type:j,compare:q===void 0?null:q}},qe.startTransition=function(j){var q=ae.transition;ae.transition={};try{j()}finally{ae.transition=q}},qe.unstable_act=$,qe.useCallback=function(j,q){return Fe.current.useCallback(j,q)},qe.useContext=function(j){return Fe.current.useContext(j)},qe.useDebugValue=function(){},qe.useDeferredValue=function(j){return Fe.current.useDeferredValue(j)},qe.useEffect=function(j,q){return Fe.current.useEffect(j,q)},qe.useId=function(){return Fe.current.useId()},qe.useImperativeHandle=function(j,q,ie){return Fe.current.useImperativeHandle(j,q,ie)},qe.useInsertionEffect=function(j,q){return Fe.current.useInsertionEffect(j,q)},qe.useLayoutEffect=function(j,q){return Fe.current.useLayoutEffect(j,q)},qe.useMemo=function(j,q){return Fe.current.useMemo(j,q)},qe.useReducer=function(j,q,ie){return Fe.current.useReducer(j,q,ie)},qe.useRef=function(j){return Fe.current.useRef(j)},qe.useState=function(j){return Fe.current.useState(j)},qe.useSyncExternalStore=function(j,q,ie){return Fe.current.useSyncExternalStore(j,q,ie)},qe.useTransition=function(){return Fe.current.useTransition()},qe.version="18.3.1",qe}var Qg;function Vc(){return Qg||(Qg=1,jh.exports=nT()),jh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function rT(){if(Xg)return Za;Xg=1;var n=Vc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,y){var v,T={},x=null,A=null;y!==void 0&&(x=""+y),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(A=f.ref);for(v in f)i.call(f,v)&&!l.hasOwnProperty(v)&&(T[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)T[v]===void 0&&(T[v]=f[v]);return{$$typeof:e,type:h,key:x,ref:A,props:T,_owner:o.current}}return Za.Fragment=t,Za.jsx=c,Za.jsxs=c,Za}var Yg;function iT(){return Yg||(Yg=1,Vh.exports=rT()),Vh.exports}var R=iT(),B=Vc();const lt=a_(B);var Hu={},Fh={exports:{}},Un={},Uh={exports:{}},Bh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function sT(){return Jg||(Jg=1,function(n){function e(ae,te){var $=ae.length;ae.push(te);e:for(;0<$;){var j=$-1>>>1,q=ae[j];if(0<o(q,te))ae[j]=te,ae[$]=q,$=j;else break e}}function t(ae){return ae.length===0?null:ae[0]}function i(ae){if(ae.length===0)return null;var te=ae[0],$=ae.pop();if($!==te){ae[0]=$;e:for(var j=0,q=ae.length,ie=q>>>1;j<ie;){var me=2*(j+1)-1,Ce=ae[me],Ae=me+1,Be=ae[Ae];if(0>o(Ce,$))Ae<q&&0>o(Be,Ce)?(ae[j]=Be,ae[Ae]=$,j=Ae):(ae[j]=Ce,ae[me]=$,j=me);else if(Ae<q&&0>o(Be,$))ae[j]=Be,ae[Ae]=$,j=Ae;else break e}}return te}function o(ae,te){var $=ae.sortIndex-te.sortIndex;return $!==0?$:ae.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],y=[],v=1,T=null,x=3,A=!1,O=!1,z=!1,V=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(ae){for(var te=t(y);te!==null;){if(te.callback===null)i(y);else if(te.startTime<=ae)i(y),te.sortIndex=te.expirationTime,e(f,te);else break;te=t(y)}}function ne(ae){if(z=!1,J(ae),!O)if(t(f)!==null)O=!0,je(de);else{var te=t(y);te!==null&&Fe(ne,te.startTime-ae)}}function de(ae,te){O=!1,z&&(z=!1,G(I),I=-1),A=!0;var $=x;try{for(J(te),T=t(f);T!==null&&(!(T.expirationTime>te)||ae&&!L());){var j=T.callback;if(typeof j=="function"){T.callback=null,x=T.priorityLevel;var q=j(T.expirationTime<=te);te=n.unstable_now(),typeof q=="function"?T.callback=q:T===t(f)&&i(f),J(te)}else i(f);T=t(f)}if(T!==null)var ie=!0;else{var me=t(y);me!==null&&Fe(ne,me.startTime-te),ie=!1}return ie}finally{T=null,x=$,A=!1}}var F=!1,P=null,I=-1,C=5,N=-1;function L(){return!(n.unstable_now()-N<C)}function b(){if(P!==null){var ae=n.unstable_now();N=ae;var te=!0;try{te=P(!0,ae)}finally{te?S():(F=!1,P=null)}}else F=!1}var S;if(typeof K=="function")S=function(){K(b)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,ke=Ie.port2;Ie.port1.onmessage=b,S=function(){ke.postMessage(null)}}else S=function(){V(b,0)};function je(ae){P=ae,F||(F=!0,S())}function Fe(ae,te){I=V(function(){ae(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){O||A||(O=!0,je(de))},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ae){switch(x){case 1:case 2:case 3:var te=3;break;default:te=x}var $=x;x=te;try{return ae()}finally{x=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,te){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var $=x;x=ae;try{return te()}finally{x=$}},n.unstable_scheduleCallback=function(ae,te,$){var j=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?j+$:j):$=j,ae){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=$+q,ae={id:v++,callback:te,priorityLevel:ae,startTime:$,expirationTime:q,sortIndex:-1},$>j?(ae.sortIndex=$,e(y,ae),t(f)===null&&ae===t(y)&&(z?(G(I),I=-1):z=!0,Fe(ne,$-j))):(ae.sortIndex=q,e(f,ae),O||A||(O=!0,je(de))),ae},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ae){var te=x;return function(){var $=x;x=te;try{return ae.apply(this,arguments)}finally{x=$}}}}(Bh)),Bh}var Zg;function oT(){return Zg||(Zg=1,Uh.exports=sT()),Uh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function aT(){if(ey)return Un;ey=1;var n=Vc(),e=oT();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},T={};function x(r){return f.call(T,r)?!0:f.call(v,r)?!1:y.test(r)?T[r]=!0:(v[r]=!0,!1)}function A(r,s,a,d){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function O(r,s,a,d){if(s===null||typeof s>"u"||A(r,s,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function z(r,s,a,d,p,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){V[r]=new z(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];V[s]=new z(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){V[r]=new z(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){V[r]=new z(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){V[r]=new z(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){V[r]=new z(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){V[r]=new z(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){V[r]=new z(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){V[r]=new z(r,5,!1,r.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function K(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(G,K);V[s]=new z(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(G,K);V[s]=new z(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(G,K);V[s]=new z(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){V[r]=new z(r,1,!1,r.toLowerCase(),null,!1,!1)}),V.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){V[r]=new z(r,1,!1,r.toLowerCase(),null,!0,!0)});function J(r,s,a,d){var p=V.hasOwnProperty(s)?V[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,a,p,d)&&(a=null),d||p===null?x(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):p.mustUseProperty?r[p.propertyName]=a===null?p.type===3?!1:"":a:(s=p.attributeName,d=p.attributeNamespace,a===null?r.removeAttribute(s):(p=p.type,a=p===3||p===4&&a===!0?"":""+a,d?r.setAttributeNS(d,s,a):r.setAttribute(s,a))))}var ne=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),F=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),L=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),ae=Symbol.iterator;function te(r){return r===null||typeof r!="object"?null:(r=ae&&r[ae]||r["@@iterator"],typeof r=="function"?r:null)}var $=Object.assign,j;function q(r){if(j===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return`
`+j+r}var ie=!1;function me(r,s){if(!r||ie)return"";ie=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Z){var d=Z}Reflect.construct(r,[],s)}else{try{s.call()}catch(Z){d=Z}r.call(s.prototype)}else{try{throw Error()}catch(Z){d=Z}r()}}catch(Z){if(Z&&d&&typeof Z.stack=="string"){for(var p=Z.stack.split(`
`),g=d.stack.split(`
`),w=p.length-1,k=g.length-1;1<=w&&0<=k&&p[w]!==g[k];)k--;for(;1<=w&&0<=k;w--,k--)if(p[w]!==g[k]){if(w!==1||k!==1)do if(w--,k--,0>k||p[w]!==g[k]){var M=`
`+p[w].replace(" at new "," at ");return r.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",r.displayName)),M}while(1<=w&&0<=k);break}}}finally{ie=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?q(r):""}function Ce(r){switch(r.tag){case 5:return q(r.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return r=me(r.type,!1),r;case 11:return r=me(r.type.render,!1),r;case 1:return r=me(r.type,!0),r;default:return""}}function Ae(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case F:return"Portal";case C:return"Profiler";case I:return"StrictMode";case S:return"Suspense";case Ie:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case L:return(r.displayName||"Context")+".Consumer";case N:return(r._context.displayName||"Context")+".Provider";case b:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ke:return s=r.displayName||null,s!==null?s:Ae(r.type)||"Memo";case je:s=r._payload,r=r._init;try{return Ae(r(s))}catch{}}return null}function Be(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ge(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Je(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function He(r){var s=Je(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){d=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function dt(r){r._valueTracker||(r._valueTracker=He(r))}function Yt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),d="";return r&&(d=Je(r)?r.checked?"true":"false":r.value),r=d,r!==a?(s.setValue(r),!0):!1}function Gt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ct(r,s){var a=s.checked;return $({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function ct(r,s){var a=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;a=Ge(s.value!=null?s.value:a),r._wrapperState={initialChecked:d,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function jt(r,s){s=s.checked,s!=null&&J(r,"checked",s,!1)}function Nt(r,s){jt(r,s);var a=Ge(s.value),d=s.type;if(a!=null)d==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?zn(r,s.type,a):s.hasOwnProperty("defaultValue")&&zn(r,s.type,Ge(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function wt(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function zn(r,s,a){(s!=="number"||Gt(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var xn=Array.isArray;function Ft(r,s,a,d){if(r=r.options,s){s={};for(var p=0;p<a.length;p++)s["$"+a[p]]=!0;for(a=0;a<r.length;a++)p=s.hasOwnProperty("$"+r[a].value),r[a].selected!==p&&(r[a].selected=p),p&&d&&(r[a].defaultSelected=!0)}else{for(a=""+Ge(a),s=null,p=0;p<r.length;p++){if(r[p].value===a){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Dt(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return $({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function sn(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(xn(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Ge(a)}}function fr(r,s){var a=Ge(s.value),d=Ge(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),d!=null&&(r.defaultValue=""+d)}function ni(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function yt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?yt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Xn,ri=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,a,d,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Xn=Xn||document.createElement("div"),Xn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Xn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function br(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var fn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nr=["Webkit","ms","Moz","O"];Object.keys(fn).forEach(function(r){Nr.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),fn[s]=fn[r]})});function Di(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||fn.hasOwnProperty(r)&&fn[r]?(""+s).trim():s+"px"}function Oi(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var d=a.indexOf("--")===0,p=Di(a,s[a],d);a==="float"&&(a="cssFloat"),d?r.setProperty(a,p):r[a]=p}}var Rs=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Li(r,s){if(s){if(Rs[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Dr(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Or=null;function Lr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Mi=null,Rn=null,Yn=null;function ii(r){if(r=ja(r)){if(typeof Mi!="function")throw Error(t(280));var s=r.stateNode;s&&(s=su(s),Mi(r.stateNode,r.type,s))}}function Pn(r){Rn?Yn?Yn.push(r):Yn=[r]:Rn=r}function Mr(){if(Rn){var r=Rn,s=Yn;if(Yn=Rn=null,ii(r),s)for(r=0;r<s.length;r++)ii(s[r])}}function si(r,s){return r(s)}function Ps(){}var D=!1;function H(r,s,a){if(D)return r(s,a);D=!0;try{return si(r,s,a)}finally{D=!1,(Rn!==null||Yn!==null)&&(Ps(),Mr())}}function X(r,s){var a=r.stateNode;if(a===null)return null;var d=su(a);if(d===null)return null;a=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var se=!1;if(h)try{var pe={};Object.defineProperty(pe,"passive",{get:function(){se=!0}}),window.addEventListener("test",pe,pe),window.removeEventListener("test",pe,pe)}catch{se=!1}function xe(r,s,a,d,p,g,w,k,M){var Z=Array.prototype.slice.call(arguments,3);try{s.apply(a,Z)}catch(le){this.onError(le)}}var be=!1,we=null,ye=!1,ge=null,Le={onError:function(r){be=!0,we=r}};function Ue(r,s,a,d,p,g,w,k,M){be=!1,we=null,xe.apply(Le,arguments)}function ft(r,s,a,d,p,g,w,k,M){if(Ue.apply(this,arguments),be){if(be){var Z=we;be=!1,we=null}else throw Error(t(198));ye||(ye=!0,ge=Z)}}function pt(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function ut(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function We(r){if(pt(r)!==r)throw Error(t(188))}function St(r){var s=r.alternate;if(!s){if(s=pt(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,d=s;;){var p=a.return;if(p===null)break;var g=p.alternate;if(g===null){if(d=p.return,d!==null){a=d;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===a)return We(p),r;if(g===d)return We(p),s;g=g.sibling}throw Error(t(188))}if(a.return!==d.return)a=p,d=g;else{for(var w=!1,k=p.child;k;){if(k===a){w=!0,a=p,d=g;break}if(k===d){w=!0,d=p,a=g;break}k=k.sibling}if(!w){for(k=g.child;k;){if(k===a){w=!0,a=g,d=p;break}if(k===d){w=!0,d=g,a=p;break}k=k.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==d)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function Jn(r){return r=St(r),r!==null?Zn(r):null}function Zn(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Zn(r);if(s!==null)return s;r=r.sibling}return null}var pn=e.unstable_scheduleCallback,mn=e.unstable_cancelCallback,Vi=e.unstable_shouldYield,oi=e.unstable_requestPaint,Ze=e.unstable_now,ai=e.unstable_getCurrentPriorityLevel,er=e.unstable_ImmediatePriority,Xe=e.unstable_UserBlockingPriority,mt=e.unstable_NormalPriority,Vr=e.unstable_LowPriority,jr=e.unstable_IdlePriority,vt=null,Ut=null;function As(r){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(vt,r,void 0,(r.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:Vl,Ta=Math.log,Ml=Math.LN2;function Vl(r){return r>>>=0,r===0?32:31-(Ta(r)/Ml|0)|0}var ho=64,fo=4194304;function ji(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ks(r,s){var a=r.pendingLanes;if(a===0)return 0;var d=0,p=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var k=w&~p;k!==0?d=ji(k):(g&=w,g!==0&&(d=ji(g)))}else w=a&~p,w!==0?d=ji(w):g!==0&&(d=ji(g));if(d===0)return 0;if(s!==0&&s!==d&&!(s&p)&&(p=d&-d,g=s&-s,p>=g||p===16&&(g&4194240)!==0))return s;if(d&4&&(d|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)a=31-on(s),p=1<<a,d|=r[a],s&=~p;return d}function fd(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function li(r,s){for(var a=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-on(g),k=1<<w,M=p[w];M===-1?(!(k&a)||k&d)&&(p[w]=fd(k,s)):M<=s&&(r.expiredLanes|=k),g&=~k}}function $n(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function bs(){var r=ho;return ho<<=1,!(ho&4194240)&&(ho=64),r}function Fi(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Ui(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-on(s),r[s]=a}function _t(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<a;){var p=31-on(a),g=1<<p;s[p]=0,d[p]=-1,r[p]=-1,a&=~g}}function Bi(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var d=31-on(a),p=1<<d;p&s|r[d]&s&&(r[d]|=s),a&=~p}}var Ye=0;function zi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var jl,po,Fl,Ul,Bl,Ia=!1,Fr=[],an=null,pr=null,mr=null,$i=new Map,tr=new Map,Ur=[],pd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zl(r,s){switch(r){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":$i.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":tr.delete(s.pointerId)}}function Dn(r,s,a,d,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:d,nativeEvent:g,targetContainers:[p]},s!==null&&(s=ja(s),s!==null&&po(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function md(r,s,a,d,p){switch(s){case"focusin":return an=Dn(an,r,s,a,d,p),!0;case"dragenter":return pr=Dn(pr,r,s,a,d,p),!0;case"mouseover":return mr=Dn(mr,r,s,a,d,p),!0;case"pointerover":var g=p.pointerId;return $i.set(g,Dn($i.get(g)||null,r,s,a,d,p)),!0;case"gotpointercapture":return g=p.pointerId,tr.set(g,Dn(tr.get(g)||null,r,s,a,d,p)),!0}return!1}function $l(r){var s=Ms(r.target);if(s!==null){var a=pt(s);if(a!==null){if(s=a.tag,s===13){if(s=ut(a),s!==null){r.blockedOn=s,Bl(r.priority,function(){Fl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ui(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=mo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var d=new a.constructor(a.type,a);Or=d,a.target.dispatchEvent(d),Or=null}else return s=ja(a),s!==null&&po(s),r.blockedOn=a,!1;s.shift()}return!0}function Ns(r,s,a){ui(r)&&a.delete(s)}function Hl(){Ia=!1,an!==null&&ui(an)&&(an=null),pr!==null&&ui(pr)&&(pr=null),mr!==null&&ui(mr)&&(mr=null),$i.forEach(Ns),tr.forEach(Ns)}function gr(r,s){r.blockedOn===s&&(r.blockedOn=null,Ia||(Ia=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hl)))}function yr(r){function s(p){return gr(p,r)}if(0<Fr.length){gr(Fr[0],r);for(var a=1;a<Fr.length;a++){var d=Fr[a];d.blockedOn===r&&(d.blockedOn=null)}}for(an!==null&&gr(an,r),pr!==null&&gr(pr,r),mr!==null&&gr(mr,r),$i.forEach(s),tr.forEach(s),a=0;a<Ur.length;a++)d=Ur[a],d.blockedOn===r&&(d.blockedOn=null);for(;0<Ur.length&&(a=Ur[0],a.blockedOn===null);)$l(a),a.blockedOn===null&&Ur.shift()}var ci=ne.ReactCurrentBatchConfig,Hi=!0;function xt(r,s,a,d){var p=Ye,g=ci.transition;ci.transition=null;try{Ye=1,Ca(r,s,a,d)}finally{Ye=p,ci.transition=g}}function gd(r,s,a,d){var p=Ye,g=ci.transition;ci.transition=null;try{Ye=4,Ca(r,s,a,d)}finally{Ye=p,ci.transition=g}}function Ca(r,s,a,d){if(Hi){var p=mo(r,s,a,d);if(p===null)Rd(r,s,d,Ds,a),zl(r,d);else if(md(p,r,s,a,d))d.stopPropagation();else if(zl(r,d),s&4&&-1<pd.indexOf(r)){for(;p!==null;){var g=ja(p);if(g!==null&&jl(g),g=mo(r,s,a,d),g===null&&Rd(r,s,d,Ds,a),g===p)break;p=g}p!==null&&d.stopPropagation()}else Rd(r,s,d,null,a)}}var Ds=null;function mo(r,s,a,d){if(Ds=null,r=Lr(d),r=Ms(r),r!==null)if(s=pt(r),s===null)r=null;else if(a=s.tag,a===13){if(r=ut(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ds=r,null}function Sa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ai()){case er:return 1;case Xe:return 4;case mt:case Vr:return 16;case jr:return 536870912;default:return 16}default:return 16}}var Hn=null,go=null,On=null;function xa(){if(On)return On;var r,s=go,a=s.length,d,p="value"in Hn?Hn.value:Hn.textContent,g=p.length;for(r=0;r<a&&s[r]===p[r];r++);var w=a-r;for(d=1;d<=w&&s[a-d]===p[g-d];d++);return On=p.slice(r,1<d?1-d:void 0)}function yo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Br(){return!0}function Ra(){return!1}function ln(r){function s(a,d,p,g,w){this._reactName=a,this._targetInst=p,this.type=d,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(a=r[k],this[k]=a?a(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Br:Ra,this.isPropagationStopped=Ra,this}return $(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),s}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vo=ln(vr),zr=$({},vr,{view:0,detail:0}),yd=ln(zr),_o,di,Gi,Os=$({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$r,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Gi&&(Gi&&r.type==="mousemove"?(_o=r.screenX-Gi.screenX,di=r.screenY-Gi.screenY):di=_o=0,Gi=r),_o)},movementY:function(r){return"movementY"in r?r.movementY:di}}),wo=ln(Os),Pa=$({},Os,{dataTransfer:0}),Gl=ln(Pa),Eo=$({},zr,{relatedTarget:0}),To=ln(Eo),ql=$({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),hi=ln(ql),Wl=$({},vr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Kl=ln(Wl),Ql=$({},vr,{data:0}),Aa=ln(Ql),Io={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Xl[r])?!!s[r]:!1}function $r(){return Yl}var u=$({},zr,{key:function(r){if(r.key){var s=Io[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=yo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?An[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$r,charCode:function(r){return r.type==="keypress"?yo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?yo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=ln(u),_=$({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=ln(_),W=$({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$r}),ee=ln(W),fe=$({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gt=ln(fe),qt=$({},Os,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),et=ln(qt),Jt=[9,13,27,32],Bt=h&&"CompositionEvent"in window,nr=null;h&&"documentMode"in document&&(nr=document.documentMode);var Gn=h&&"TextEvent"in window&&!nr,Ls=h&&(!Bt||nr&&8<nr&&11>=nr),Co=" ",zp=!1;function $p(r,s){switch(r){case"keyup":return Jt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var So=!1;function Yw(r,s){switch(r){case"compositionend":return Hp(s);case"keypress":return s.which!==32?null:(zp=!0,Co);case"textInput":return r=s.data,r===Co&&zp?null:r;default:return null}}function Jw(r,s){if(So)return r==="compositionend"||!Bt&&$p(r,s)?(r=xa(),On=go=Hn=null,So=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ls&&s.locale!=="ko"?null:s.data;default:return null}}var Zw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Zw[r.type]:s==="textarea"}function qp(r,s,a,d){Pn(d),s=nu(s,"onChange"),0<s.length&&(a=new vo("onChange","change",null,a,d),r.push({event:a,listeners:s}))}var ka=null,ba=null;function eE(r){cm(r,0)}function Jl(r){var s=ko(r);if(Yt(s))return r}function tE(r,s){if(r==="change")return s}var Wp=!1;if(h){var vd;if(h){var _d="oninput"in document;if(!_d){var Kp=document.createElement("div");Kp.setAttribute("oninput","return;"),_d=typeof Kp.oninput=="function"}vd=_d}else vd=!1;Wp=vd&&(!document.documentMode||9<document.documentMode)}function Qp(){ka&&(ka.detachEvent("onpropertychange",Xp),ba=ka=null)}function Xp(r){if(r.propertyName==="value"&&Jl(ba)){var s=[];qp(s,ba,r,Lr(r)),H(eE,s)}}function nE(r,s,a){r==="focusin"?(Qp(),ka=s,ba=a,ka.attachEvent("onpropertychange",Xp)):r==="focusout"&&Qp()}function rE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Jl(ba)}function iE(r,s){if(r==="click")return Jl(s)}function sE(r,s){if(r==="input"||r==="change")return Jl(s)}function oE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var _r=typeof Object.is=="function"?Object.is:oE;function Na(r,s){if(_r(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),d=Object.keys(s);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var p=a[d];if(!f.call(s,p)||!_r(r[p],s[p]))return!1}return!0}function Yp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Jp(r,s){var a=Yp(r);r=0;for(var d;a;){if(a.nodeType===3){if(d=r+a.textContent.length,r<=s&&d>=s)return{node:a,offset:s-r};r=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yp(a)}}function Zp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Zp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function em(){for(var r=window,s=Gt();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Gt(r.document)}return s}function wd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function aE(r){var s=em(),a=r.focusedElem,d=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Zp(a.ownerDocument.documentElement,a)){if(d!==null&&wd(a)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=a.textContent.length,g=Math.min(d.start,p);d=d.end===void 0?g:Math.min(d.end,p),!r.extend&&g>d&&(p=d,d=g,g=p),p=Jp(a,g);var w=Jp(a,d);p&&w&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),g>d?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var lE=h&&"documentMode"in document&&11>=document.documentMode,xo=null,Ed=null,Da=null,Td=!1;function tm(r,s,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Td||xo==null||xo!==Gt(d)||(d=xo,"selectionStart"in d&&wd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Da&&Na(Da,d)||(Da=d,d=nu(Ed,"onSelect"),0<d.length&&(s=new vo("onSelect","select",null,s,a),r.push({event:s,listeners:d}),s.target=xo)))}function Zl(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Ro={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionend:Zl("Transition","TransitionEnd")},Id={},nm={};h&&(nm=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function eu(r){if(Id[r])return Id[r];if(!Ro[r])return r;var s=Ro[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in nm)return Id[r]=s[a];return r}var rm=eu("animationend"),im=eu("animationiteration"),sm=eu("animationstart"),om=eu("transitionend"),am=new Map,lm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(r,s){am.set(r,s),l(s,[r])}for(var Cd=0;Cd<lm.length;Cd++){var Sd=lm[Cd],uE=Sd.toLowerCase(),cE=Sd[0].toUpperCase()+Sd.slice(1);qi(uE,"on"+cE)}qi(rm,"onAnimationEnd"),qi(im,"onAnimationIteration"),qi(sm,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(om,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oa));function um(r,s,a){var d=r.type||"unknown-event";r.currentTarget=a,ft(d,s,void 0,r),r.currentTarget=null}function cm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var d=r[a],p=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var w=d.length-1;0<=w;w--){var k=d[w],M=k.instance,Z=k.currentTarget;if(k=k.listener,M!==g&&p.isPropagationStopped())break e;um(p,k,Z),g=M}else for(w=0;w<d.length;w++){if(k=d[w],M=k.instance,Z=k.currentTarget,k=k.listener,M!==g&&p.isPropagationStopped())break e;um(p,k,Z),g=M}}}if(ye)throw r=ge,ye=!1,ge=null,r}function Tt(r,s){var a=s[Dd];a===void 0&&(a=s[Dd]=new Set);var d=r+"__bubble";a.has(d)||(dm(s,r,2,!1),a.add(d))}function xd(r,s,a){var d=0;s&&(d|=4),dm(a,r,d,s)}var tu="_reactListening"+Math.random().toString(36).slice(2);function La(r){if(!r[tu]){r[tu]=!0,i.forEach(function(a){a!=="selectionchange"&&(dE.has(a)||xd(a,!1,r),xd(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[tu]||(s[tu]=!0,xd("selectionchange",!1,s))}}function dm(r,s,a,d){switch(Sa(s)){case 1:var p=xt;break;case 4:p=gd;break;default:p=Ca}a=p.bind(null,s,a,r),p=void 0,!se||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,a,{capture:!0,passive:p}):r.addEventListener(s,a,!0):p!==void 0?r.addEventListener(s,a,{passive:p}):r.addEventListener(s,a,!1)}function Rd(r,s,a,d,p){var g=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var k=d.stateNode.containerInfo;if(k===p||k.nodeType===8&&k.parentNode===p)break;if(w===4)for(w=d.return;w!==null;){var M=w.tag;if((M===3||M===4)&&(M=w.stateNode.containerInfo,M===p||M.nodeType===8&&M.parentNode===p))return;w=w.return}for(;k!==null;){if(w=Ms(k),w===null)return;if(M=w.tag,M===5||M===6){d=g=w;continue e}k=k.parentNode}}d=d.return}H(function(){var Z=g,le=Lr(a),ue=[];e:{var oe=am.get(r);if(oe!==void 0){var ve=vo,Se=r;switch(r){case"keypress":if(yo(a)===0)break e;case"keydown":case"keyup":ve=m;break;case"focusin":Se="focus",ve=To;break;case"focusout":Se="blur",ve=To;break;case"beforeblur":case"afterblur":ve=To;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Gl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=ee;break;case rm:case im:case sm:ve=hi;break;case om:ve=gt;break;case"scroll":ve=yd;break;case"wheel":ve=et;break;case"copy":case"cut":case"paste":ve=Kl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=E}var Re=(s&4)!==0,Lt=!Re&&r==="scroll",Q=Re?oe!==null?oe+"Capture":null:oe;Re=[];for(var U=Z,Y;U!==null;){Y=U;var he=Y.stateNode;if(Y.tag===5&&he!==null&&(Y=he,Q!==null&&(he=X(U,Q),he!=null&&Re.push(Ma(U,he,Y)))),Lt)break;U=U.return}0<Re.length&&(oe=new ve(oe,Se,null,a,le),ue.push({event:oe,listeners:Re}))}}if(!(s&7)){e:{if(oe=r==="mouseover"||r==="pointerover",ve=r==="mouseout"||r==="pointerout",oe&&a!==Or&&(Se=a.relatedTarget||a.fromElement)&&(Ms(Se)||Se[fi]))break e;if((ve||oe)&&(oe=le.window===le?le:(oe=le.ownerDocument)?oe.defaultView||oe.parentWindow:window,ve?(Se=a.relatedTarget||a.toElement,ve=Z,Se=Se?Ms(Se):null,Se!==null&&(Lt=pt(Se),Se!==Lt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(ve=null,Se=Z),ve!==Se)){if(Re=wo,he="onMouseLeave",Q="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(Re=E,he="onPointerLeave",Q="onPointerEnter",U="pointer"),Lt=ve==null?oe:ko(ve),Y=Se==null?oe:ko(Se),oe=new Re(he,U+"leave",ve,a,le),oe.target=Lt,oe.relatedTarget=Y,he=null,Ms(le)===Z&&(Re=new Re(Q,U+"enter",Se,a,le),Re.target=Y,Re.relatedTarget=Lt,he=Re),Lt=he,ve&&Se)t:{for(Re=ve,Q=Se,U=0,Y=Re;Y;Y=Po(Y))U++;for(Y=0,he=Q;he;he=Po(he))Y++;for(;0<U-Y;)Re=Po(Re),U--;for(;0<Y-U;)Q=Po(Q),Y--;for(;U--;){if(Re===Q||Q!==null&&Re===Q.alternate)break t;Re=Po(Re),Q=Po(Q)}Re=null}else Re=null;ve!==null&&hm(ue,oe,ve,Re,!1),Se!==null&&Lt!==null&&hm(ue,Lt,Se,Re,!0)}}e:{if(oe=Z?ko(Z):window,ve=oe.nodeName&&oe.nodeName.toLowerCase(),ve==="select"||ve==="input"&&oe.type==="file")var Pe=tE;else if(Gp(oe))if(Wp)Pe=sE;else{Pe=rE;var Ne=nE}else(ve=oe.nodeName)&&ve.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Pe=iE);if(Pe&&(Pe=Pe(r,Z))){qp(ue,Pe,a,le);break e}Ne&&Ne(r,oe,Z),r==="focusout"&&(Ne=oe._wrapperState)&&Ne.controlled&&oe.type==="number"&&zn(oe,"number",oe.value)}switch(Ne=Z?ko(Z):window,r){case"focusin":(Gp(Ne)||Ne.contentEditable==="true")&&(xo=Ne,Ed=Z,Da=null);break;case"focusout":Da=Ed=xo=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,tm(ue,a,le);break;case"selectionchange":if(lE)break;case"keydown":case"keyup":tm(ue,a,le)}var De;if(Bt)e:{switch(r){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else So?$p(r,a)&&(Me="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Ls&&a.locale!=="ko"&&(So||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&So&&(De=xa()):(Hn=le,go="value"in Hn?Hn.value:Hn.textContent,So=!0)),Ne=nu(Z,Me),0<Ne.length&&(Me=new Aa(Me,r,null,a,le),ue.push({event:Me,listeners:Ne}),De?Me.data=De:(De=Hp(a),De!==null&&(Me.data=De)))),(De=Gn?Yw(r,a):Jw(r,a))&&(Z=nu(Z,"onBeforeInput"),0<Z.length&&(le=new Aa("onBeforeInput","beforeinput",null,a,le),ue.push({event:le,listeners:Z}),le.data=De))}cm(ue,s)})}function Ma(r,s,a){return{instance:r,listener:s,currentTarget:a}}function nu(r,s){for(var a=s+"Capture",d=[];r!==null;){var p=r,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=X(r,a),g!=null&&d.unshift(Ma(r,g,p)),g=X(r,s),g!=null&&d.push(Ma(r,g,p))),r=r.return}return d}function Po(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function hm(r,s,a,d,p){for(var g=s._reactName,w=[];a!==null&&a!==d;){var k=a,M=k.alternate,Z=k.stateNode;if(M!==null&&M===d)break;k.tag===5&&Z!==null&&(k=Z,p?(M=X(a,g),M!=null&&w.unshift(Ma(a,M,k))):p||(M=X(a,g),M!=null&&w.push(Ma(a,M,k)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var hE=/\r\n?/g,fE=/\u0000|\uFFFD/g;function fm(r){return(typeof r=="string"?r:""+r).replace(hE,`
`).replace(fE,"")}function ru(r,s,a){if(s=fm(s),fm(r)!==s&&a)throw Error(t(425))}function iu(){}var Pd=null,Ad=null;function kd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var bd=typeof setTimeout=="function"?setTimeout:void 0,pE=typeof clearTimeout=="function"?clearTimeout:void 0,pm=typeof Promise=="function"?Promise:void 0,mE=typeof queueMicrotask=="function"?queueMicrotask:typeof pm<"u"?function(r){return pm.resolve(null).then(r).catch(gE)}:bd;function gE(r){setTimeout(function(){throw r})}function Nd(r,s){var a=s,d=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(d===0){r.removeChild(p),yr(s);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=p}while(a);yr(s)}function Wi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function mm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),Hr="__reactFiber$"+Ao,Va="__reactProps$"+Ao,fi="__reactContainer$"+Ao,Dd="__reactEvents$"+Ao,yE="__reactListeners$"+Ao,vE="__reactHandles$"+Ao;function Ms(r){var s=r[Hr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[fi]||a[Hr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=mm(r);r!==null;){if(a=r[Hr])return a;r=mm(r)}return s}r=a,a=r.parentNode}return null}function ja(r){return r=r[Hr]||r[fi],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ko(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function su(r){return r[Va]||null}var Od=[],bo=-1;function Ki(r){return{current:r}}function It(r){0>bo||(r.current=Od[bo],Od[bo]=null,bo--)}function Et(r,s){bo++,Od[bo]=r.current,r.current=s}var Qi={},gn=Ki(Qi),Ln=Ki(!1),Vs=Qi;function No(r,s){var a=r.type.contextTypes;if(!a)return Qi;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in a)p[g]=s[g];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function Mn(r){return r=r.childContextTypes,r!=null}function ou(){It(Ln),It(gn)}function gm(r,s,a){if(gn.current!==Qi)throw Error(t(168));Et(gn,s),Et(Ln,a)}function ym(r,s,a){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,Be(r)||"Unknown",p));return $({},a,d)}function au(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Qi,Vs=gn.current,Et(gn,r),Et(Ln,Ln.current),!0}function vm(r,s,a){var d=r.stateNode;if(!d)throw Error(t(169));a?(r=ym(r,s,Vs),d.__reactInternalMemoizedMergedChildContext=r,It(Ln),It(gn),Et(gn,r)):It(Ln),Et(Ln,a)}var pi=null,lu=!1,Ld=!1;function _m(r){pi===null?pi=[r]:pi.push(r)}function _E(r){lu=!0,_m(r)}function Xi(){if(!Ld&&pi!==null){Ld=!0;var r=0,s=Ye;try{var a=pi;for(Ye=1;r<a.length;r++){var d=a[r];do d=d(!0);while(d!==null)}pi=null,lu=!1}catch(p){throw pi!==null&&(pi=pi.slice(r+1)),pn(er,Xi),p}finally{Ye=s,Ld=!1}}return null}var Do=[],Oo=0,uu=null,cu=0,rr=[],ir=0,js=null,mi=1,gi="";function Fs(r,s){Do[Oo++]=cu,Do[Oo++]=uu,uu=r,cu=s}function wm(r,s,a){rr[ir++]=mi,rr[ir++]=gi,rr[ir++]=js,js=r;var d=mi;r=gi;var p=32-on(d)-1;d&=~(1<<p),a+=1;var g=32-on(s)+p;if(30<g){var w=p-p%5;g=(d&(1<<w)-1).toString(32),d>>=w,p-=w,mi=1<<32-on(s)+p|a<<p|d,gi=g+r}else mi=1<<g|a<<p|d,gi=r}function Md(r){r.return!==null&&(Fs(r,1),wm(r,1,0))}function Vd(r){for(;r===uu;)uu=Do[--Oo],Do[Oo]=null,cu=Do[--Oo],Do[Oo]=null;for(;r===js;)js=rr[--ir],rr[ir]=null,gi=rr[--ir],rr[ir]=null,mi=rr[--ir],rr[ir]=null}var qn=null,Wn=null,Rt=!1,wr=null;function Em(r,s){var a=lr(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Tm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,qn=r,Wn=Wi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,qn=r,Wn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=js!==null?{id:mi,overflow:gi}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=lr(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,qn=r,Wn=null,!0):!1;default:return!1}}function jd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Fd(r){if(Rt){var s=Wn;if(s){var a=s;if(!Tm(r,s)){if(jd(r))throw Error(t(418));s=Wi(a.nextSibling);var d=qn;s&&Tm(r,s)?Em(d,a):(r.flags=r.flags&-4097|2,Rt=!1,qn=r)}}else{if(jd(r))throw Error(t(418));r.flags=r.flags&-4097|2,Rt=!1,qn=r}}}function Im(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;qn=r}function du(r){if(r!==qn)return!1;if(!Rt)return Im(r),Rt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!kd(r.type,r.memoizedProps)),s&&(s=Wn)){if(jd(r))throw Cm(),Error(t(418));for(;s;)Em(r,s),s=Wi(s.nextSibling)}if(Im(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){Wn=Wi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}Wn=null}}else Wn=qn?Wi(r.stateNode.nextSibling):null;return!0}function Cm(){for(var r=Wn;r;)r=Wi(r.nextSibling)}function Lo(){Wn=qn=null,Rt=!1}function Ud(r){wr===null?wr=[r]:wr.push(r)}var wE=ne.ReactCurrentBatchConfig;function Fa(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var d=a.stateNode}if(!d)throw Error(t(147,r));var p=d,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var k=p.refs;w===null?delete k[g]:k[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function hu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Sm(r){var s=r._init;return s(r._payload)}function xm(r){function s(Q,U){if(r){var Y=Q.deletions;Y===null?(Q.deletions=[U],Q.flags|=16):Y.push(U)}}function a(Q,U){if(!r)return null;for(;U!==null;)s(Q,U),U=U.sibling;return null}function d(Q,U){for(Q=new Map;U!==null;)U.key!==null?Q.set(U.key,U):Q.set(U.index,U),U=U.sibling;return Q}function p(Q,U){return Q=is(Q,U),Q.index=0,Q.sibling=null,Q}function g(Q,U,Y){return Q.index=Y,r?(Y=Q.alternate,Y!==null?(Y=Y.index,Y<U?(Q.flags|=2,U):Y):(Q.flags|=2,U)):(Q.flags|=1048576,U)}function w(Q){return r&&Q.alternate===null&&(Q.flags|=2),Q}function k(Q,U,Y,he){return U===null||U.tag!==6?(U=bh(Y,Q.mode,he),U.return=Q,U):(U=p(U,Y),U.return=Q,U)}function M(Q,U,Y,he){var Pe=Y.type;return Pe===P?le(Q,U,Y.props.children,he,Y.key):U!==null&&(U.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===je&&Sm(Pe)===U.type)?(he=p(U,Y.props),he.ref=Fa(Q,U,Y),he.return=Q,he):(he=Mu(Y.type,Y.key,Y.props,null,Q.mode,he),he.ref=Fa(Q,U,Y),he.return=Q,he)}function Z(Q,U,Y,he){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?(U=Nh(Y,Q.mode,he),U.return=Q,U):(U=p(U,Y.children||[]),U.return=Q,U)}function le(Q,U,Y,he,Pe){return U===null||U.tag!==7?(U=Ws(Y,Q.mode,he,Pe),U.return=Q,U):(U=p(U,Y),U.return=Q,U)}function ue(Q,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number")return U=bh(""+U,Q.mode,Y),U.return=Q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case de:return Y=Mu(U.type,U.key,U.props,null,Q.mode,Y),Y.ref=Fa(Q,null,U),Y.return=Q,Y;case F:return U=Nh(U,Q.mode,Y),U.return=Q,U;case je:var he=U._init;return ue(Q,he(U._payload),Y)}if(xn(U)||te(U))return U=Ws(U,Q.mode,Y,null),U.return=Q,U;hu(Q,U)}return null}function oe(Q,U,Y,he){var Pe=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Pe!==null?null:k(Q,U,""+Y,he);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case de:return Y.key===Pe?M(Q,U,Y,he):null;case F:return Y.key===Pe?Z(Q,U,Y,he):null;case je:return Pe=Y._init,oe(Q,U,Pe(Y._payload),he)}if(xn(Y)||te(Y))return Pe!==null?null:le(Q,U,Y,he,null);hu(Q,Y)}return null}function ve(Q,U,Y,he,Pe){if(typeof he=="string"&&he!==""||typeof he=="number")return Q=Q.get(Y)||null,k(U,Q,""+he,Pe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case de:return Q=Q.get(he.key===null?Y:he.key)||null,M(U,Q,he,Pe);case F:return Q=Q.get(he.key===null?Y:he.key)||null,Z(U,Q,he,Pe);case je:var Ne=he._init;return ve(Q,U,Y,Ne(he._payload),Pe)}if(xn(he)||te(he))return Q=Q.get(Y)||null,le(U,Q,he,Pe,null);hu(U,he)}return null}function Se(Q,U,Y,he){for(var Pe=null,Ne=null,De=U,Me=U=0,tn=null;De!==null&&Me<Y.length;Me++){De.index>Me?(tn=De,De=null):tn=De.sibling;var ot=oe(Q,De,Y[Me],he);if(ot===null){De===null&&(De=tn);break}r&&De&&ot.alternate===null&&s(Q,De),U=g(ot,U,Me),Ne===null?Pe=ot:Ne.sibling=ot,Ne=ot,De=tn}if(Me===Y.length)return a(Q,De),Rt&&Fs(Q,Me),Pe;if(De===null){for(;Me<Y.length;Me++)De=ue(Q,Y[Me],he),De!==null&&(U=g(De,U,Me),Ne===null?Pe=De:Ne.sibling=De,Ne=De);return Rt&&Fs(Q,Me),Pe}for(De=d(Q,De);Me<Y.length;Me++)tn=ve(De,Q,Me,Y[Me],he),tn!==null&&(r&&tn.alternate!==null&&De.delete(tn.key===null?Me:tn.key),U=g(tn,U,Me),Ne===null?Pe=tn:Ne.sibling=tn,Ne=tn);return r&&De.forEach(function(ss){return s(Q,ss)}),Rt&&Fs(Q,Me),Pe}function Re(Q,U,Y,he){var Pe=te(Y);if(typeof Pe!="function")throw Error(t(150));if(Y=Pe.call(Y),Y==null)throw Error(t(151));for(var Ne=Pe=null,De=U,Me=U=0,tn=null,ot=Y.next();De!==null&&!ot.done;Me++,ot=Y.next()){De.index>Me?(tn=De,De=null):tn=De.sibling;var ss=oe(Q,De,ot.value,he);if(ss===null){De===null&&(De=tn);break}r&&De&&ss.alternate===null&&s(Q,De),U=g(ss,U,Me),Ne===null?Pe=ss:Ne.sibling=ss,Ne=ss,De=tn}if(ot.done)return a(Q,De),Rt&&Fs(Q,Me),Pe;if(De===null){for(;!ot.done;Me++,ot=Y.next())ot=ue(Q,ot.value,he),ot!==null&&(U=g(ot,U,Me),Ne===null?Pe=ot:Ne.sibling=ot,Ne=ot);return Rt&&Fs(Q,Me),Pe}for(De=d(Q,De);!ot.done;Me++,ot=Y.next())ot=ve(De,Q,Me,ot.value,he),ot!==null&&(r&&ot.alternate!==null&&De.delete(ot.key===null?Me:ot.key),U=g(ot,U,Me),Ne===null?Pe=ot:Ne.sibling=ot,Ne=ot);return r&&De.forEach(function(ZE){return s(Q,ZE)}),Rt&&Fs(Q,Me),Pe}function Lt(Q,U,Y,he){if(typeof Y=="object"&&Y!==null&&Y.type===P&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case de:e:{for(var Pe=Y.key,Ne=U;Ne!==null;){if(Ne.key===Pe){if(Pe=Y.type,Pe===P){if(Ne.tag===7){a(Q,Ne.sibling),U=p(Ne,Y.props.children),U.return=Q,Q=U;break e}}else if(Ne.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===je&&Sm(Pe)===Ne.type){a(Q,Ne.sibling),U=p(Ne,Y.props),U.ref=Fa(Q,Ne,Y),U.return=Q,Q=U;break e}a(Q,Ne);break}else s(Q,Ne);Ne=Ne.sibling}Y.type===P?(U=Ws(Y.props.children,Q.mode,he,Y.key),U.return=Q,Q=U):(he=Mu(Y.type,Y.key,Y.props,null,Q.mode,he),he.ref=Fa(Q,U,Y),he.return=Q,Q=he)}return w(Q);case F:e:{for(Ne=Y.key;U!==null;){if(U.key===Ne)if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){a(Q,U.sibling),U=p(U,Y.children||[]),U.return=Q,Q=U;break e}else{a(Q,U);break}else s(Q,U);U=U.sibling}U=Nh(Y,Q.mode,he),U.return=Q,Q=U}return w(Q);case je:return Ne=Y._init,Lt(Q,U,Ne(Y._payload),he)}if(xn(Y))return Se(Q,U,Y,he);if(te(Y))return Re(Q,U,Y,he);hu(Q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,U!==null&&U.tag===6?(a(Q,U.sibling),U=p(U,Y),U.return=Q,Q=U):(a(Q,U),U=bh(Y,Q.mode,he),U.return=Q,Q=U),w(Q)):a(Q,U)}return Lt}var Mo=xm(!0),Rm=xm(!1),fu=Ki(null),pu=null,Vo=null,Bd=null;function zd(){Bd=Vo=pu=null}function $d(r){var s=fu.current;It(fu),r._currentValue=s}function Hd(r,s,a){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===a)break;r=r.return}}function jo(r,s){pu=r,Bd=Vo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(Vn=!0),r.firstContext=null)}function sr(r){var s=r._currentValue;if(Bd!==r)if(r={context:r,memoizedValue:s,next:null},Vo===null){if(pu===null)throw Error(t(308));Vo=r,pu.dependencies={lanes:0,firstContext:r}}else Vo=Vo.next=r;return s}var Us=null;function Gd(r){Us===null?Us=[r]:Us.push(r)}function Pm(r,s,a,d){var p=s.interleaved;return p===null?(a.next=a,Gd(s)):(a.next=p.next,p.next=a),s.interleaved=a,yi(r,d)}function yi(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Yi=!1;function qd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Am(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function vi(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Ji(r,s,a){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,it&2){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,yi(r,a)}return p=d.interleaved,p===null?(s.next=s,Gd(d)):(s.next=p.next,p.next=s),d.interleaved=s,yi(r,a)}function mu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,a|=d,s.lanes=a,Bi(r,a)}}function km(r,s){var a=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var p=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?p=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?p=g=s:g=g.next=s}else p=g=s;a={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:d.shared,effects:d.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function gu(r,s,a,d){var p=r.updateQueue;Yi=!1;var g=p.firstBaseUpdate,w=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var M=k,Z=M.next;M.next=null,w===null?g=Z:w.next=Z,w=M;var le=r.alternate;le!==null&&(le=le.updateQueue,k=le.lastBaseUpdate,k!==w&&(k===null?le.firstBaseUpdate=Z:k.next=Z,le.lastBaseUpdate=M))}if(g!==null){var ue=p.baseState;w=0,le=Z=M=null,k=g;do{var oe=k.lane,ve=k.eventTime;if((d&oe)===oe){le!==null&&(le=le.next={eventTime:ve,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var Se=r,Re=k;switch(oe=s,ve=a,Re.tag){case 1:if(Se=Re.payload,typeof Se=="function"){ue=Se.call(ve,ue,oe);break e}ue=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Re.payload,oe=typeof Se=="function"?Se.call(ve,ue,oe):Se,oe==null)break e;ue=$({},ue,oe);break e;case 2:Yi=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,oe=p.effects,oe===null?p.effects=[k]:oe.push(k))}else ve={eventTime:ve,lane:oe,tag:k.tag,payload:k.payload,callback:k.callback,next:null},le===null?(Z=le=ve,M=ue):le=le.next=ve,w|=oe;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;oe=k,k=oe.next,oe.next=null,p.lastBaseUpdate=oe,p.shared.pending=null}}while(!0);if(le===null&&(M=ue),p.baseState=M,p.firstBaseUpdate=Z,p.lastBaseUpdate=le,s=p.shared.interleaved,s!==null){p=s;do w|=p.lane,p=p.next;while(p!==s)}else g===null&&(p.shared.lanes=0);$s|=w,r.lanes=w,r.memoizedState=ue}}function bm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=a,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var Ua={},Gr=Ki(Ua),Ba=Ki(Ua),za=Ki(Ua);function Bs(r){if(r===Ua)throw Error(t(174));return r}function Wd(r,s){switch(Et(za,s),Et(Ba,r),Et(Gr,Ua),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ht(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=ht(s,r)}It(Gr),Et(Gr,s)}function Fo(){It(Gr),It(Ba),It(za)}function Nm(r){Bs(za.current);var s=Bs(Gr.current),a=ht(s,r.type);s!==a&&(Et(Ba,r),Et(Gr,a))}function Kd(r){Ba.current===r&&(It(Gr),It(Ba))}var At=Ki(0);function yu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Qd=[];function Xd(){for(var r=0;r<Qd.length;r++)Qd[r]._workInProgressVersionPrimary=null;Qd.length=0}var vu=ne.ReactCurrentDispatcher,Yd=ne.ReactCurrentBatchConfig,zs=0,kt=null,Wt=null,Zt=null,_u=!1,$a=!1,Ha=0,EE=0;function yn(){throw Error(t(321))}function Jd(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!_r(r[a],s[a]))return!1;return!0}function Zd(r,s,a,d,p,g){if(zs=g,kt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,vu.current=r===null||r.memoizedState===null?SE:xE,r=a(d,p),$a){g=0;do{if($a=!1,Ha=0,25<=g)throw Error(t(301));g+=1,Zt=Wt=null,s.updateQueue=null,vu.current=RE,r=a(d,p)}while($a)}if(vu.current=Tu,s=Wt!==null&&Wt.next!==null,zs=0,Zt=Wt=kt=null,_u=!1,s)throw Error(t(300));return r}function eh(){var r=Ha!==0;return Ha=0,r}function qr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?kt.memoizedState=Zt=r:Zt=Zt.next=r,Zt}function or(){if(Wt===null){var r=kt.alternate;r=r!==null?r.memoizedState:null}else r=Wt.next;var s=Zt===null?kt.memoizedState:Zt.next;if(s!==null)Zt=s,Wt=r;else{if(r===null)throw Error(t(310));Wt=r,r={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Zt===null?kt.memoizedState=Zt=r:Zt=Zt.next=r}return Zt}function Ga(r,s){return typeof s=="function"?s(r):s}function th(r){var s=or(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var d=Wt,p=d.baseQueue,g=a.pending;if(g!==null){if(p!==null){var w=p.next;p.next=g.next,g.next=w}d.baseQueue=p=g,a.pending=null}if(p!==null){g=p.next,d=d.baseState;var k=w=null,M=null,Z=g;do{var le=Z.lane;if((zs&le)===le)M!==null&&(M=M.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),d=Z.hasEagerState?Z.eagerState:r(d,Z.action);else{var ue={lane:le,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};M===null?(k=M=ue,w=d):M=M.next=ue,kt.lanes|=le,$s|=le}Z=Z.next}while(Z!==null&&Z!==g);M===null?w=d:M.next=k,_r(d,s.memoizedState)||(Vn=!0),s.memoizedState=d,s.baseState=w,s.baseQueue=M,a.lastRenderedState=d}if(r=a.interleaved,r!==null){p=r;do g=p.lane,kt.lanes|=g,$s|=g,p=p.next;while(p!==r)}else p===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function nh(r){var s=or(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var d=a.dispatch,p=a.pending,g=s.memoizedState;if(p!==null){a.pending=null;var w=p=p.next;do g=r(g,w.action),w=w.next;while(w!==p);_r(g,s.memoizedState)||(Vn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,d]}function Dm(){}function Om(r,s){var a=kt,d=or(),p=s(),g=!_r(d.memoizedState,p);if(g&&(d.memoizedState=p,Vn=!0),d=d.queue,rh(Vm.bind(null,a,d,r),[r]),d.getSnapshot!==s||g||Zt!==null&&Zt.memoizedState.tag&1){if(a.flags|=2048,qa(9,Mm.bind(null,a,d,p,s),void 0,null),en===null)throw Error(t(349));zs&30||Lm(a,s,p)}return p}function Lm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=kt.updateQueue,s===null?(s={lastEffect:null,stores:null},kt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Mm(r,s,a,d){s.value=a,s.getSnapshot=d,jm(s)&&Fm(r)}function Vm(r,s,a){return a(function(){jm(s)&&Fm(r)})}function jm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!_r(r,a)}catch{return!0}}function Fm(r){var s=yi(r,1);s!==null&&Cr(s,r,1,-1)}function Um(r){var s=qr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:r},s.queue=r,r=r.dispatch=CE.bind(null,kt,r),[s.memoizedState,r]}function qa(r,s,a,d){return r={tag:r,create:s,destroy:a,deps:d,next:null},s=kt.updateQueue,s===null?(s={lastEffect:null,stores:null},kt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(d=a.next,a.next=r,r.next=d,s.lastEffect=r)),r}function Bm(){return or().memoizedState}function wu(r,s,a,d){var p=qr();kt.flags|=r,p.memoizedState=qa(1|s,a,void 0,d===void 0?null:d)}function Eu(r,s,a,d){var p=or();d=d===void 0?null:d;var g=void 0;if(Wt!==null){var w=Wt.memoizedState;if(g=w.destroy,d!==null&&Jd(d,w.deps)){p.memoizedState=qa(s,a,g,d);return}}kt.flags|=r,p.memoizedState=qa(1|s,a,g,d)}function zm(r,s){return wu(8390656,8,r,s)}function rh(r,s){return Eu(2048,8,r,s)}function $m(r,s){return Eu(4,2,r,s)}function Hm(r,s){return Eu(4,4,r,s)}function Gm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function qm(r,s,a){return a=a!=null?a.concat([r]):null,Eu(4,4,Gm.bind(null,s,r),a)}function ih(){}function Wm(r,s){var a=or();s=s===void 0?null:s;var d=a.memoizedState;return d!==null&&s!==null&&Jd(s,d[1])?d[0]:(a.memoizedState=[r,s],r)}function Km(r,s){var a=or();s=s===void 0?null:s;var d=a.memoizedState;return d!==null&&s!==null&&Jd(s,d[1])?d[0]:(r=r(),a.memoizedState=[r,s],r)}function Qm(r,s,a){return zs&21?(_r(a,s)||(a=bs(),kt.lanes|=a,$s|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,Vn=!0),r.memoizedState=a)}function TE(r,s){var a=Ye;Ye=a!==0&&4>a?a:4,r(!0);var d=Yd.transition;Yd.transition={};try{r(!1),s()}finally{Ye=a,Yd.transition=d}}function Xm(){return or().memoizedState}function IE(r,s,a){var d=ns(r);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},Ym(r))Jm(s,a);else if(a=Pm(r,s,a,d),a!==null){var p=bn();Cr(a,r,d,p),Zm(a,s,d)}}function CE(r,s,a){var d=ns(r),p={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ym(r))Jm(s,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,k=g(w,a);if(p.hasEagerState=!0,p.eagerState=k,_r(k,w)){var M=s.interleaved;M===null?(p.next=p,Gd(s)):(p.next=M.next,M.next=p),s.interleaved=p;return}}catch{}finally{}a=Pm(r,s,p,d),a!==null&&(p=bn(),Cr(a,r,d,p),Zm(a,s,d))}}function Ym(r){var s=r.alternate;return r===kt||s!==null&&s===kt}function Jm(r,s){$a=_u=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Zm(r,s,a){if(a&4194240){var d=s.lanes;d&=r.pendingLanes,a|=d,s.lanes=a,Bi(r,a)}}var Tu={readContext:sr,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},SE={readContext:sr,useCallback:function(r,s){return qr().memoizedState=[r,s===void 0?null:s],r},useContext:sr,useEffect:zm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,wu(4194308,4,Gm.bind(null,s,r),a)},useLayoutEffect:function(r,s){return wu(4194308,4,r,s)},useInsertionEffect:function(r,s){return wu(4,2,r,s)},useMemo:function(r,s){var a=qr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var d=qr();return s=a!==void 0?a(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=IE.bind(null,kt,r),[d.memoizedState,r]},useRef:function(r){var s=qr();return r={current:r},s.memoizedState=r},useState:Um,useDebugValue:ih,useDeferredValue:function(r){return qr().memoizedState=r},useTransition:function(){var r=Um(!1),s=r[0];return r=TE.bind(null,r[1]),qr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var d=kt,p=qr();if(Rt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),en===null)throw Error(t(349));zs&30||Lm(d,s,a)}p.memoizedState=a;var g={value:a,getSnapshot:s};return p.queue=g,zm(Vm.bind(null,d,g,r),[r]),d.flags|=2048,qa(9,Mm.bind(null,d,g,a,s),void 0,null),a},useId:function(){var r=qr(),s=en.identifierPrefix;if(Rt){var a=gi,d=mi;a=(d&~(1<<32-on(d)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ha++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=EE++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},xE={readContext:sr,useCallback:Wm,useContext:sr,useEffect:rh,useImperativeHandle:qm,useInsertionEffect:$m,useLayoutEffect:Hm,useMemo:Km,useReducer:th,useRef:Bm,useState:function(){return th(Ga)},useDebugValue:ih,useDeferredValue:function(r){var s=or();return Qm(s,Wt.memoizedState,r)},useTransition:function(){var r=th(Ga)[0],s=or().memoizedState;return[r,s]},useMutableSource:Dm,useSyncExternalStore:Om,useId:Xm,unstable_isNewReconciler:!1},RE={readContext:sr,useCallback:Wm,useContext:sr,useEffect:rh,useImperativeHandle:qm,useInsertionEffect:$m,useLayoutEffect:Hm,useMemo:Km,useReducer:nh,useRef:Bm,useState:function(){return nh(Ga)},useDebugValue:ih,useDeferredValue:function(r){var s=or();return Wt===null?s.memoizedState=r:Qm(s,Wt.memoizedState,r)},useTransition:function(){var r=nh(Ga)[0],s=or().memoizedState;return[r,s]},useMutableSource:Dm,useSyncExternalStore:Om,useId:Xm,unstable_isNewReconciler:!1};function Er(r,s){if(r&&r.defaultProps){s=$({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function sh(r,s,a,d){s=r.memoizedState,a=a(d,s),a=a==null?s:$({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Iu={isMounted:function(r){return(r=r._reactInternals)?pt(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var d=bn(),p=ns(r),g=vi(d,p);g.payload=s,a!=null&&(g.callback=a),s=Ji(r,g,p),s!==null&&(Cr(s,r,p,d),mu(s,r,p))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var d=bn(),p=ns(r),g=vi(d,p);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Ji(r,g,p),s!==null&&(Cr(s,r,p,d),mu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=bn(),d=ns(r),p=vi(a,d);p.tag=2,s!=null&&(p.callback=s),s=Ji(r,p,d),s!==null&&(Cr(s,r,d,a),mu(s,r,d))}};function eg(r,s,a,d,p,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,g,w):s.prototype&&s.prototype.isPureReactComponent?!Na(a,d)||!Na(p,g):!0}function tg(r,s,a){var d=!1,p=Qi,g=s.contextType;return typeof g=="object"&&g!==null?g=sr(g):(p=Mn(s)?Vs:gn.current,d=s.contextTypes,g=(d=d!=null)?No(r,p):Qi),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Iu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=g),s}function ng(r,s,a,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,d),s.state!==r&&Iu.enqueueReplaceState(s,s.state,null)}function oh(r,s,a,d){var p=r.stateNode;p.props=a,p.state=r.memoizedState,p.refs={},qd(r);var g=s.contextType;typeof g=="object"&&g!==null?p.context=sr(g):(g=Mn(s)?Vs:gn.current,p.context=No(r,g)),p.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(sh(r,s,g,a),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Iu.enqueueReplaceState(p,p.state,null),gu(r,a,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Uo(r,s){try{var a="",d=s;do a+=Ce(d),d=d.return;while(d);var p=a}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:p,digest:null}}function ah(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function lh(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var PE=typeof WeakMap=="function"?WeakMap:Map;function rg(r,s,a){a=vi(-1,a),a.tag=3,a.payload={element:null};var d=s.value;return a.callback=function(){ku||(ku=!0,Ih=d),lh(r,s)},a}function ig(r,s,a){a=vi(-1,a),a.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;a.payload=function(){return d(p)},a.callback=function(){lh(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){lh(r,s),typeof d!="function"&&(es===null?es=new Set([this]):es.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function sg(r,s,a){var d=r.pingCache;if(d===null){d=r.pingCache=new PE;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(a)||(p.add(a),r=zE.bind(null,r,s,a),s.then(r,r))}function og(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function ag(r,s,a,d,p){return r.mode&1?(r.flags|=65536,r.lanes=p,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=vi(-1,1),s.tag=2,Ji(a,s,1))),a.lanes|=1),r)}var AE=ne.ReactCurrentOwner,Vn=!1;function kn(r,s,a,d){s.child=r===null?Rm(s,null,a,d):Mo(s,r.child,a,d)}function lg(r,s,a,d,p){a=a.render;var g=s.ref;return jo(s,p),d=Zd(r,s,a,d,g,p),a=eh(),r!==null&&!Vn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,_i(r,s,p)):(Rt&&a&&Md(s),s.flags|=1,kn(r,s,d,p),s.child)}function ug(r,s,a,d,p){if(r===null){var g=a.type;return typeof g=="function"&&!kh(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,cg(r,s,g,d,p)):(r=Mu(a.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&p)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:Na,a(w,d)&&r.ref===s.ref)return _i(r,s,p)}return s.flags|=1,r=is(g,d),r.ref=s.ref,r.return=s,s.child=r}function cg(r,s,a,d,p){if(r!==null){var g=r.memoizedProps;if(Na(g,d)&&r.ref===s.ref)if(Vn=!1,s.pendingProps=d=g,(r.lanes&p)!==0)r.flags&131072&&(Vn=!0);else return s.lanes=r.lanes,_i(r,s,p)}return uh(r,s,a,d,p)}function dg(r,s,a){var d=s.pendingProps,p=d.children,g=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(zo,Kn),Kn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Et(zo,Kn),Kn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:a,Et(zo,Kn),Kn|=d}else g!==null?(d=g.baseLanes|a,s.memoizedState=null):d=a,Et(zo,Kn),Kn|=d;return kn(r,s,p,a),s.child}function hg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function uh(r,s,a,d,p){var g=Mn(a)?Vs:gn.current;return g=No(s,g),jo(s,p),a=Zd(r,s,a,d,g,p),d=eh(),r!==null&&!Vn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,_i(r,s,p)):(Rt&&d&&Md(s),s.flags|=1,kn(r,s,a,p),s.child)}function fg(r,s,a,d,p){if(Mn(a)){var g=!0;au(s)}else g=!1;if(jo(s,p),s.stateNode===null)Su(r,s),tg(s,a,d),oh(s,a,d,p),d=!0;else if(r===null){var w=s.stateNode,k=s.memoizedProps;w.props=k;var M=w.context,Z=a.contextType;typeof Z=="object"&&Z!==null?Z=sr(Z):(Z=Mn(a)?Vs:gn.current,Z=No(s,Z));var le=a.getDerivedStateFromProps,ue=typeof le=="function"||typeof w.getSnapshotBeforeUpdate=="function";ue||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==d||M!==Z)&&ng(s,w,d,Z),Yi=!1;var oe=s.memoizedState;w.state=oe,gu(s,d,w,p),M=s.memoizedState,k!==d||oe!==M||Ln.current||Yi?(typeof le=="function"&&(sh(s,a,le,d),M=s.memoizedState),(k=Yi||eg(s,a,k,d,oe,M,Z))?(ue||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=M),w.props=d,w.state=M,w.context=Z,d=k):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{w=s.stateNode,Am(r,s),k=s.memoizedProps,Z=s.type===s.elementType?k:Er(s.type,k),w.props=Z,ue=s.pendingProps,oe=w.context,M=a.contextType,typeof M=="object"&&M!==null?M=sr(M):(M=Mn(a)?Vs:gn.current,M=No(s,M));var ve=a.getDerivedStateFromProps;(le=typeof ve=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==ue||oe!==M)&&ng(s,w,d,M),Yi=!1,oe=s.memoizedState,w.state=oe,gu(s,d,w,p);var Se=s.memoizedState;k!==ue||oe!==Se||Ln.current||Yi?(typeof ve=="function"&&(sh(s,a,ve,d),Se=s.memoizedState),(Z=Yi||eg(s,a,Z,d,oe,Se,M)||!1)?(le||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,Se,M),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,Se,M)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||k===r.memoizedProps&&oe===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&oe===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Se),w.props=d,w.state=Se,w.context=M,d=Z):(typeof w.componentDidUpdate!="function"||k===r.memoizedProps&&oe===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&oe===r.memoizedState||(s.flags|=1024),d=!1)}return ch(r,s,a,d,g,p)}function ch(r,s,a,d,p,g){hg(r,s);var w=(s.flags&128)!==0;if(!d&&!w)return p&&vm(s,a,!1),_i(r,s,g);d=s.stateNode,AE.current=s;var k=w&&typeof a.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&w?(s.child=Mo(s,r.child,null,g),s.child=Mo(s,null,k,g)):kn(r,s,k,g),s.memoizedState=d.state,p&&vm(s,a,!0),s.child}function pg(r){var s=r.stateNode;s.pendingContext?gm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&gm(r,s.context,!1),Wd(r,s.containerInfo)}function mg(r,s,a,d,p){return Lo(),Ud(p),s.flags|=256,kn(r,s,a,d),s.child}var dh={dehydrated:null,treeContext:null,retryLane:0};function hh(r){return{baseLanes:r,cachePool:null,transitions:null}}function gg(r,s,a){var d=s.pendingProps,p=At.current,g=!1,w=(s.flags&128)!==0,k;if((k=w)||(k=r!==null&&r.memoizedState===null?!1:(p&2)!==0),k?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Et(At,p&1),r===null)return Fd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=d.children,r=d.fallback,g?(d=s.mode,g=s.child,w={mode:"hidden",children:w},!(d&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Vu(w,d,0,null),r=Ws(r,d,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=hh(a),s.memoizedState=dh,r):fh(s,w));if(p=r.memoizedState,p!==null&&(k=p.dehydrated,k!==null))return kE(r,s,w,d,k,p,a);if(g){g=d.fallback,w=s.mode,p=r.child,k=p.sibling;var M={mode:"hidden",children:d.children};return!(w&1)&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=M,s.deletions=null):(d=is(p,M),d.subtreeFlags=p.subtreeFlags&14680064),k!==null?g=is(k,g):(g=Ws(g,w,a,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,w=r.child.memoizedState,w=w===null?hh(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=dh,d}return g=r.child,r=g.sibling,d=is(g,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=a),d.return=s,d.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=d,s.memoizedState=null,d}function fh(r,s){return s=Vu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Cu(r,s,a,d){return d!==null&&Ud(d),Mo(s,r.child,null,a),r=fh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function kE(r,s,a,d,p,g,w){if(a)return s.flags&256?(s.flags&=-257,d=ah(Error(t(422))),Cu(r,s,w,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=d.fallback,p=s.mode,d=Vu({mode:"visible",children:d.children},p,0,null),g=Ws(g,p,w,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,s.mode&1&&Mo(s,r.child,null,w),s.child.memoizedState=hh(w),s.memoizedState=dh,g);if(!(s.mode&1))return Cu(r,s,w,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var k=d.dgst;return d=k,g=Error(t(419)),d=ah(g,d,void 0),Cu(r,s,w,d)}if(k=(w&r.childLanes)!==0,Vn||k){if(d=en,d!==null){switch(w&-w){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(d.suspendedLanes|w)?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,yi(r,p),Cr(d,r,p,-1))}return Ah(),d=ah(Error(t(421))),Cu(r,s,w,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=$E.bind(null,r),p._reactRetry=s,null):(r=g.treeContext,Wn=Wi(p.nextSibling),qn=s,Rt=!0,wr=null,r!==null&&(rr[ir++]=mi,rr[ir++]=gi,rr[ir++]=js,mi=r.id,gi=r.overflow,js=s),s=fh(s,d.children),s.flags|=4096,s)}function yg(r,s,a){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),Hd(r.return,s,a)}function ph(r,s,a,d,p){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=a,g.tailMode=p)}function vg(r,s,a){var d=s.pendingProps,p=d.revealOrder,g=d.tail;if(kn(r,s,d.children,a),d=At.current,d&2)d=d&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&yg(r,a,s);else if(r.tag===19)yg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Et(At,d),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(a=s.child,p=null;a!==null;)r=a.alternate,r!==null&&yu(r)===null&&(p=a),a=a.sibling;a=p,a===null?(p=s.child,s.child=null):(p=a.sibling,a.sibling=null),ph(s,!1,p,a,g);break;case"backwards":for(a=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&yu(r)===null){s.child=p;break}r=p.sibling,p.sibling=a,a=p,p=r}ph(s,!0,a,null,g);break;case"together":ph(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Su(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function _i(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),$s|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=is(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=is(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function bE(r,s,a){switch(s.tag){case 3:pg(s),Lo();break;case 5:Nm(s);break;case 1:Mn(s.type)&&au(s);break;case 4:Wd(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;Et(fu,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Et(At,At.current&1),s.flags|=128,null):a&s.child.childLanes?gg(r,s,a):(Et(At,At.current&1),r=_i(r,s,a),r!==null?r.sibling:null);Et(At,At.current&1);break;case 19:if(d=(a&s.childLanes)!==0,r.flags&128){if(d)return vg(r,s,a);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Et(At,At.current),d)break;return null;case 22:case 23:return s.lanes=0,dg(r,s,a)}return _i(r,s,a)}var _g,mh,wg,Eg;_g=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},mh=function(){},wg=function(r,s,a,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,Bs(Gr.current);var g=null;switch(a){case"input":p=Ct(r,p),d=Ct(r,d),g=[];break;case"select":p=$({},p,{value:void 0}),d=$({},d,{value:void 0}),g=[];break;case"textarea":p=Dt(r,p),d=Dt(r,d),g=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=iu)}Li(a,d);var w;a=null;for(Z in p)if(!d.hasOwnProperty(Z)&&p.hasOwnProperty(Z)&&p[Z]!=null)if(Z==="style"){var k=p[Z];for(w in k)k.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(o.hasOwnProperty(Z)?g||(g=[]):(g=g||[]).push(Z,null));for(Z in d){var M=d[Z];if(k=p!=null?p[Z]:void 0,d.hasOwnProperty(Z)&&M!==k&&(M!=null||k!=null))if(Z==="style")if(k){for(w in k)!k.hasOwnProperty(w)||M&&M.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in M)M.hasOwnProperty(w)&&k[w]!==M[w]&&(a||(a={}),a[w]=M[w])}else a||(g||(g=[]),g.push(Z,a)),a=M;else Z==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,k=k?k.__html:void 0,M!=null&&k!==M&&(g=g||[]).push(Z,M)):Z==="children"?typeof M!="string"&&typeof M!="number"||(g=g||[]).push(Z,""+M):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(o.hasOwnProperty(Z)?(M!=null&&Z==="onScroll"&&Tt("scroll",r),g||k===M||(g=[])):(g=g||[]).push(Z,M))}a&&(g=g||[]).push("style",a);var Z=g;(s.updateQueue=Z)&&(s.flags|=4)}},Eg=function(r,s,a,d){a!==d&&(s.flags|=4)};function Wa(r,s){if(!Rt)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function vn(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,d=0;if(s)for(var p=r.child;p!==null;)a|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)a|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=a,s}function NE(r,s,a){var d=s.pendingProps;switch(Vd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(s),null;case 1:return Mn(s.type)&&ou(),vn(s),null;case 3:return d=s.stateNode,Fo(),It(Ln),It(gn),Xd(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(du(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,wr!==null&&(xh(wr),wr=null))),mh(r,s),vn(s),null;case 5:Kd(s);var p=Bs(za.current);if(a=s.type,r!==null&&s.stateNode!=null)wg(r,s,a,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return vn(s),null}if(r=Bs(Gr.current),du(s)){d=s.stateNode,a=s.type;var g=s.memoizedProps;switch(d[Hr]=s,d[Va]=g,r=(s.mode&1)!==0,a){case"dialog":Tt("cancel",d),Tt("close",d);break;case"iframe":case"object":case"embed":Tt("load",d);break;case"video":case"audio":for(p=0;p<Oa.length;p++)Tt(Oa[p],d);break;case"source":Tt("error",d);break;case"img":case"image":case"link":Tt("error",d),Tt("load",d);break;case"details":Tt("toggle",d);break;case"input":ct(d,g),Tt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},Tt("invalid",d);break;case"textarea":sn(d,g),Tt("invalid",d)}Li(a,g),p=null;for(var w in g)if(g.hasOwnProperty(w)){var k=g[w];w==="children"?typeof k=="string"?d.textContent!==k&&(g.suppressHydrationWarning!==!0&&ru(d.textContent,k,r),p=["children",k]):typeof k=="number"&&d.textContent!==""+k&&(g.suppressHydrationWarning!==!0&&ru(d.textContent,k,r),p=["children",""+k]):o.hasOwnProperty(w)&&k!=null&&w==="onScroll"&&Tt("scroll",d)}switch(a){case"input":dt(d),wt(d,g,!0);break;case"textarea":dt(d),ni(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=iu)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=yt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=w.createElement(a,{is:d.is}):(r=w.createElement(a),a==="select"&&(w=r,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):r=w.createElementNS(r,a),r[Hr]=s,r[Va]=d,_g(r,s,!1,!1),s.stateNode=r;e:{switch(w=Dr(a,d),a){case"dialog":Tt("cancel",r),Tt("close",r),p=d;break;case"iframe":case"object":case"embed":Tt("load",r),p=d;break;case"video":case"audio":for(p=0;p<Oa.length;p++)Tt(Oa[p],r);p=d;break;case"source":Tt("error",r),p=d;break;case"img":case"image":case"link":Tt("error",r),Tt("load",r),p=d;break;case"details":Tt("toggle",r),p=d;break;case"input":ct(r,d),p=Ct(r,d),Tt("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=$({},d,{value:void 0}),Tt("invalid",r);break;case"textarea":sn(r,d),p=Dt(r,d),Tt("invalid",r);break;default:p=d}Li(a,p),k=p;for(g in k)if(k.hasOwnProperty(g)){var M=k[g];g==="style"?Oi(r,M):g==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&ri(r,M)):g==="children"?typeof M=="string"?(a!=="textarea"||M!=="")&&br(r,M):typeof M=="number"&&br(r,""+M):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?M!=null&&g==="onScroll"&&Tt("scroll",r):M!=null&&J(r,g,M,w))}switch(a){case"input":dt(r),wt(r,d,!1);break;case"textarea":dt(r),ni(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Ge(d.value));break;case"select":r.multiple=!!d.multiple,g=d.value,g!=null?Ft(r,!!d.multiple,g,!1):d.defaultValue!=null&&Ft(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=iu)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return vn(s),null;case 6:if(r&&s.stateNode!=null)Eg(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(a=Bs(za.current),Bs(Gr.current),du(s)){if(d=s.stateNode,a=s.memoizedProps,d[Hr]=s,(g=d.nodeValue!==a)&&(r=qn,r!==null))switch(r.tag){case 3:ru(d.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ru(d.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[Hr]=s,s.stateNode=d}return vn(s),null;case 13:if(It(At),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Rt&&Wn!==null&&s.mode&1&&!(s.flags&128))Cm(),Lo(),s.flags|=98560,g=!1;else if(g=du(s),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Hr]=s}else Lo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;vn(s),g=!1}else wr!==null&&(xh(wr),wr=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(r===null||At.current&1?Kt===0&&(Kt=3):Ah())),s.updateQueue!==null&&(s.flags|=4),vn(s),null);case 4:return Fo(),mh(r,s),r===null&&La(s.stateNode.containerInfo),vn(s),null;case 10:return $d(s.type._context),vn(s),null;case 17:return Mn(s.type)&&ou(),vn(s),null;case 19:if(It(At),g=s.memoizedState,g===null)return vn(s),null;if(d=(s.flags&128)!==0,w=g.rendering,w===null)if(d)Wa(g,!1);else{if(Kt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=yu(r),w!==null){for(s.flags|=128,Wa(g,!1),d=w.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=a,a=s.child;a!==null;)g=a,r=d,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Et(At,At.current&1|2),s.child}r=r.sibling}g.tail!==null&&Ze()>$o&&(s.flags|=128,d=!0,Wa(g,!1),s.lanes=4194304)}else{if(!d)if(r=yu(w),r!==null){if(s.flags|=128,d=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Wa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!Rt)return vn(s),null}else 2*Ze()-g.renderingStartTime>$o&&a!==1073741824&&(s.flags|=128,d=!0,Wa(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ze(),s.sibling=null,a=At.current,Et(At,d?a&1|2:a&1),s):(vn(s),null);case 22:case 23:return Ph(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?Kn&1073741824&&(vn(s),s.subtreeFlags&6&&(s.flags|=8192)):vn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function DE(r,s){switch(Vd(s),s.tag){case 1:return Mn(s.type)&&ou(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Fo(),It(Ln),It(gn),Xd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Kd(s),null;case 13:if(It(At),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Lo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return It(At),null;case 4:return Fo(),null;case 10:return $d(s.type._context),null;case 22:case 23:return Ph(),null;case 24:return null;default:return null}}var xu=!1,_n=!1,OE=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Bo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){Ot(r,s,d)}else a.current=null}function gh(r,s,a){try{a()}catch(d){Ot(r,s,d)}}var Tg=!1;function LE(r,s){if(Pd=Hi,r=em(),wd(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var p=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,k=-1,M=-1,Z=0,le=0,ue=r,oe=null;t:for(;;){for(var ve;ue!==a||p!==0&&ue.nodeType!==3||(k=w+p),ue!==g||d!==0&&ue.nodeType!==3||(M=w+d),ue.nodeType===3&&(w+=ue.nodeValue.length),(ve=ue.firstChild)!==null;)oe=ue,ue=ve;for(;;){if(ue===r)break t;if(oe===a&&++Z===p&&(k=w),oe===g&&++le===d&&(M=w),(ve=ue.nextSibling)!==null)break;ue=oe,oe=ue.parentNode}ue=ve}a=k===-1||M===-1?null:{start:k,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ad={focusedElem:r,selectionRange:a},Hi=!1,Te=s;Te!==null;)if(s=Te,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Te=r;else for(;Te!==null;){s=Te;try{var Se=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Re=Se.memoizedProps,Lt=Se.memoizedState,Q=s.stateNode,U=Q.getSnapshotBeforeUpdate(s.elementType===s.type?Re:Er(s.type,Re),Lt);Q.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var Y=s.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(he){Ot(s,s.return,he)}if(r=s.sibling,r!==null){r.return=s.return,Te=r;break}Te=s.return}return Se=Tg,Tg=!1,Se}function Ka(r,s,a){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var g=p.destroy;p.destroy=void 0,g!==void 0&&gh(s,a,g)}p=p.next}while(p!==d)}}function Ru(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var d=a.create;a.destroy=d()}a=a.next}while(a!==s)}}function yh(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Ig(r){var s=r.alternate;s!==null&&(r.alternate=null,Ig(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Hr],delete s[Va],delete s[Dd],delete s[yE],delete s[vE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Cg(r){return r.tag===5||r.tag===3||r.tag===4}function Sg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Cg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function vh(r,s,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=iu));else if(d!==4&&(r=r.child,r!==null))for(vh(r,s,a),r=r.sibling;r!==null;)vh(r,s,a),r=r.sibling}function _h(r,s,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(_h(r,s,a),r=r.sibling;r!==null;)_h(r,s,a),r=r.sibling}var un=null,Tr=!1;function Zi(r,s,a){for(a=a.child;a!==null;)xg(r,s,a),a=a.sibling}function xg(r,s,a){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(vt,a)}catch{}switch(a.tag){case 5:_n||Bo(a,s);case 6:var d=un,p=Tr;un=null,Zi(r,s,a),un=d,Tr=p,un!==null&&(Tr?(r=un,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):un.removeChild(a.stateNode));break;case 18:un!==null&&(Tr?(r=un,a=a.stateNode,r.nodeType===8?Nd(r.parentNode,a):r.nodeType===1&&Nd(r,a),yr(r)):Nd(un,a.stateNode));break;case 4:d=un,p=Tr,un=a.stateNode.containerInfo,Tr=!0,Zi(r,s,a),un=d,Tr=p;break;case 0:case 11:case 14:case 15:if(!_n&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var g=p,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&gh(a,s,w),p=p.next}while(p!==d)}Zi(r,s,a);break;case 1:if(!_n&&(Bo(a,s),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(k){Ot(a,s,k)}Zi(r,s,a);break;case 21:Zi(r,s,a);break;case 22:a.mode&1?(_n=(d=_n)||a.memoizedState!==null,Zi(r,s,a),_n=d):Zi(r,s,a);break;default:Zi(r,s,a)}}function Rg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new OE),s.forEach(function(d){var p=HE.bind(null,r,d);a.has(d)||(a.add(d),d.then(p,p))})}}function Ir(r,s){var a=s.deletions;if(a!==null)for(var d=0;d<a.length;d++){var p=a[d];try{var g=r,w=s,k=w;e:for(;k!==null;){switch(k.tag){case 5:un=k.stateNode,Tr=!1;break e;case 3:un=k.stateNode.containerInfo,Tr=!0;break e;case 4:un=k.stateNode.containerInfo,Tr=!0;break e}k=k.return}if(un===null)throw Error(t(160));xg(g,w,p),un=null,Tr=!1;var M=p.alternate;M!==null&&(M.return=null),p.return=null}catch(Z){Ot(p,s,Z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Pg(s,r),s=s.sibling}function Pg(r,s){var a=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Ir(s,r),Wr(r),d&4){try{Ka(3,r,r.return),Ru(3,r)}catch(Re){Ot(r,r.return,Re)}try{Ka(5,r,r.return)}catch(Re){Ot(r,r.return,Re)}}break;case 1:Ir(s,r),Wr(r),d&512&&a!==null&&Bo(a,a.return);break;case 5:if(Ir(s,r),Wr(r),d&512&&a!==null&&Bo(a,a.return),r.flags&32){var p=r.stateNode;try{br(p,"")}catch(Re){Ot(r,r.return,Re)}}if(d&4&&(p=r.stateNode,p!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,k=r.type,M=r.updateQueue;if(r.updateQueue=null,M!==null)try{k==="input"&&g.type==="radio"&&g.name!=null&&jt(p,g),Dr(k,w);var Z=Dr(k,g);for(w=0;w<M.length;w+=2){var le=M[w],ue=M[w+1];le==="style"?Oi(p,ue):le==="dangerouslySetInnerHTML"?ri(p,ue):le==="children"?br(p,ue):J(p,le,ue,Z)}switch(k){case"input":Nt(p,g);break;case"textarea":fr(p,g);break;case"select":var oe=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var ve=g.value;ve!=null?Ft(p,!!g.multiple,ve,!1):oe!==!!g.multiple&&(g.defaultValue!=null?Ft(p,!!g.multiple,g.defaultValue,!0):Ft(p,!!g.multiple,g.multiple?[]:"",!1))}p[Va]=g}catch(Re){Ot(r,r.return,Re)}}break;case 6:if(Ir(s,r),Wr(r),d&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,g=r.memoizedProps;try{p.nodeValue=g}catch(Re){Ot(r,r.return,Re)}}break;case 3:if(Ir(s,r),Wr(r),d&4&&a!==null&&a.memoizedState.isDehydrated)try{yr(s.containerInfo)}catch(Re){Ot(r,r.return,Re)}break;case 4:Ir(s,r),Wr(r);break;case 13:Ir(s,r),Wr(r),p=r.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(Th=Ze())),d&4&&Rg(r);break;case 22:if(le=a!==null&&a.memoizedState!==null,r.mode&1?(_n=(Z=_n)||le,Ir(s,r),_n=Z):Ir(s,r),Wr(r),d&8192){if(Z=r.memoizedState!==null,(r.stateNode.isHidden=Z)&&!le&&r.mode&1)for(Te=r,le=r.child;le!==null;){for(ue=Te=le;Te!==null;){switch(oe=Te,ve=oe.child,oe.tag){case 0:case 11:case 14:case 15:Ka(4,oe,oe.return);break;case 1:Bo(oe,oe.return);var Se=oe.stateNode;if(typeof Se.componentWillUnmount=="function"){d=oe,a=oe.return;try{s=d,Se.props=s.memoizedProps,Se.state=s.memoizedState,Se.componentWillUnmount()}catch(Re){Ot(d,a,Re)}}break;case 5:Bo(oe,oe.return);break;case 22:if(oe.memoizedState!==null){bg(ue);continue}}ve!==null?(ve.return=oe,Te=ve):bg(ue)}le=le.sibling}e:for(le=null,ue=r;;){if(ue.tag===5){if(le===null){le=ue;try{p=ue.stateNode,Z?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(k=ue.stateNode,M=ue.memoizedProps.style,w=M!=null&&M.hasOwnProperty("display")?M.display:null,k.style.display=Di("display",w))}catch(Re){Ot(r,r.return,Re)}}}else if(ue.tag===6){if(le===null)try{ue.stateNode.nodeValue=Z?"":ue.memoizedProps}catch(Re){Ot(r,r.return,Re)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===r)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===r)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===r)break e;le===ue&&(le=null),ue=ue.return}le===ue&&(le=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:Ir(s,r),Wr(r),d&4&&Rg(r);break;case 21:break;default:Ir(s,r),Wr(r)}}function Wr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Cg(a)){var d=a;break e}a=a.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(br(p,""),d.flags&=-33);var g=Sg(r);_h(r,g,p);break;case 3:case 4:var w=d.stateNode.containerInfo,k=Sg(r);vh(r,k,w);break;default:throw Error(t(161))}}catch(M){Ot(r,r.return,M)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function ME(r,s,a){Te=r,Ag(r)}function Ag(r,s,a){for(var d=(r.mode&1)!==0;Te!==null;){var p=Te,g=p.child;if(p.tag===22&&d){var w=p.memoizedState!==null||xu;if(!w){var k=p.alternate,M=k!==null&&k.memoizedState!==null||_n;k=xu;var Z=_n;if(xu=w,(_n=M)&&!Z)for(Te=p;Te!==null;)w=Te,M=w.child,w.tag===22&&w.memoizedState!==null?Ng(p):M!==null?(M.return=w,Te=M):Ng(p);for(;g!==null;)Te=g,Ag(g),g=g.sibling;Te=p,xu=k,_n=Z}kg(r)}else p.subtreeFlags&8772&&g!==null?(g.return=p,Te=g):kg(r)}}function kg(r){for(;Te!==null;){var s=Te;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:_n||Ru(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!_n)if(a===null)d.componentDidMount();else{var p=s.elementType===s.type?a.memoizedProps:Er(s.type,a.memoizedProps);d.componentDidUpdate(p,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&bm(s,g,d);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}bm(s,w,a)}break;case 5:var k=s.stateNode;if(a===null&&s.flags&4){a=k;var M=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&a.focus();break;case"img":M.src&&(a.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Z=s.alternate;if(Z!==null){var le=Z.memoizedState;if(le!==null){var ue=le.dehydrated;ue!==null&&yr(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}_n||s.flags&512&&yh(s)}catch(oe){Ot(s,s.return,oe)}}if(s===r){Te=null;break}if(a=s.sibling,a!==null){a.return=s.return,Te=a;break}Te=s.return}}function bg(r){for(;Te!==null;){var s=Te;if(s===r){Te=null;break}var a=s.sibling;if(a!==null){a.return=s.return,Te=a;break}Te=s.return}}function Ng(r){for(;Te!==null;){var s=Te;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Ru(4,s)}catch(M){Ot(s,a,M)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(M){Ot(s,p,M)}}var g=s.return;try{yh(s)}catch(M){Ot(s,g,M)}break;case 5:var w=s.return;try{yh(s)}catch(M){Ot(s,w,M)}}}catch(M){Ot(s,s.return,M)}if(s===r){Te=null;break}var k=s.sibling;if(k!==null){k.return=s.return,Te=k;break}Te=s.return}}var VE=Math.ceil,Pu=ne.ReactCurrentDispatcher,wh=ne.ReactCurrentOwner,ar=ne.ReactCurrentBatchConfig,it=0,en=null,zt=null,cn=0,Kn=0,zo=Ki(0),Kt=0,Qa=null,$s=0,Au=0,Eh=0,Xa=null,jn=null,Th=0,$o=1/0,wi=null,ku=!1,Ih=null,es=null,bu=!1,ts=null,Nu=0,Ya=0,Ch=null,Du=-1,Ou=0;function bn(){return it&6?Ze():Du!==-1?Du:Du=Ze()}function ns(r){return r.mode&1?it&2&&cn!==0?cn&-cn:wE.transition!==null?(Ou===0&&(Ou=bs()),Ou):(r=Ye,r!==0||(r=window.event,r=r===void 0?16:Sa(r.type)),r):1}function Cr(r,s,a,d){if(50<Ya)throw Ya=0,Ch=null,Error(t(185));Ui(r,a,d),(!(it&2)||r!==en)&&(r===en&&(!(it&2)&&(Au|=a),Kt===4&&rs(r,cn)),Fn(r,d),a===1&&it===0&&!(s.mode&1)&&($o=Ze()+500,lu&&Xi()))}function Fn(r,s){var a=r.callbackNode;li(r,s);var d=ks(r,r===en?cn:0);if(d===0)a!==null&&mn(a),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(a!=null&&mn(a),s===1)r.tag===0?_E(Og.bind(null,r)):_m(Og.bind(null,r)),mE(function(){!(it&6)&&Xi()}),a=null;else{switch(zi(d)){case 1:a=er;break;case 4:a=Xe;break;case 16:a=mt;break;case 536870912:a=jr;break;default:a=mt}a=zg(a,Dg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Dg(r,s){if(Du=-1,Ou=0,it&6)throw Error(t(327));var a=r.callbackNode;if(Ho()&&r.callbackNode!==a)return null;var d=ks(r,r===en?cn:0);if(d===0)return null;if(d&30||d&r.expiredLanes||s)s=Lu(r,d);else{s=d;var p=it;it|=2;var g=Mg();(en!==r||cn!==s)&&(wi=null,$o=Ze()+500,Gs(r,s));do try{UE();break}catch(k){Lg(r,k)}while(!0);zd(),Pu.current=g,it=p,zt!==null?s=0:(en=null,cn=0,s=Kt)}if(s!==0){if(s===2&&(p=$n(r),p!==0&&(d=p,s=Sh(r,p))),s===1)throw a=Qa,Gs(r,0),rs(r,d),Fn(r,Ze()),a;if(s===6)rs(r,d);else{if(p=r.current.alternate,!(d&30)&&!jE(p)&&(s=Lu(r,d),s===2&&(g=$n(r),g!==0&&(d=g,s=Sh(r,g))),s===1))throw a=Qa,Gs(r,0),rs(r,d),Fn(r,Ze()),a;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:qs(r,jn,wi);break;case 3:if(rs(r,d),(d&130023424)===d&&(s=Th+500-Ze(),10<s)){if(ks(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){bn(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=bd(qs.bind(null,r,jn,wi),s);break}qs(r,jn,wi);break;case 4:if(rs(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var w=31-on(d);g=1<<w,w=s[w],w>p&&(p=w),d&=~g}if(d=p,d=Ze()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*VE(d/1960))-d,10<d){r.timeoutHandle=bd(qs.bind(null,r,jn,wi),d);break}qs(r,jn,wi);break;case 5:qs(r,jn,wi);break;default:throw Error(t(329))}}}return Fn(r,Ze()),r.callbackNode===a?Dg.bind(null,r):null}function Sh(r,s){var a=Xa;return r.current.memoizedState.isDehydrated&&(Gs(r,s).flags|=256),r=Lu(r,s),r!==2&&(s=jn,jn=a,s!==null&&xh(s)),r}function xh(r){jn===null?jn=r:jn.push.apply(jn,r)}function jE(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var p=a[d],g=p.getSnapshot;p=p.value;try{if(!_r(g(),p))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function rs(r,s){for(s&=~Eh,s&=~Au,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-on(s),d=1<<a;r[a]=-1,s&=~d}}function Og(r){if(it&6)throw Error(t(327));Ho();var s=ks(r,0);if(!(s&1))return Fn(r,Ze()),null;var a=Lu(r,s);if(r.tag!==0&&a===2){var d=$n(r);d!==0&&(s=d,a=Sh(r,d))}if(a===1)throw a=Qa,Gs(r,0),rs(r,s),Fn(r,Ze()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,qs(r,jn,wi),Fn(r,Ze()),null}function Rh(r,s){var a=it;it|=1;try{return r(s)}finally{it=a,it===0&&($o=Ze()+500,lu&&Xi())}}function Hs(r){ts!==null&&ts.tag===0&&!(it&6)&&Ho();var s=it;it|=1;var a=ar.transition,d=Ye;try{if(ar.transition=null,Ye=1,r)return r()}finally{Ye=d,ar.transition=a,it=s,!(it&6)&&Xi()}}function Ph(){Kn=zo.current,It(zo)}function Gs(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,pE(a)),zt!==null)for(a=zt.return;a!==null;){var d=a;switch(Vd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&ou();break;case 3:Fo(),It(Ln),It(gn),Xd();break;case 5:Kd(d);break;case 4:Fo();break;case 13:It(At);break;case 19:It(At);break;case 10:$d(d.type._context);break;case 22:case 23:Ph()}a=a.return}if(en=r,zt=r=is(r.current,null),cn=Kn=s,Kt=0,Qa=null,Eh=Au=$s=0,jn=Xa=null,Us!==null){for(s=0;s<Us.length;s++)if(a=Us[s],d=a.interleaved,d!==null){a.interleaved=null;var p=d.next,g=a.pending;if(g!==null){var w=g.next;g.next=p,d.next=w}a.pending=d}Us=null}return r}function Lg(r,s){do{var a=zt;try{if(zd(),vu.current=Tu,_u){for(var d=kt.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}_u=!1}if(zs=0,Zt=Wt=kt=null,$a=!1,Ha=0,wh.current=null,a===null||a.return===null){Kt=1,Qa=s,zt=null;break}e:{var g=r,w=a.return,k=a,M=s;if(s=cn,k.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var Z=M,le=k,ue=le.tag;if(!(le.mode&1)&&(ue===0||ue===11||ue===15)){var oe=le.alternate;oe?(le.updateQueue=oe.updateQueue,le.memoizedState=oe.memoizedState,le.lanes=oe.lanes):(le.updateQueue=null,le.memoizedState=null)}var ve=og(w);if(ve!==null){ve.flags&=-257,ag(ve,w,k,g,s),ve.mode&1&&sg(g,Z,s),s=ve,M=Z;var Se=s.updateQueue;if(Se===null){var Re=new Set;Re.add(M),s.updateQueue=Re}else Se.add(M);break e}else{if(!(s&1)){sg(g,Z,s),Ah();break e}M=Error(t(426))}}else if(Rt&&k.mode&1){var Lt=og(w);if(Lt!==null){!(Lt.flags&65536)&&(Lt.flags|=256),ag(Lt,w,k,g,s),Ud(Uo(M,k));break e}}g=M=Uo(M,k),Kt!==4&&(Kt=2),Xa===null?Xa=[g]:Xa.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var Q=rg(g,M,s);km(g,Q);break e;case 1:k=M;var U=g.type,Y=g.stateNode;if(!(g.flags&128)&&(typeof U.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(es===null||!es.has(Y)))){g.flags|=65536,s&=-s,g.lanes|=s;var he=ig(g,k,s);km(g,he);break e}}g=g.return}while(g!==null)}jg(a)}catch(Pe){s=Pe,zt===a&&a!==null&&(zt=a=a.return);continue}break}while(!0)}function Mg(){var r=Pu.current;return Pu.current=Tu,r===null?Tu:r}function Ah(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),en===null||!($s&268435455)&&!(Au&268435455)||rs(en,cn)}function Lu(r,s){var a=it;it|=2;var d=Mg();(en!==r||cn!==s)&&(wi=null,Gs(r,s));do try{FE();break}catch(p){Lg(r,p)}while(!0);if(zd(),it=a,Pu.current=d,zt!==null)throw Error(t(261));return en=null,cn=0,Kt}function FE(){for(;zt!==null;)Vg(zt)}function UE(){for(;zt!==null&&!Vi();)Vg(zt)}function Vg(r){var s=Bg(r.alternate,r,Kn);r.memoizedProps=r.pendingProps,s===null?jg(r):zt=s,wh.current=null}function jg(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=DE(a,s),a!==null){a.flags&=32767,zt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Kt=6,zt=null;return}}else if(a=NE(a,s,Kn),a!==null){zt=a;return}if(s=s.sibling,s!==null){zt=s;return}zt=s=r}while(s!==null);Kt===0&&(Kt=5)}function qs(r,s,a){var d=Ye,p=ar.transition;try{ar.transition=null,Ye=1,BE(r,s,a,d)}finally{ar.transition=p,Ye=d}return null}function BE(r,s,a,d){do Ho();while(ts!==null);if(it&6)throw Error(t(327));a=r.finishedWork;var p=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(_t(r,g),r===en&&(zt=en=null,cn=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||bu||(bu=!0,zg(mt,function(){return Ho(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=ar.transition,ar.transition=null;var w=Ye;Ye=1;var k=it;it|=4,wh.current=null,LE(r,a),Pg(a,r),aE(Ad),Hi=!!Pd,Ad=Pd=null,r.current=a,ME(a),oi(),it=k,Ye=w,ar.transition=g}else r.current=a;if(bu&&(bu=!1,ts=r,Nu=p),g=r.pendingLanes,g===0&&(es=null),As(a.stateNode),Fn(r,Ze()),s!==null)for(d=r.onRecoverableError,a=0;a<s.length;a++)p=s[a],d(p.value,{componentStack:p.stack,digest:p.digest});if(ku)throw ku=!1,r=Ih,Ih=null,r;return Nu&1&&r.tag!==0&&Ho(),g=r.pendingLanes,g&1?r===Ch?Ya++:(Ya=0,Ch=r):Ya=0,Xi(),null}function Ho(){if(ts!==null){var r=zi(Nu),s=ar.transition,a=Ye;try{if(ar.transition=null,Ye=16>r?16:r,ts===null)var d=!1;else{if(r=ts,ts=null,Nu=0,it&6)throw Error(t(331));var p=it;for(it|=4,Te=r.current;Te!==null;){var g=Te,w=g.child;if(Te.flags&16){var k=g.deletions;if(k!==null){for(var M=0;M<k.length;M++){var Z=k[M];for(Te=Z;Te!==null;){var le=Te;switch(le.tag){case 0:case 11:case 15:Ka(8,le,g)}var ue=le.child;if(ue!==null)ue.return=le,Te=ue;else for(;Te!==null;){le=Te;var oe=le.sibling,ve=le.return;if(Ig(le),le===Z){Te=null;break}if(oe!==null){oe.return=ve,Te=oe;break}Te=ve}}}var Se=g.alternate;if(Se!==null){var Re=Se.child;if(Re!==null){Se.child=null;do{var Lt=Re.sibling;Re.sibling=null,Re=Lt}while(Re!==null)}}Te=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,Te=w;else e:for(;Te!==null;){if(g=Te,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ka(9,g,g.return)}var Q=g.sibling;if(Q!==null){Q.return=g.return,Te=Q;break e}Te=g.return}}var U=r.current;for(Te=U;Te!==null;){w=Te;var Y=w.child;if(w.subtreeFlags&2064&&Y!==null)Y.return=w,Te=Y;else e:for(w=U;Te!==null;){if(k=Te,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:Ru(9,k)}}catch(Pe){Ot(k,k.return,Pe)}if(k===w){Te=null;break e}var he=k.sibling;if(he!==null){he.return=k.return,Te=he;break e}Te=k.return}}if(it=p,Xi(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(vt,r)}catch{}d=!0}return d}finally{Ye=a,ar.transition=s}}return!1}function Fg(r,s,a){s=Uo(a,s),s=rg(r,s,1),r=Ji(r,s,1),s=bn(),r!==null&&(Ui(r,1,s),Fn(r,s))}function Ot(r,s,a){if(r.tag===3)Fg(r,r,a);else for(;s!==null;){if(s.tag===3){Fg(s,r,a);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(es===null||!es.has(d))){r=Uo(a,r),r=ig(s,r,1),s=Ji(s,r,1),r=bn(),s!==null&&(Ui(s,1,r),Fn(s,r));break}}s=s.return}}function zE(r,s,a){var d=r.pingCache;d!==null&&d.delete(s),s=bn(),r.pingedLanes|=r.suspendedLanes&a,en===r&&(cn&a)===a&&(Kt===4||Kt===3&&(cn&130023424)===cn&&500>Ze()-Th?Gs(r,0):Eh|=a),Fn(r,s)}function Ug(r,s){s===0&&(r.mode&1?(s=fo,fo<<=1,!(fo&130023424)&&(fo=4194304)):s=1);var a=bn();r=yi(r,s),r!==null&&(Ui(r,s,a),Fn(r,a))}function $E(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Ug(r,a)}function HE(r,s){var a=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(a=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),Ug(r,a)}var Bg;Bg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Ln.current)Vn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return Vn=!1,bE(r,s,a);Vn=!!(r.flags&131072)}else Vn=!1,Rt&&s.flags&1048576&&wm(s,cu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Su(r,s),r=s.pendingProps;var p=No(s,gn.current);jo(s,a),p=Zd(null,s,d,r,p,a);var g=eh();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Mn(d)?(g=!0,au(s)):g=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,qd(s),p.updater=Iu,s.stateNode=p,p._reactInternals=s,oh(s,d,r,a),s=ch(null,s,d,!0,g,a)):(s.tag=0,Rt&&g&&Md(s),kn(null,s,p,a),s=s.child),s;case 16:d=s.elementType;e:{switch(Su(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=qE(d),r=Er(d,r),p){case 0:s=uh(null,s,d,r,a);break e;case 1:s=fg(null,s,d,r,a);break e;case 11:s=lg(null,s,d,r,a);break e;case 14:s=ug(null,s,d,Er(d.type,r),a);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Er(d,p),uh(r,s,d,p,a);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Er(d,p),fg(r,s,d,p,a);case 3:e:{if(pg(s),r===null)throw Error(t(387));d=s.pendingProps,g=s.memoizedState,p=g.element,Am(r,s),gu(s,d,null,a);var w=s.memoizedState;if(d=w.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){p=Uo(Error(t(423)),s),s=mg(r,s,d,a,p);break e}else if(d!==p){p=Uo(Error(t(424)),s),s=mg(r,s,d,a,p);break e}else for(Wn=Wi(s.stateNode.containerInfo.firstChild),qn=s,Rt=!0,wr=null,a=Rm(s,null,d,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Lo(),d===p){s=_i(r,s,a);break e}kn(r,s,d,a)}s=s.child}return s;case 5:return Nm(s),r===null&&Fd(s),d=s.type,p=s.pendingProps,g=r!==null?r.memoizedProps:null,w=p.children,kd(d,p)?w=null:g!==null&&kd(d,g)&&(s.flags|=32),hg(r,s),kn(r,s,w,a),s.child;case 6:return r===null&&Fd(s),null;case 13:return gg(r,s,a);case 4:return Wd(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=Mo(s,null,d,a):kn(r,s,d,a),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Er(d,p),lg(r,s,d,p,a);case 7:return kn(r,s,s.pendingProps,a),s.child;case 8:return kn(r,s,s.pendingProps.children,a),s.child;case 12:return kn(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,g=s.memoizedProps,w=p.value,Et(fu,d._currentValue),d._currentValue=w,g!==null)if(_r(g.value,w)){if(g.children===p.children&&!Ln.current){s=_i(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var k=g.dependencies;if(k!==null){w=g.child;for(var M=k.firstContext;M!==null;){if(M.context===d){if(g.tag===1){M=vi(-1,a&-a),M.tag=2;var Z=g.updateQueue;if(Z!==null){Z=Z.shared;var le=Z.pending;le===null?M.next=M:(M.next=le.next,le.next=M),Z.pending=M}}g.lanes|=a,M=g.alternate,M!==null&&(M.lanes|=a),Hd(g.return,a,s),k.lanes|=a;break}M=M.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,k=w.alternate,k!==null&&(k.lanes|=a),Hd(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}kn(r,s,p.children,a),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,jo(s,a),p=sr(p),d=d(p),s.flags|=1,kn(r,s,d,a),s.child;case 14:return d=s.type,p=Er(d,s.pendingProps),p=Er(d.type,p),ug(r,s,d,p,a);case 15:return cg(r,s,s.type,s.pendingProps,a);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Er(d,p),Su(r,s),s.tag=1,Mn(d)?(r=!0,au(s)):r=!1,jo(s,a),tg(s,d,p),oh(s,d,p,a),ch(null,s,d,!0,r,a);case 19:return vg(r,s,a);case 22:return dg(r,s,a)}throw Error(t(156,s.tag))};function zg(r,s){return pn(r,s)}function GE(r,s,a,d){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(r,s,a,d){return new GE(r,s,a,d)}function kh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function qE(r){if(typeof r=="function")return kh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===b)return 11;if(r===ke)return 14}return 2}function is(r,s){var a=r.alternate;return a===null?(a=lr(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Mu(r,s,a,d,p,g){var w=2;if(d=r,typeof r=="function")kh(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case P:return Ws(a.children,p,g,s);case I:w=8,p|=8;break;case C:return r=lr(12,a,s,p|2),r.elementType=C,r.lanes=g,r;case S:return r=lr(13,a,s,p),r.elementType=S,r.lanes=g,r;case Ie:return r=lr(19,a,s,p),r.elementType=Ie,r.lanes=g,r;case Fe:return Vu(a,p,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:w=10;break e;case L:w=9;break e;case b:w=11;break e;case ke:w=14;break e;case je:w=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=lr(w,a,s,p),s.elementType=r,s.type=d,s.lanes=g,s}function Ws(r,s,a,d){return r=lr(7,r,d,s),r.lanes=a,r}function Vu(r,s,a,d){return r=lr(22,r,d,s),r.elementType=Fe,r.lanes=a,r.stateNode={isHidden:!1},r}function bh(r,s,a){return r=lr(6,r,null,s),r.lanes=a,r}function Nh(r,s,a){return s=lr(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function WE(r,s,a,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fi(0),this.expirationTimes=Fi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Dh(r,s,a,d,p,g,w,k,M){return r=new WE(r,s,a,k,M),s===1?(s=1,g===!0&&(s|=8)):s=0,g=lr(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},qd(g),r}function KE(r,s,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:d==null?null:""+d,children:r,containerInfo:s,implementation:a}}function $g(r){if(!r)return Qi;r=r._reactInternals;e:{if(pt(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Mn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Mn(a))return ym(r,a,s)}return s}function Hg(r,s,a,d,p,g,w,k,M){return r=Dh(a,d,!0,r,p,g,w,k,M),r.context=$g(null),a=r.current,d=bn(),p=ns(a),g=vi(d,p),g.callback=s??null,Ji(a,g,p),r.current.lanes=p,Ui(r,p,d),Fn(r,d),r}function ju(r,s,a,d){var p=s.current,g=bn(),w=ns(p);return a=$g(a),s.context===null?s.context=a:s.pendingContext=a,s=vi(g,w),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Ji(p,s,w),r!==null&&(Cr(r,p,w,g),mu(r,p,w)),w}function Fu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Gg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Oh(r,s){Gg(r,s),(r=r.alternate)&&Gg(r,s)}function QE(){return null}var qg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Lh(r){this._internalRoot=r}Uu.prototype.render=Lh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));ju(r,s,null,null)},Uu.prototype.unmount=Lh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Hs(function(){ju(null,r,null,null)}),s[fi]=null}};function Uu(r){this._internalRoot=r}Uu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ul();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Ur.length&&s!==0&&s<Ur[a].priority;a++);Ur.splice(a,0,r),a===0&&$l(r)}};function Mh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Bu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Wg(){}function XE(r,s,a,d,p){if(p){if(typeof d=="function"){var g=d;d=function(){var Z=Fu(w);g.call(Z)}}var w=Hg(s,d,r,0,null,!1,!1,"",Wg);return r._reactRootContainer=w,r[fi]=w.current,La(r.nodeType===8?r.parentNode:r),Hs(),w}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var k=d;d=function(){var Z=Fu(M);k.call(Z)}}var M=Dh(r,0,!1,null,null,!1,!1,"",Wg);return r._reactRootContainer=M,r[fi]=M.current,La(r.nodeType===8?r.parentNode:r),Hs(function(){ju(s,M,a,d)}),M}function zu(r,s,a,d,p){var g=a._reactRootContainer;if(g){var w=g;if(typeof p=="function"){var k=p;p=function(){var M=Fu(w);k.call(M)}}ju(s,w,r,p)}else w=XE(a,s,r,p,d);return Fu(w)}jl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=ji(s.pendingLanes);a!==0&&(Bi(s,a|1),Fn(s,Ze()),!(it&6)&&($o=Ze()+500,Xi()))}break;case 13:Hs(function(){var d=yi(r,1);if(d!==null){var p=bn();Cr(d,r,1,p)}}),Oh(r,1)}},po=function(r){if(r.tag===13){var s=yi(r,134217728);if(s!==null){var a=bn();Cr(s,r,134217728,a)}Oh(r,134217728)}},Fl=function(r){if(r.tag===13){var s=ns(r),a=yi(r,s);if(a!==null){var d=bn();Cr(a,r,s,d)}Oh(r,s)}},Ul=function(){return Ye},Bl=function(r,s){var a=Ye;try{return Ye=r,s()}finally{Ye=a}},Mi=function(r,s,a){switch(s){case"input":if(Nt(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var d=a[s];if(d!==r&&d.form===r.form){var p=su(d);if(!p)throw Error(t(90));Yt(d),Nt(d,p)}}}break;case"textarea":fr(r,a);break;case"select":s=a.value,s!=null&&Ft(r,!!a.multiple,s,!1)}},si=Rh,Ps=Hs;var YE={usingClientEntryPoint:!1,Events:[ja,ko,su,Pn,Mr,Rh]},Ja={findFiberByHostInstance:Ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JE={bundleType:Ja.bundleType,version:Ja.version,rendererPackageName:Ja.rendererPackageName,rendererConfig:Ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Jn(r),r===null?null:r.stateNode},findFiberByHostInstance:Ja.findFiberByHostInstance||QE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{vt=$u.inject(JE),Ut=$u}catch{}}return Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YE,Un.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mh(s))throw Error(t(200));return KE(r,s,null,a)},Un.createRoot=function(r,s){if(!Mh(r))throw Error(t(299));var a=!1,d="",p=qg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Dh(r,1,!1,null,null,a,!1,d,p),r[fi]=s.current,La(r.nodeType===8?r.parentNode:r),new Lh(s)},Un.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Jn(s),r=r===null?null:r.stateNode,r},Un.flushSync=function(r){return Hs(r)},Un.hydrate=function(r,s,a){if(!Bu(s))throw Error(t(200));return zu(null,r,s,!0,a)},Un.hydrateRoot=function(r,s,a){if(!Mh(r))throw Error(t(405));var d=a!=null&&a.hydratedSources||null,p=!1,g="",w=qg;if(a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=Hg(s,null,r,1,a??null,p,!1,g,w),r[fi]=s.current,La(r),d)for(r=0;r<d.length;r++)a=d[r],p=a._getVersion,p=p(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,p]:s.mutableSourceEagerHydrationData.push(a,p);return new Uu(s)},Un.render=function(r,s,a){if(!Bu(s))throw Error(t(200));return zu(null,r,s,!1,a)},Un.unmountComponentAtNode=function(r){if(!Bu(r))throw Error(t(40));return r._reactRootContainer?(Hs(function(){zu(null,null,r,!1,function(){r._reactRootContainer=null,r[fi]=null})}),!0):!1},Un.unstable_batchedUpdates=Rh,Un.unstable_renderSubtreeIntoContainer=function(r,s,a,d){if(!Bu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return zu(r,s,a,!1,d)},Un.version="18.3.1-next-f1338f8080-20240426",Un}var ty;function l_(){if(ty)return Fh.exports;ty=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fh.exports=aT(),Fh.exports}var ny;function lT(){if(ny)return Hu;ny=1;var n=l_();return Hu.createRoot=n.createRoot,Hu.hydrateRoot=n.hydrateRoot,Hu}var uT=lT(),el={},ry;function cT(){if(ry)return el;ry=1,Object.defineProperty(el,"__esModule",{value:!0}),el.parse=c,el.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function c(x,A){const O=new l,z=x.length;if(z<2)return O;const V=(A==null?void 0:A.decode)||v;let G=0;do{const K=x.indexOf("=",G);if(K===-1)break;const J=x.indexOf(";",G),ne=J===-1?z:J;if(K>ne){G=x.lastIndexOf(";",K-1)+1;continue}const de=h(x,G,K),F=f(x,K,de),P=x.slice(de,F);if(O[P]===void 0){let I=h(x,K+1,ne),C=f(x,ne,I);const N=V(x.slice(I,C));O[P]=N}G=ne+1}while(G<z);return O}function h(x,A,O){do{const z=x.charCodeAt(A);if(z!==32&&z!==9)return A}while(++A<O);return O}function f(x,A,O){for(;A>O;){const z=x.charCodeAt(--A);if(z!==32&&z!==9)return A+1}return O}function y(x,A,O){const z=(O==null?void 0:O.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const V=z(A);if(!e.test(V))throw new TypeError(`argument val is invalid: ${A}`);let G=x+"="+V;if(!O)return G;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);G+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);G+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);G+="; Path="+O.path}if(O.expires){if(!T(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);G+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(G+="; HttpOnly"),O.secure&&(G+="; Secure"),O.partitioned&&(G+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return G}function v(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function T(x){return o.call(x)==="[object Date]"}return el}cT();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iy="popstate";function dT(n={}){function e(o,l){let{pathname:c="/",search:h="",hash:f=""}=Ai(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),pl("",{pathname:c,search:h,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let f=o.location.href,y=f.indexOf("#");h=y===-1?f:f.slice(0,y)}return h+"#"+(typeof l=="string"?l:_s(l))}function i(o,l){Qt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return fT(e,t,i,n)}function Qe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Qt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hT(){return Math.random().toString(36).substring(2,10)}function sy(n,e){return{usr:n.state,key:n.key,idx:e}}function pl(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ai(e):e,state:t,key:e&&e.key||i||hT()}}function _s({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ai(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function fT(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,h="POP",f=null,y=v();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function v(){return(c.state||{idx:null}).idx}function T(){h="POP";let V=v(),G=V==null?null:V-y;y=V,f&&f({action:h,location:z.location,delta:G})}function x(V,G){h="PUSH";let K=pl(z.location,V,G);t&&t(K,V),y=v()+1;let J=sy(K,y),ne=z.createHref(K);try{c.pushState(J,"",ne)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(ne)}l&&f&&f({action:h,location:z.location,delta:1})}function A(V,G){h="REPLACE";let K=pl(z.location,V,G);t&&t(K,V),y=v();let J=sy(K,y),ne=z.createHref(K);c.replaceState(J,"",ne),l&&f&&f({action:h,location:z.location,delta:0})}function O(V){let G=o.location.origin!=="null"?o.location.origin:o.location.href,K=typeof V=="string"?V:_s(V);return K=K.replace(/ $/,"%20"),Qe(G,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,G)}let z={get action(){return h},get location(){return n(o,c)},listen(V){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(iy,T),f=V,()=>{o.removeEventListener(iy,T),f=null}},createHref(V){return e(o,V)},createURL:O,encodeLocation(V){let G=O(V);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:x,replace:A,go(V){return c.go(V)}};return z}var pT=new Set(["lazy","caseSensitive","path","id","index","children"]);function mT(n){return n.index===!0}function gc(n,e,t=[],i={}){return n.map((o,l)=>{let c=[...t,String(l)],h=typeof o.id=="string"?o.id:c.join("-");if(Qe(o.index!==!0||!o.children,"Cannot specify children on an index route"),Qe(!i[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),mT(o)){let f={...o,...e(o),id:h};return i[h]=f,f}else{let f={...o,...e(o),id:h,children:void 0};return i[h]=f,o.children&&(f.children=gc(o.children,e,c,i)),f}})}function ls(n,e,t="/"){return nc(n,e,t,!1)}function nc(n,e,t,i){let o=typeof e=="string"?Ai(e):e,l=Rr(o.pathname||"/",t);if(l==null)return null;let c=u_(n);yT(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let y=PT(l);h=xT(c[f],y,i)}return h}function gT(n,e){let{route:t,pathname:i,params:o}=n;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function u_(n,e=[],t=[],i=""){let o=(l,c,h)=>{let f={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(Qe(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let y=Yr([i,f.relativePath]),v=t.concat(f);l.children&&l.children.length>0&&(Qe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),u_(l.children,e,v,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:CT(y,l.index),routesMeta:v})};return n.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))o(l,c);else for(let f of c_(l.path))o(l,c,f)}),e}function c_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=c_(i.join("/")),h=[];return h.push(...c.map(f=>f===""?l:[l,f].join("/"))),o&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function yT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ST(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var vT=/^:[\w-]+$/,_T=3,wT=2,ET=1,TT=10,IT=-2,oy=n=>n==="*";function CT(n,e){let t=n.split("/"),i=t.length;return t.some(oy)&&(i+=IT),e&&(i+=wT),t.filter(o=>!oy(o)).reduce((o,l)=>o+(vT.test(l)?_T:l===""?ET:TT),i)}function ST(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function xT(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],y=h===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=yc({path:f.relativePath,caseSensitive:f.caseSensitive,end:y},v),x=f.route;if(!T&&y&&t&&!i[i.length-1].route.index&&(T=yc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:Yr([l,T.pathname]),pathnameBase:bT(Yr([l,T.pathnameBase])),route:x}),T.pathnameBase!=="/"&&(l=Yr([l,T.pathnameBase]))}return c}function yc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=RT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((y,{paramName:v,isOptional:T},x)=>{if(v==="*"){let O=h[x]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const A=h[x];return T&&!A?y[v]=void 0:y[v]=(A||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:c,pattern:n}}function RT(n,e=!1,t=!0){Qt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function PT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Rr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function AT(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Ai(n):n;return{pathname:t?t.startsWith("/")?t:kT(t,e):e,search:NT(i),hash:DT(o)}}function kT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function zh(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function d_(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function jc(n){let e=d_(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Fc(n,e,t,i=!1){let o;typeof n=="string"?o=Ai(n):(o={...n},Qe(!o.pathname||!o.pathname.includes("?"),zh("?","pathname","search",o)),Qe(!o.pathname||!o.pathname.includes("#"),zh("#","pathname","hash",o)),Qe(!o.search||!o.search.includes("#"),zh("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,h;if(c==null)h=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),T-=1;o.pathname=x.join("/")}h=T>=0?e[T]:"/"}let f=AT(o,h),y=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(y||v)&&(f.pathname+="/"),f}var Yr=n=>n.join("/").replace(/\/\/+/g,"/"),bT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),NT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,DT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,vc=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function ml(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var h_=["POST","PUT","PATCH","DELETE"],OT=new Set(h_),LT=["GET",...h_],MT=new Set(LT),VT=new Set([301,302,303,307,308]),jT=new Set([307,308]),$h={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},FT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},tl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ff=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UT=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),f_="remix-router-transitions",p_=Symbol("ResetLoaderData");function BT(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Qe(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||UT,o={},l=gc(n.routes,i,void 0,o),c,h=n.basename||"/",f=n.dataStrategy||qT,y=n.patchRoutesOnNavigation,v={...n.future},T=null,x=new Set,A=null,O=null,z=null,V=n.hydrationData!=null,G=ls(l,n.history.location,h),K=!1,J=null;if(G==null&&!y){let D=ur(404,{pathname:n.history.location.pathname}),{matches:H,route:X}=yy(l);G=H,J={[X.id]:D}}G&&!n.hydrationData&&Pn(G,l,n.history.location.pathname).active&&(G=null);let ne;if(G)if(G.some(D=>D.route.lazy))ne=!1;else if(!G.some(D=>D.route.loader))ne=!0;else{let D=n.hydrationData?n.hydrationData.loaderData:null,H=n.hydrationData?n.hydrationData.errors:null;if(H){let X=G.findIndex(se=>H[se.route.id]!==void 0);ne=G.slice(0,X+1).every(se=>!of(se.route,D,H))}else ne=G.every(X=>!of(X.route,D,H))}else{ne=!1,G=[];let D=Pn(null,l,n.history.location.pathname);D.active&&D.matches&&(K=!0,G=D.matches)}let de,F={historyAction:n.history.action,location:n.history.location,matches:G,initialized:ne,navigation:$h,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||J,fetchers:new Map,blockers:new Map},P="POP",I=!1,C,N=!1,L=new Map,b=null,S=!1,Ie=!1,ke=new Set,je=new Map,Fe=0,ae=-1,te=new Map,$=new Set,j=new Map,q=new Map,ie=new Set,me=new Map,Ce,Ae=null;function Be(){if(T=n.history.listen(({action:D,location:H,delta:X})=>{if(Ce){Ce(),Ce=void 0;return}Qt(me.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let se=Or({currentLocation:F.location,nextLocation:H,historyAction:D});if(se&&X!=null){let pe=new Promise(xe=>{Ce=xe});n.history.go(X*-1),Dr(se,{state:"blocked",location:H,proceed(){Dr(se,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),pe.then(()=>n.history.go(X))},reset(){let xe=new Map(F.blockers);xe.set(se,tl),He({blockers:xe})}});return}return Ct(D,H)}),t){r1(e,L);let D=()=>i1(e,L);e.addEventListener("pagehide",D),b=()=>e.removeEventListener("pagehide",D)}return F.initialized||Ct("POP",F.location,{initialHydration:!0}),de}function Ge(){T&&T(),b&&b(),x.clear(),C&&C.abort(),F.fetchers.forEach((D,H)=>ri(H)),F.blockers.forEach((D,H)=>Li(H))}function Je(D){return x.add(D),()=>x.delete(D)}function He(D,H={}){F={...F,...D};let X=[],se=[];F.fetchers.forEach((pe,xe)=>{pe.state==="idle"&&(ie.has(xe)?X.push(xe):se.push(xe))}),ie.forEach(pe=>{!F.fetchers.has(pe)&&!je.has(pe)&&X.push(pe)}),[...x].forEach(pe=>pe(F,{deletedFetchers:X,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),X.forEach(pe=>ri(pe)),se.forEach(pe=>F.fetchers.delete(pe))}function dt(D,H,{flushSync:X}={}){var ge,Le;let se=F.actionData!=null&&F.navigation.formMethod!=null&&xr(F.navigation.formMethod)&&F.navigation.state==="loading"&&((ge=D.state)==null?void 0:ge._isRedirect)!==!0,pe;H.actionData?Object.keys(H.actionData).length>0?pe=H.actionData:pe=null:se?pe=F.actionData:pe=null;let xe=H.loaderData?my(F.loaderData,H.loaderData,H.matches||[],H.errors):F.loaderData,be=F.blockers;be.size>0&&(be=new Map(be),be.forEach((Ue,ft)=>be.set(ft,tl)));let we=I===!0||F.navigation.formMethod!=null&&xr(F.navigation.formMethod)&&((Le=D.state)==null?void 0:Le._isRedirect)!==!0;c&&(l=c,c=void 0),S||P==="POP"||(P==="PUSH"?n.history.push(D,D.state):P==="REPLACE"&&n.history.replace(D,D.state));let ye;if(P==="POP"){let Ue=L.get(F.location.pathname);Ue&&Ue.has(D.pathname)?ye={currentLocation:F.location,nextLocation:D}:L.has(D.pathname)&&(ye={currentLocation:D,nextLocation:F.location})}else if(N){let Ue=L.get(F.location.pathname);Ue?Ue.add(D.pathname):(Ue=new Set([D.pathname]),L.set(F.location.pathname,Ue)),ye={currentLocation:F.location,nextLocation:D}}He({...H,actionData:pe,loaderData:xe,historyAction:P,location:D,initialized:!0,navigation:$h,revalidation:"idle",restoreScrollPosition:ii(D,H.matches||F.matches),preventScrollReset:we,blockers:be},{viewTransitionOpts:ye,flushSync:X===!0}),P="POP",I=!1,N=!1,S=!1,Ie=!1,Ae==null||Ae.resolve(),Ae=null}async function Yt(D,H){if(typeof D=="number"){n.history.go(D);return}let X=sf(F.location,F.matches,h,D,H==null?void 0:H.fromRouteId,H==null?void 0:H.relative),{path:se,submission:pe,error:xe}=ay(!1,X,H),be=F.location,we=pl(F.location,se,H&&H.state);we={...we,...n.history.encodeLocation(we)};let ye=H&&H.replace!=null?H.replace:void 0,ge="PUSH";ye===!0?ge="REPLACE":ye===!1||pe!=null&&xr(pe.formMethod)&&pe.formAction===F.location.pathname+F.location.search&&(ge="REPLACE");let Le=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,Ue=(H&&H.flushSync)===!0,ft=Or({currentLocation:be,nextLocation:we,historyAction:ge});if(ft){Dr(ft,{state:"blocked",location:we,proceed(){Dr(ft,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),Yt(D,H)},reset(){let pt=new Map(F.blockers);pt.set(ft,tl),He({blockers:pt})}});return}await Ct(ge,we,{submission:pe,pendingError:xe,preventScrollReset:Le,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:Ue})}function Gt(){Ae||(Ae=s1()),ni(),He({revalidation:"loading"});let D=Ae.promise;return F.navigation.state==="submitting"?D:F.navigation.state==="idle"?(Ct(F.historyAction,F.location,{startUninterruptedRevalidation:!0}),D):(Ct(P||F.historyAction,F.navigation.location,{overrideNavigation:F.navigation,enableViewTransition:N===!0}),D)}async function Ct(D,H,X){C&&C.abort(),C=null,P=D,S=(X&&X.startUninterruptedRevalidation)===!0,Yn(F.location,F.matches),I=(X&&X.preventScrollReset)===!0,N=(X&&X.enableViewTransition)===!0;let se=c||l,pe=X&&X.overrideNavigation,xe=X!=null&&X.initialHydration&&F.matches&&F.matches.length>0&&!K?F.matches:ls(se,H,h),be=(X&&X.flushSync)===!0;if(xe&&F.initialized&&!Ie&&JT(F.location,H)&&!(X&&X.submission&&xr(X.submission.formMethod))){dt(H,{matches:xe},{flushSync:be});return}let we=Pn(xe,se,H.pathname);if(we.active&&we.matches&&(xe=we.matches),!xe){let{error:ut,notFoundMatches:We,route:St}=Lr(H.pathname);dt(H,{matches:We,loaderData:{},errors:{[St.id]:ut}},{flushSync:be});return}C=new AbortController;let ye=Go(n.history,H,C.signal,X&&X.submission),ge;if(X&&X.pendingError)ge=[Xs(xe).route.id,{type:"error",error:X.pendingError}];else if(X&&X.submission&&xr(X.submission.formMethod)){let ut=await ct(ye,H,X.submission,xe,we.active,{replace:X.replace,flushSync:be});if(ut.shortCircuited)return;if(ut.pendingActionResult){let[We,St]=ut.pendingActionResult;if(Qn(St)&&ml(St.error)&&St.error.status===404){C=null,dt(H,{matches:ut.matches,loaderData:{},errors:{[We]:St.error}});return}}xe=ut.matches||xe,ge=ut.pendingActionResult,pe=Hh(H,X.submission),be=!1,we.active=!1,ye=Go(n.history,ye.url,ye.signal)}let{shortCircuited:Le,matches:Ue,loaderData:ft,errors:pt}=await jt(ye,H,xe,we.active,pe,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,be,ge);Le||(C=null,dt(H,{matches:Ue||xe,...gy(ge),loaderData:ft,errors:pt}))}async function ct(D,H,X,se,pe,xe={}){ni();let be=t1(H,X);if(He({navigation:be},{flushSync:xe.flushSync===!0}),pe){let ge=await Mr(se,H.pathname,D.signal);if(ge.type==="aborted")return{shortCircuited:!0};if(ge.type==="error"){let Le=Xs(ge.partialMatches).route.id;return{matches:ge.partialMatches,pendingActionResult:[Le,{type:"error",error:ge.error}]}}else if(ge.matches)se=ge.matches;else{let{notFoundMatches:Le,error:Ue,route:ft}=Lr(H.pathname);return{matches:Le,pendingActionResult:[ft.id,{type:"error",error:Ue}]}}}let we,ye=il(se,H);if(!ye.route.action&&!ye.route.lazy)we={type:"error",error:ur(405,{method:D.method,pathname:H.pathname,routeId:ye.route.id})};else if(we=(await sn("action",F,D,[ye],se,null))[ye.route.id],D.signal.aborted)return{shortCircuited:!0};if(Ys(we)){let ge;return xe&&xe.replace!=null?ge=xe.replace:ge=hy(we.response.headers.get("Location"),new URL(D.url),h)===F.location.pathname+F.location.search,await Dt(D,we,!0,{submission:X,replace:ge}),{shortCircuited:!0}}if(Qn(we)){let ge=Xs(se,ye.route.id);return(xe&&xe.replace)!==!0&&(P="PUSH"),{matches:se,pendingActionResult:[ge.route.id,we]}}return{matches:se,pendingActionResult:[ye.route.id,we]}}async function jt(D,H,X,se,pe,xe,be,we,ye,ge,Le){let Ue=pe||Hh(H,xe),ft=xe||be||_y(Ue),pt=!S&&!ye;if(se){if(pt){let mt=Nt(Le);He({navigation:Ue,...mt!==void 0?{actionData:mt}:{}},{flushSync:ge})}let Xe=await Mr(X,H.pathname,D.signal);if(Xe.type==="aborted")return{shortCircuited:!0};if(Xe.type==="error"){let mt=Xs(Xe.partialMatches).route.id;return{matches:Xe.partialMatches,loaderData:{},errors:{[mt]:Xe.error}}}else if(Xe.matches)X=Xe.matches;else{let{error:mt,notFoundMatches:Vr,route:jr}=Lr(H.pathname);return{matches:Vr,loaderData:{},errors:{[jr.id]:mt}}}}let ut=c||l,[We,St]=uy(n.history,F,X,ft,H,ye===!0,Ie,ke,ie,j,$,ut,h,Le);if(ae=++Fe,We.length===0&&St.length===0){let Xe=Di();return dt(H,{matches:X,loaderData:{},errors:Le&&Qn(Le[1])?{[Le[0]]:Le[1].error}:null,...gy(Le),...Xe?{fetchers:new Map(F.fetchers)}:{}},{flushSync:ge}),{shortCircuited:!0}}if(pt){let Xe={};if(!se){Xe.navigation=Ue;let mt=Nt(Le);mt!==void 0&&(Xe.actionData=mt)}St.length>0&&(Xe.fetchers=wt(St)),He(Xe,{flushSync:ge})}St.forEach(Xe=>{fn(Xe.key),Xe.controller&&je.set(Xe.key,Xe.controller)});let Jn=()=>St.forEach(Xe=>fn(Xe.key));C&&C.signal.addEventListener("abort",Jn);let{loaderResults:Zn,fetcherResults:pn}=await fr(F,X,We,St,D);if(D.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",Jn),St.forEach(Xe=>je.delete(Xe.key));let mn=Gu(Zn);if(mn)return await Dt(D,mn.result,!0,{replace:we}),{shortCircuited:!0};if(mn=Gu(pn),mn)return $.add(mn.key),await Dt(D,mn.result,!0,{replace:we}),{shortCircuited:!0};let{loaderData:Vi,errors:oi}=py(F,X,Zn,Le,St,pn);ye&&F.errors&&(oi={...F.errors,...oi});let Ze=Di(),ai=Oi(ae),er=Ze||ai||St.length>0;return{matches:X,loaderData:Vi,errors:oi,...er?{fetchers:new Map(F.fetchers)}:{}}}function Nt(D){if(D&&!Qn(D[1]))return{[D[0]]:D[1].data};if(F.actionData)return Object.keys(F.actionData).length===0?null:F.actionData}function wt(D){return D.forEach(H=>{let X=F.fetchers.get(H.key),se=nl(void 0,X?X.data:void 0);F.fetchers.set(H.key,se)}),new Map(F.fetchers)}async function zn(D,H,X,se){fn(D);let pe=(se&&se.flushSync)===!0,xe=c||l,be=sf(F.location,F.matches,h,X,H,se==null?void 0:se.relative),we=ls(xe,be,h),ye=Pn(we,xe,be);if(ye.active&&ye.matches&&(we=ye.matches),!we){ht(D,H,ur(404,{pathname:be}),{flushSync:pe});return}let{path:ge,submission:Le,error:Ue}=ay(!0,be,se);if(Ue){ht(D,H,Ue,{flushSync:pe});return}let ft=il(we,ge),pt=(se&&se.preventScrollReset)===!0;if(Le&&xr(Le.formMethod)){await xn(D,H,ge,ft,we,ye.active,pe,pt,Le);return}j.set(D,{routeId:H,path:ge}),await Ft(D,H,ge,ft,we,ye.active,pe,pt,Le)}async function xn(D,H,X,se,pe,xe,be,we,ye){ni(),j.delete(D);function ge(vt){if(!vt.route.action&&!vt.route.lazy){let Ut=ur(405,{method:ye.formMethod,pathname:X,routeId:H});return ht(D,H,Ut,{flushSync:be}),!0}return!1}if(!xe&&ge(se))return;let Le=F.fetchers.get(D);yt(D,n1(ye,Le),{flushSync:be});let Ue=new AbortController,ft=Go(n.history,X,Ue.signal,ye);if(xe){let vt=await Mr(pe,X,ft.signal);if(vt.type==="aborted")return;if(vt.type==="error"){ht(D,H,vt.error,{flushSync:be});return}else if(vt.matches){if(pe=vt.matches,se=il(pe,X),ge(se))return}else{ht(D,H,ur(404,{pathname:X}),{flushSync:be});return}}je.set(D,Ue);let pt=Fe,We=(await sn("action",F,ft,[se],pe,D))[se.route.id];if(ft.signal.aborted){je.get(D)===Ue&&je.delete(D);return}if(ie.has(D)){if(Ys(We)||Qn(We)){yt(D,as(void 0));return}}else{if(Ys(We))if(je.delete(D),ae>pt){yt(D,as(void 0));return}else return $.add(D),yt(D,nl(ye)),Dt(ft,We,!1,{fetcherSubmission:ye,preventScrollReset:we});if(Qn(We)){ht(D,H,We.error);return}}let St=F.navigation.location||F.location,Jn=Go(n.history,St,Ue.signal),Zn=c||l,pn=F.navigation.state!=="idle"?ls(Zn,F.navigation.location,h):F.matches;Qe(pn,"Didn't find any matches after fetcher action");let mn=++Fe;te.set(D,mn);let Vi=nl(ye,We.data);F.fetchers.set(D,Vi);let[oi,Ze]=uy(n.history,F,pn,ye,St,!1,Ie,ke,ie,j,$,Zn,h,[se.route.id,We]);Ze.filter(vt=>vt.key!==D).forEach(vt=>{let Ut=vt.key,As=F.fetchers.get(Ut),on=nl(void 0,As?As.data:void 0);F.fetchers.set(Ut,on),fn(Ut),vt.controller&&je.set(Ut,vt.controller)}),He({fetchers:new Map(F.fetchers)});let ai=()=>Ze.forEach(vt=>fn(vt.key));Ue.signal.addEventListener("abort",ai);let{loaderResults:er,fetcherResults:Xe}=await fr(F,pn,oi,Ze,Jn);if(Ue.signal.aborted)return;Ue.signal.removeEventListener("abort",ai),te.delete(D),je.delete(D),Ze.forEach(vt=>je.delete(vt.key));let mt=Gu(er);if(mt)return Dt(Jn,mt.result,!1,{preventScrollReset:we});if(mt=Gu(Xe),mt)return $.add(mt.key),Dt(Jn,mt.result,!1,{preventScrollReset:we});let{loaderData:Vr,errors:jr}=py(F,pn,er,void 0,Ze,Xe);if(F.fetchers.has(D)){let vt=as(We.data);F.fetchers.set(D,vt)}Oi(mn),F.navigation.state==="loading"&&mn>ae?(Qe(P,"Expected pending action"),C&&C.abort(),dt(F.navigation.location,{matches:pn,loaderData:Vr,errors:jr,fetchers:new Map(F.fetchers)})):(He({errors:jr,loaderData:my(F.loaderData,Vr,pn,jr),fetchers:new Map(F.fetchers)}),Ie=!1)}async function Ft(D,H,X,se,pe,xe,be,we,ye){let ge=F.fetchers.get(D);yt(D,nl(ye,ge?ge.data:void 0),{flushSync:be});let Le=new AbortController,Ue=Go(n.history,X,Le.signal);if(xe){let We=await Mr(pe,X,Ue.signal);if(We.type==="aborted")return;if(We.type==="error"){ht(D,H,We.error,{flushSync:be});return}else if(We.matches)pe=We.matches,se=il(pe,X);else{ht(D,H,ur(404,{pathname:X}),{flushSync:be});return}}je.set(D,Le);let ft=Fe,ut=(await sn("loader",F,Ue,[se],pe,D))[se.route.id];if(je.get(D)===Le&&je.delete(D),!Ue.signal.aborted){if(ie.has(D)){yt(D,as(void 0));return}if(Ys(ut))if(ae>ft){yt(D,as(void 0));return}else{$.add(D),await Dt(Ue,ut,!1,{preventScrollReset:we});return}if(Qn(ut)){ht(D,H,ut.error);return}yt(D,as(ut.data))}}async function Dt(D,H,X,{submission:se,fetcherSubmission:pe,preventScrollReset:xe,replace:be}={}){H.response.headers.has("X-Remix-Revalidate")&&(Ie=!0);let we=H.response.headers.get("Location");Qe(we,"Expected a Location header on the redirect Response"),we=hy(we,new URL(D.url),h);let ye=pl(F.location,we,{_isRedirect:!0});if(t){let ut=!1;if(H.response.headers.has("X-Remix-Reload-Document"))ut=!0;else if(Ff.test(we)){const We=n.history.createURL(we);ut=We.origin!==e.location.origin||Rr(We.pathname,h)==null}if(ut){be?e.location.replace(we):e.location.assign(we);return}}C=null;let ge=be===!0||H.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Le,formAction:Ue,formEncType:ft}=F.navigation;!se&&!pe&&Le&&Ue&&ft&&(se=_y(F.navigation));let pt=se||pe;if(jT.has(H.response.status)&&pt&&xr(pt.formMethod))await Ct(ge,ye,{submission:{...pt,formAction:we},preventScrollReset:xe||I,enableViewTransition:X?N:void 0});else{let ut=Hh(ye,se);await Ct(ge,ye,{overrideNavigation:ut,fetcherSubmission:pe,preventScrollReset:xe||I,enableViewTransition:X?N:void 0})}}async function sn(D,H,X,se,pe,xe){let be,we={};try{be=await WT(f,D,H,X,se,pe,xe,o,i)}catch(ye){return se.forEach(ge=>{we[ge.route.id]={type:"error",error:ye}}),we}for(let[ye,ge]of Object.entries(be))if(ZT(ge)){let Le=ge.result;we[ye]={type:"redirect",response:XT(Le,X,ye,pe,h)}}else we[ye]=await QT(ge);return we}async function fr(D,H,X,se,pe){let xe=sn("loader",D,pe,X,H,null),be=Promise.all(se.map(async ge=>{if(ge.matches&&ge.match&&ge.controller){let Ue=(await sn("loader",D,Go(n.history,ge.path,ge.controller.signal),[ge.match],ge.matches,ge.key))[ge.match.route.id];return{[ge.key]:Ue}}else return Promise.resolve({[ge.key]:{type:"error",error:ur(404,{pathname:ge.path})}})})),we=await xe,ye=(await be).reduce((ge,Le)=>Object.assign(ge,Le),{});return{loaderResults:we,fetcherResults:ye}}function ni(){Ie=!0,j.forEach((D,H)=>{je.has(H)&&ke.add(H),fn(H)})}function yt(D,H,X={}){F.fetchers.set(D,H),He({fetchers:new Map(F.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function ht(D,H,X,se={}){let pe=Xs(F.matches,H);ri(D),He({errors:{[pe.route.id]:X},fetchers:new Map(F.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function Xn(D){return q.set(D,(q.get(D)||0)+1),ie.has(D)&&ie.delete(D),F.fetchers.get(D)||FT}function ri(D){let H=F.fetchers.get(D);je.has(D)&&!(H&&H.state==="loading"&&te.has(D))&&fn(D),j.delete(D),te.delete(D),$.delete(D),ie.delete(D),ke.delete(D),F.fetchers.delete(D)}function br(D){let H=(q.get(D)||0)-1;H<=0?(q.delete(D),ie.add(D)):q.set(D,H),He({fetchers:new Map(F.fetchers)})}function fn(D){let H=je.get(D);H&&(H.abort(),je.delete(D))}function Nr(D){for(let H of D){let X=Xn(H),se=as(X.data);F.fetchers.set(H,se)}}function Di(){let D=[],H=!1;for(let X of $){let se=F.fetchers.get(X);Qe(se,`Expected fetcher: ${X}`),se.state==="loading"&&($.delete(X),D.push(X),H=!0)}return Nr(D),H}function Oi(D){let H=[];for(let[X,se]of te)if(se<D){let pe=F.fetchers.get(X);Qe(pe,`Expected fetcher: ${X}`),pe.state==="loading"&&(fn(X),te.delete(X),H.push(X))}return Nr(H),H.length>0}function Rs(D,H){let X=F.blockers.get(D)||tl;return me.get(D)!==H&&me.set(D,H),X}function Li(D){F.blockers.delete(D),me.delete(D)}function Dr(D,H){let X=F.blockers.get(D)||tl;Qe(X.state==="unblocked"&&H.state==="blocked"||X.state==="blocked"&&H.state==="blocked"||X.state==="blocked"&&H.state==="proceeding"||X.state==="blocked"&&H.state==="unblocked"||X.state==="proceeding"&&H.state==="unblocked",`Invalid blocker state transition: ${X.state} -> ${H.state}`);let se=new Map(F.blockers);se.set(D,H),He({blockers:se})}function Or({currentLocation:D,nextLocation:H,historyAction:X}){if(me.size===0)return;me.size>1&&Qt(!1,"A router only supports one blocker at a time");let se=Array.from(me.entries()),[pe,xe]=se[se.length-1],be=F.blockers.get(pe);if(!(be&&be.state==="proceeding")&&xe({currentLocation:D,nextLocation:H,historyAction:X}))return pe}function Lr(D){let H=ur(404,{pathname:D}),X=c||l,{matches:se,route:pe}=yy(X);return{notFoundMatches:se,route:pe,error:H}}function Mi(D,H,X){if(A=D,z=H,O=X||null,!V&&F.navigation===$h){V=!0;let se=ii(F.location,F.matches);se!=null&&He({restoreScrollPosition:se})}return()=>{A=null,z=null,O=null}}function Rn(D,H){return O&&O(D,H.map(se=>gT(se,F.loaderData)))||D.key}function Yn(D,H){if(A&&z){let X=Rn(D,H);A[X]=z()}}function ii(D,H){if(A){let X=Rn(D,H),se=A[X];if(typeof se=="number")return se}return null}function Pn(D,H,X){if(y)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:nc(H,X,h,!0)}}else return{active:!0,matches:nc(H,X,h,!0)||[]};return{active:!1,matches:null}}async function Mr(D,H,X){if(!y)return{type:"success",matches:D};let se=D;for(;;){let pe=c==null,xe=c||l,be=o;try{await y({path:H,matches:se,patch:(ge,Le)=>{X.aborted||dy(ge,Le,xe,be,i)}})}catch(ge){return{type:"error",error:ge,partialMatches:se}}finally{pe&&!X.aborted&&(l=[...l])}if(X.aborted)return{type:"aborted"};let we=ls(xe,H,h);if(we)return{type:"success",matches:we};let ye=nc(xe,H,h,!0);if(!ye||se.length===ye.length&&se.every((ge,Le)=>ge.route.id===ye[Le].route.id))return{type:"success",matches:null};se=ye}}function si(D){o={},c=gc(D,i,void 0,o)}function Ps(D,H){let X=c==null;dy(D,H,c||l,o,i),X&&(l=[...l],He({}))}return de={get basename(){return h},get future(){return v},get state(){return F},get routes(){return l},get window(){return e},initialize:Be,subscribe:Je,enableScrollRestoration:Mi,navigate:Yt,fetch:zn,revalidate:Gt,createHref:D=>n.history.createHref(D),encodeLocation:D=>n.history.encodeLocation(D),getFetcher:Xn,deleteFetcher:br,dispose:Ge,getBlocker:Rs,deleteBlocker:Li,patchRoutes:Ps,_internalFetchControllers:je,_internalSetRoutes:si},de}function zT(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function sf(n,e,t,i,o,l){let c,h;if(o){c=[];for(let y of e)if(c.push(y),y.route.id===o){h=y;break}}else c=e,h=e[e.length-1];let f=Fc(i||".",jc(c),Rr(n.pathname,t)||n.pathname,l==="path");if(i==null&&(f.search=n.search,f.hash=n.hash),(i==null||i===""||i===".")&&h){let y=Uf(f.search);if(h.route.index&&!y)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&y){let v=new URLSearchParams(f.search),T=v.getAll("index");v.delete("index"),T.filter(A=>A).forEach(A=>v.append("index",A));let x=v.toString();f.search=x?`?${x}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:Yr([t,f.pathname])),_s(f)}function ay(n,e,t){if(!t||!zT(t))return{path:e};if(t.formMethod&&!e1(t.formMethod))return{path:e,error:ur(405,{method:t.formMethod})};let i=()=>({path:e,error:ur(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=g_(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!xr(l))return i();let T=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((x,[A,O])=>`${x}${A}=${O}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:T}}}else if(t.formEncType==="application/json"){if(!xr(l))return i();try{let T=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:T,text:void 0}}}catch{return i()}}}Qe(typeof FormData=="function","FormData is not available in this environment");let h,f;if(t.formData)h=af(t.formData),f=t.formData;else if(t.body instanceof FormData)h=af(t.body),f=t.body;else if(t.body instanceof URLSearchParams)h=t.body,f=fy(h);else if(t.body==null)h=new URLSearchParams,f=new FormData;else try{h=new URLSearchParams(t.body),f=fy(h)}catch{return i()}let y={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(xr(y.formMethod))return{path:e,submission:y};let v=Ai(e);return n&&v.search&&Uf(v.search)&&h.append("index",""),v.search=`?${h}`,{path:_s(v),submission:y}}function ly(n,e,t=!1){let i=n.findIndex(o=>o.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function uy(n,e,t,i,o,l,c,h,f,y,v,T,x,A){let O=A?Qn(A[1])?A[1].error:A[1].data:void 0,z=n.createURL(e.location),V=n.createURL(o),G=t;l&&e.errors?G=ly(t,Object.keys(e.errors)[0],!0):A&&Qn(A[1])&&(G=ly(t,A[0]));let K=A?A[1].statusCode:void 0,J=K&&K>=400,ne=G.filter((F,P)=>{let{route:I}=F;if(I.lazy)return!0;if(I.loader==null)return!1;if(l)return of(I,e.loaderData,e.errors);if($T(e.loaderData,e.matches[P],F))return!0;let C=e.matches[P],N=F;return cy(F,{currentUrl:z,currentParams:C.params,nextUrl:V,nextParams:N.params,...i,actionResult:O,actionStatus:K,defaultShouldRevalidate:J?!1:c||z.pathname+z.search===V.pathname+V.search||z.search!==V.search||HT(C,N)})}),de=[];return y.forEach((F,P)=>{if(l||!t.some(b=>b.route.id===F.routeId)||f.has(P))return;let I=ls(T,F.path,x);if(!I){de.push({key:P,routeId:F.routeId,path:F.path,matches:null,match:null,controller:null});return}let C=e.fetchers.get(P),N=il(I,F.path),L=!1;v.has(P)?L=!1:h.has(P)?(h.delete(P),L=!0):C&&C.state!=="idle"&&C.data===void 0?L=c:L=cy(N,{currentUrl:z,currentParams:e.matches[e.matches.length-1].params,nextUrl:V,nextParams:t[t.length-1].params,...i,actionResult:O,actionStatus:K,defaultShouldRevalidate:J?!1:c}),L&&de.push({key:P,routeId:F.routeId,path:F.path,matches:I,match:N,controller:new AbortController})}),[ne,de]}function of(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,o=t!=null&&t[n.id]!==void 0;return!i&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!o}function $T(n,e,t){let i=!e||t.route.id!==e.route.id,o=!n.hasOwnProperty(t.route.id);return i||o}function HT(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function cy(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function dy(n,e,t,i,o){let l;if(n){let f=i[n];Qe(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),l=f.children}else l=t;let c=e.filter(f=>!l.some(y=>m_(f,y))),h=gc(c,o,[n||"_","patch",String((l==null?void 0:l.length)||"0")],i);l.push(...h)}function m_(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var o;return(o=e.children)==null?void 0:o.some(l=>m_(t,l))}):!1}async function GT(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let o=t[n.id];Qe(o,"No route found in manifest");let l={};for(let c in i){let f=o[c]!==void 0&&c!=="hasErrorBoundary";Qt(!f,`Route "${o.id}" has a static property "${c}" defined but its lazy function is also returning a value for this property. The lazy route property "${c}" will be ignored.`),!f&&!pT.has(c)&&(l[c]=i[c])}Object.assign(o,l),Object.assign(o,{...e(o),lazy:void 0})}async function qT({matches:n}){let e=n.filter(i=>i.shouldLoad);return(await Promise.all(e.map(i=>i.resolve()))).reduce((i,o,l)=>Object.assign(i,{[e[l].route.id]:o}),{})}async function WT(n,e,t,i,o,l,c,h,f,y){let v=l.map(A=>A.route.lazy?GT(A.route,f,h):void 0),T=l.map((A,O)=>{let z=v[O],V=o.some(K=>K.route.id===A.route.id);return{...A,shouldLoad:V,resolve:async K=>(K&&i.method==="GET"&&(A.route.lazy||A.route.loader)&&(V=!0),V?KT(e,i,A,z,K,y):Promise.resolve({type:"data",result:void 0}))}}),x=await n({matches:T,request:i,params:l[0].params,fetcherKey:c,context:y});try{await Promise.all(v)}catch{}return x}async function KT(n,e,t,i,o,l){let c,h,f=y=>{let v,T=new Promise((O,z)=>v=z);h=()=>v(),e.signal.addEventListener("abort",h);let x=O=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):y({request:e,params:t.params,context:l},...O!==void 0?[O]:[]),A=(async()=>{try{return{type:"data",result:await(o?o(z=>x(z)):x())}}catch(O){return{type:"error",result:O}}})();return Promise.race([A,T])};try{let y=t.route[n];if(i)if(y){let v,[T]=await Promise.all([f(y).catch(x=>{v=x}),i]);if(v!==void 0)throw v;c=T}else if(await i,y=t.route[n],y)c=await f(y);else if(n==="action"){let v=new URL(e.url),T=v.pathname+v.search;throw ur(405,{method:e.method,pathname:T,routeId:t.route.id})}else return{type:"data",result:void 0};else if(y)c=await f(y);else{let v=new URL(e.url),T=v.pathname+v.search;throw ur(404,{pathname:T})}}catch(y){return{type:"error",result:y}}finally{h&&e.signal.removeEventListener("abort",h)}return c}async function QT(n){var i,o,l,c,h,f;let{result:e,type:t}=n;if(y_(e)){let y;try{let v=e.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?e.body==null?y=null:y=await e.json():y=await e.text()}catch(v){return{type:"error",error:v}}return t==="error"?{type:"error",error:new vc(e.status,e.statusText,y),statusCode:e.status,headers:e.headers}:{type:"data",data:y,statusCode:e.status,headers:e.headers}}return t==="error"?vy(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new vc(((l=e.init)==null?void 0:l.status)||500,void 0,e.data),statusCode:ml(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:ml(e)?e.status:void 0}:vy(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function XT(n,e,t,i,o){let l=n.headers.get("Location");if(Qe(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ff.test(l)){let c=i.slice(0,i.findIndex(h=>h.route.id===t)+1);l=sf(new URL(e.url),c,o,l),n.headers.set("Location",l)}return n}function hy(n,e,t){if(Ff.test(n)){let i=n,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=Rr(o.pathname,t)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return n}function Go(n,e,t,i){let o=n.createURL(g_(e)).toString(),l={signal:t};if(i&&xr(i.formMethod)){let{formMethod:c,formEncType:h}=i;l.method=c.toUpperCase(),h==="application/json"?(l.headers=new Headers({"Content-Type":h}),l.body=JSON.stringify(i.json)):h==="text/plain"?l.body=i.text:h==="application/x-www-form-urlencoded"&&i.formData?l.body=af(i.formData):l.body=i.formData}return new Request(o,l)}function af(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function fy(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function YT(n,e,t,i=!1,o=!1){let l={},c=null,h,f=!1,y={},v=t&&Qn(t[1])?t[1].error:void 0;return n.forEach(T=>{if(!(T.route.id in e))return;let x=T.route.id,A=e[x];if(Qe(!Ys(A),"Cannot handle redirect results in processLoaderData"),Qn(A)){let O=A.error;if(v!==void 0&&(O=v,v=void 0),c=c||{},o)c[x]=O;else{let z=Xs(n,x);c[z.route.id]==null&&(c[z.route.id]=O)}i||(l[x]=p_),f||(f=!0,h=ml(A.error)?A.error.status:500),A.headers&&(y[x]=A.headers)}else l[x]=A.data,A.statusCode&&A.statusCode!==200&&!f&&(h=A.statusCode),A.headers&&(y[x]=A.headers)}),v!==void 0&&t&&(c={[t[0]]:v},l[t[0]]=void 0),{loaderData:l,errors:c,statusCode:h||200,loaderHeaders:y}}function py(n,e,t,i,o,l){let{loaderData:c,errors:h}=YT(e,t,i);return o.forEach(f=>{let{key:y,match:v,controller:T}=f,x=l[y];if(Qe(x,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(Qn(x)){let A=Xs(n.matches,v==null?void 0:v.route.id);h&&h[A.route.id]||(h={...h,[A.route.id]:x.error}),n.fetchers.delete(y)}else if(Ys(x))Qe(!1,"Unhandled fetcher revalidation redirect");else{let A=as(x.data);n.fetchers.set(y,A)}}),{loaderData:c,errors:h}}function my(n,e,t,i){let o=Object.entries(e).filter(([,l])=>l!==p_).reduce((l,[c,h])=>(l[c]=h,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&l.route.loader&&(o[c]=n[c]),i&&i.hasOwnProperty(c))break}return o}function gy(n){return n?Qn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Xs(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function yy(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ur(n,{pathname:e,routeId:t,method:i,type:o,message:l}={}){let c="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&e&&t?h=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(h="Unable to encode submission body")):n===403?(c="Forbidden",h=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",h=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",i&&e&&t?h=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(h=`Invalid request method "${i.toUpperCase()}"`)),new vc(n||500,c,new Error(h),!0)}function Gu(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,o]=e[t];if(Ys(o))return{key:i,result:o}}}function g_(n){let e=typeof n=="string"?Ai(n):n;return _s({...e,hash:""})}function JT(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function ZT(n){return y_(n.result)&&VT.has(n.result.status)}function Qn(n){return n.type==="error"}function Ys(n){return(n&&n.type)==="redirect"}function vy(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function y_(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function e1(n){return MT.has(n.toUpperCase())}function xr(n){return OT.has(n.toUpperCase())}function Uf(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function il(n,e){let t=typeof e=="string"?Ai(e).search:e.search;if(n[n.length-1].route.index&&Uf(t||""))return n[n.length-1];let i=d_(n);return i[i.length-1]}function _y(n){let{formMethod:e,formAction:t,formEncType:i,text:o,formData:l,json:c}=n;if(!(!e||!t||!i)){if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function Hh(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function t1(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function nl(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function n1(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function as(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function r1(n,e){try{let t=n.sessionStorage.getItem(f_);if(t){let i=JSON.parse(t);for(let[o,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function i1(n,e){if(e.size>0){let t={};for(let[i,o]of e)t[i]=[...o];try{n.sessionStorage.setItem(f_,JSON.stringify(t))}catch(i){Qt(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function s1(){let n,e,t=new Promise((i,o)=>{n=async l=>{i(l);try{await t}catch{}},e=async l=>{o(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var lo=B.createContext(null);lo.displayName="DataRouter";var Cl=B.createContext(null);Cl.displayName="DataRouterState";var Bf=B.createContext({isTransitioning:!1});Bf.displayName="ViewTransition";var v_=B.createContext(new Map);v_.displayName="Fetchers";var o1=B.createContext(null);o1.displayName="Await";var kr=B.createContext(null);kr.displayName="Navigation";var Uc=B.createContext(null);Uc.displayName="Location";var dr=B.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var zf=B.createContext(null);zf.displayName="RouteError";function a1(n,{relative:e}={}){Qe(ma(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=B.useContext(kr),{hash:o,pathname:l,search:c}=Sl(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:Yr([t,l])),i.createHref({pathname:h,search:c,hash:o})}function ma(){return B.useContext(Uc)!=null}function xs(){return Qe(ma(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Uc).location}var __="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function w_(n){B.useContext(kr).static||B.useLayoutEffect(n)}function $f(){let{isDataRoute:n}=B.useContext(dr);return n?I1():l1()}function l1(){Qe(ma(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(lo),{basename:e,navigator:t}=B.useContext(kr),{matches:i}=B.useContext(dr),{pathname:o}=xs(),l=JSON.stringify(jc(i)),c=B.useRef(!1);return w_(()=>{c.current=!0}),B.useCallback((f,y={})=>{if(Qt(c.current,__),!c.current)return;if(typeof f=="number"){t.go(f);return}let v=Fc(f,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Yr([e,v.pathname])),(y.replace?t.replace:t.push)(v,y.state,y)},[e,t,l,o,n])}var u1=B.createContext(null);function c1(n){let e=B.useContext(dr).outlet;return e&&B.createElement(u1.Provider,{value:n},e)}function d1(){let{matches:n}=B.useContext(dr),e=n[n.length-1];return e?e.params:{}}function Sl(n,{relative:e}={}){let{matches:t}=B.useContext(dr),{pathname:i}=xs(),o=JSON.stringify(jc(t));return B.useMemo(()=>Fc(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function h1(n,e,t,i){Qe(ma(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=B.useContext(kr),{matches:c}=B.useContext(dr),h=c[c.length-1],f=h?h.params:{},y=h?h.pathname:"/",v=h?h.pathnameBase:"/",T=h&&h.route;{let K=T&&T.path||"";E_(y,!T||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let x=xs(),A;A=x;let O=A.pathname||"/",z=O;if(v!=="/"){let K=v.replace(/^\//,"").split("/");z="/"+O.replace(/^\//,"").split("/").slice(K.length).join("/")}let V=!l&&t&&t.matches&&t.matches.length>0?t.matches:ls(n,{pathname:z});return Qt(T||V!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Qt(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),y1(V&&V.map(K=>Object.assign({},K,{params:Object.assign({},f,K.params),pathname:Yr([v,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?v:Yr([v,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),c,t,i)}function f1(){let n=T1(),e=ml(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:l},"ErrorBoundary")," or"," ",B.createElement("code",{style:l},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:o},t):null,c)}var p1=B.createElement(f1,null),m1=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?B.createElement(dr.Provider,{value:this.props.routeContext},B.createElement(zf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function g1({routeContext:n,match:e,children:t}){let i=B.useContext(lo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(dr.Provider,{value:n},t)}function y1(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let f=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);Qe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,h=-1;if(t)for(let f=0;f<o.length;f++){let y=o[f];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=f),y.route.id){let{loaderData:v,errors:T}=t,x=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||x){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,y,v)=>{let T,x=!1,A=null,O=null;t&&(T=l&&y.route.id?l[y.route.id]:void 0,A=y.route.errorElement||p1,c&&(h<0&&v===0?(E_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,O=null):h===v&&(x=!0,O=y.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,v+1)),V=()=>{let G;return T?G=A:x?G=O:y.route.Component?G=B.createElement(y.route.Component,null):y.route.element?G=y.route.element:G=f,B.createElement(g1,{match:y,routeContext:{outlet:f,matches:z,isDataRoute:t!=null},children:G})};return t&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?B.createElement(m1,{location:t.location,revalidation:t.revalidation,component:A,error:T,children:V(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):V()},null)}function Hf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v1(n){let e=B.useContext(lo);return Qe(e,Hf(n)),e}function _1(n){let e=B.useContext(Cl);return Qe(e,Hf(n)),e}function w1(n){let e=B.useContext(dr);return Qe(e,Hf(n)),e}function Gf(n){let e=w1(n),t=e.matches[e.matches.length-1];return Qe(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function E1(){return Gf("useRouteId")}function T1(){var i;let n=B.useContext(zf),e=_1("useRouteError"),t=Gf("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function I1(){let{router:n}=v1("useNavigate"),e=Gf("useNavigate"),t=B.useRef(!1);return w_(()=>{t.current=!0}),B.useCallback(async(o,l={})=>{Qt(t.current,__),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var wy={};function E_(n,e,t){!e&&!wy[n]&&(wy[n]=!0,Qt(!1,t))}var Ey={};function Ty(n,e){!n&&!Ey[e]&&(Ey[e]=!0,console.warn(e))}function C1(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Qt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:B.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Qt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:B.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Qt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:B.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var S1=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function x1({router:n,flushSync:e}){let[t,i]=B.useState(n.state),[o,l]=B.useState(),[c,h]=B.useState({isTransitioning:!1}),[f,y]=B.useState(),[v,T]=B.useState(),[x,A]=B.useState(),O=B.useRef(new Map),z=B.useCallback((J,{deletedFetchers:ne,flushSync:de,viewTransitionOpts:F})=>{J.fetchers.forEach((I,C)=>{I.data!==void 0&&O.current.set(C,I.data)}),ne.forEach(I=>O.current.delete(I)),Ty(de===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Ty(F==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!F||!P){e&&de?e(()=>i(J)):B.startTransition(()=>i(J));return}if(e&&de){e(()=>{v&&(f&&f.resolve(),v.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let I=n.window.document.startViewTransition(()=>{e(()=>i(J))});I.finished.finally(()=>{e(()=>{y(void 0),T(void 0),l(void 0),h({isTransitioning:!1})})}),e(()=>T(I));return}v?(f&&f.resolve(),v.skipTransition(),A({state:J,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(l(J),h({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[n.window,e,v,f]);B.useLayoutEffect(()=>n.subscribe(z),[n,z]),B.useEffect(()=>{c.isTransitioning&&!c.flushSync&&y(new S1)},[c]),B.useEffect(()=>{if(f&&o&&n.window){let J=o,ne=f.promise,de=n.window.document.startViewTransition(async()=>{B.startTransition(()=>i(J)),await ne});de.finished.finally(()=>{y(void 0),T(void 0),l(void 0),h({isTransitioning:!1})}),T(de)}},[o,f,n.window]),B.useEffect(()=>{f&&o&&t.location.key===o.location.key&&f.resolve()},[f,v,t.location,o]),B.useEffect(()=>{!c.isTransitioning&&x&&(l(x.state),h({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),A(void 0))},[c.isTransitioning,x]);let V=B.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:J=>n.navigate(J),push:(J,ne,de)=>n.navigate(J,{state:ne,preventScrollReset:de==null?void 0:de.preventScrollReset}),replace:(J,ne,de)=>n.navigate(J,{replace:!0,state:ne,preventScrollReset:de==null?void 0:de.preventScrollReset})}),[n]),G=n.basename||"/",K=B.useMemo(()=>({router:n,navigator:V,static:!1,basename:G}),[n,V,G]);return B.createElement(B.Fragment,null,B.createElement(lo.Provider,{value:K},B.createElement(Cl.Provider,{value:t},B.createElement(v_.Provider,{value:O.current},B.createElement(Bf.Provider,{value:c},B.createElement(k1,{basename:G,location:t.location,navigationType:t.historyAction,navigator:V},B.createElement(R1,{routes:n.routes,future:n.future,state:t})))))),null)}var R1=B.memo(P1);function P1({routes:n,future:e,state:t}){return h1(n,void 0,t,e)}function A1({to:n,replace:e,state:t,relative:i}){Qe(ma(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(kr);Qt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=B.useContext(dr),{pathname:c}=xs(),h=$f(),f=Fc(n,jc(l),c,i==="path"),y=JSON.stringify(f);return B.useEffect(()=>{h(JSON.parse(y),{replace:e,state:t,relative:i})},[h,y,i,e,t]),null}function T_(n){return c1(n.context)}function k1({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){Qe(!ma(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=B.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=Ai(t));let{pathname:f="/",search:y="",hash:v="",state:T=null,key:x="default"}=t,A=B.useMemo(()=>{let O=Rr(f,c);return O==null?null:{location:{pathname:O,search:y,hash:v,state:T,key:x},navigationType:i}},[c,f,y,v,T,x,i]);return Qt(A!=null,`<Router basename="${c}"> is not able to match the URL "${f}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:B.createElement(kr.Provider,{value:h},B.createElement(Uc.Provider,{children:e,value:A}))}var rc="get",ic="application/x-www-form-urlencoded";function Bc(n){return n!=null&&typeof n.tagName=="string"}function b1(n){return Bc(n)&&n.tagName.toLowerCase()==="button"}function N1(n){return Bc(n)&&n.tagName.toLowerCase()==="form"}function D1(n){return Bc(n)&&n.tagName.toLowerCase()==="input"}function O1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function L1(n,e){return n.button===0&&(!e||e==="_self")&&!O1(n)}var qu=null;function M1(){if(qu===null)try{new FormData(document.createElement("form"),0),qu=!1}catch{qu=!0}return qu}var V1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gh(n){return n!=null&&!V1.has(n)?(Qt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ic}"`),null):n}function j1(n,e){let t,i,o,l,c;if(N1(n)){let h=n.getAttribute("action");i=h?Rr(h,e):null,t=n.getAttribute("method")||rc,o=Gh(n.getAttribute("enctype"))||ic,l=new FormData(n)}else if(b1(n)||D1(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?Rr(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||rc,o=Gh(n.getAttribute("formenctype"))||Gh(h.getAttribute("enctype"))||ic,l=new FormData(h,n),!M1()){let{name:y,type:v,value:T}=n;if(v==="image"){let x=y?`${y}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else y&&l.append(y,T)}}else{if(Bc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=rc,i=null,o=ic,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:c}}function qf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function F1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function U1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function B1(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await F1(l,t);return c.links?c.links():[]}return[]}));return G1(i.flat(1).filter(U1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Iy(n,e,t,i,o,l){let c=(f,y)=>t[y]?f.route.id!==t[y].route.id:!0,h=(f,y)=>{var v;return t[y].pathname!==f.pathname||((v=t[y].route.path)==null?void 0:v.endsWith("*"))&&t[y].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,y)=>c(f,y)||h(f,y)):l==="data"?e.filter((f,y)=>{var T;let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(c(f,y)||h(f,y))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function z1(n,e){return $1(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function $1(n){return[...new Set(n)]}function H1(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function G1(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(H1(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function q1(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function W1(){let n=B.useContext(lo);return qf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function K1(){let n=B.useContext(Cl);return qf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Wf=B.createContext(void 0);Wf.displayName="FrameworkContext";function I_(){let n=B.useContext(Wf);return qf(n,"You must render this element inside a <HydratedRouter> element"),n}function Q1(n,e){let t=B.useContext(Wf),[i,o]=B.useState(!1),[l,c]=B.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:y,onMouseLeave:v,onTouchStart:T}=e,x=B.useRef(null);B.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let z=G=>{G.forEach(K=>{c(K.isIntersecting)})},V=new IntersectionObserver(z,{threshold:.5});return x.current&&V.observe(x.current),()=>{V.disconnect()}}},[n]),B.useEffect(()=>{if(i){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[i]);let A=()=>{o(!0)},O=()=>{o(!1),c(!1)};return t?n!=="intent"?[l,x,{}]:[l,x,{onFocus:rl(h,A),onBlur:rl(f,O),onMouseEnter:rl(y,A),onMouseLeave:rl(v,O),onTouchStart:rl(T,A)}]:[!1,x,{}]}function rl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function X1({page:n,...e}){let{router:t}=W1(),i=B.useMemo(()=>ls(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?B.createElement(J1,{page:n,matches:i,...e}):null}function Y1(n){let{manifest:e,routeModules:t}=I_(),[i,o]=B.useState([]);return B.useEffect(()=>{let l=!1;return B1(n,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[n,e,t]),i}function J1({page:n,matches:e,...t}){let i=xs(),{manifest:o,routeModules:l}=I_(),{loaderData:c,matches:h}=K1(),f=B.useMemo(()=>Iy(n,e,h,o,i,"data"),[n,e,h,o,i]),y=B.useMemo(()=>Iy(n,e,h,o,i,"assets"),[n,e,h,o,i]),v=B.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,O=!1;if(e.forEach(V=>{var K;let G=o.routes[V.route.id];!G||!G.hasLoader||(!f.some(J=>J.route.id===V.route.id)&&V.route.id in c&&((K=l[V.route.id])!=null&&K.shouldRevalidate)||G.hasClientLoader?O=!0:A.add(V.route.id))}),A.size===0)return[];let z=q1(n);return O&&A.size>0&&z.searchParams.set("_routes",e.filter(V=>A.has(V.route.id)).map(V=>V.route.id).join(",")),[z.pathname+z.search]},[c,i,o,f,e,n,l]),T=B.useMemo(()=>z1(y,o),[y,o]),x=Y1(y);return B.createElement(B.Fragment,null,v.map(A=>B.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),T.map(A=>B.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),x.map(({key:A,link:O})=>B.createElement("link",{key:A,...O})))}function Z1(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var C_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{C_&&(window.__reactRouterVersion="7.1.5")}catch{}function eI(n,e){return BT({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:dT({window:e==null?void 0:e.window}),hydrationData:tI(),routes:n,mapRouteProperties:C1,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function tI(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:nI(n.errors)}),n}function nI(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new vc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let c=new l(o.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let l=new Error(o.message);l.stack="",t[i]=l}}else t[i]=o;return t}var S_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cr=B.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:c,state:h,target:f,to:y,preventScrollReset:v,viewTransition:T,...x},A){let{basename:O}=B.useContext(kr),z=typeof y=="string"&&S_.test(y),V,G=!1;if(typeof y=="string"&&z&&(V=y,C_))try{let C=new URL(window.location.href),N=y.startsWith("//")?new URL(C.protocol+y):new URL(y),L=Rr(N.pathname,O);N.origin===C.origin&&L!=null?y=L+N.search+N.hash:G=!0}catch{Qt(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=a1(y,{relative:o}),[J,ne,de]=Q1(i,x),F=sI(y,{replace:c,state:h,target:f,preventScrollReset:v,relative:o,viewTransition:T});function P(C){e&&e(C),C.defaultPrevented||F(C)}let I=B.createElement("a",{...x,...de,href:V||K,onClick:G||l?e:P,ref:Z1(A,ne),target:f,"data-discover":!z&&t==="render"?"true":void 0});return J&&!z?B.createElement(B.Fragment,null,I,B.createElement(X1,{page:K})):I});cr.displayName="Link";var rI=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:h,children:f,...y},v){let T=Sl(c,{relative:y.relative}),x=xs(),A=B.useContext(Cl),{navigator:O,basename:z}=B.useContext(kr),V=A!=null&&cI(T)&&h===!0,G=O.encodeLocation?O.encodeLocation(T).pathname:T.pathname,K=x.pathname,J=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(K=K.toLowerCase(),J=J?J.toLowerCase():null,G=G.toLowerCase()),J&&z&&(J=Rr(J,z)||J);const ne=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let de=K===G||!o&&K.startsWith(G)&&K.charAt(ne)==="/",F=J!=null&&(J===G||!o&&J.startsWith(G)&&J.charAt(G.length)==="/"),P={isActive:de,isPending:F,isTransitioning:V},I=de?e:void 0,C;typeof i=="function"?C=i(P):C=[i,de?"active":null,F?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(P):l;return B.createElement(cr,{...y,"aria-current":I,className:C,ref:v,style:N,to:c,viewTransition:h},typeof f=="function"?f(P):f)});rI.displayName="NavLink";var zc=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:c=rc,action:h,onSubmit:f,relative:y,preventScrollReset:v,viewTransition:T,...x},A)=>{let O=lI(),z=uI(h,{relative:y}),V=c.toLowerCase()==="get"?"get":"post",G=typeof h=="string"&&S_.test(h),K=J=>{if(f&&f(J),J.defaultPrevented)return;J.preventDefault();let ne=J.nativeEvent.submitter,de=(ne==null?void 0:ne.getAttribute("formmethod"))||c;O(ne||J.currentTarget,{fetcherKey:e,method:de,navigate:t,replace:o,state:l,relative:y,preventScrollReset:v,viewTransition:T})};return B.createElement("form",{ref:A,method:V,action:z,onSubmit:i?f:K,...x,"data-discover":!G&&n==="render"?"true":void 0})});zc.displayName="Form";function iI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x_(n){let e=B.useContext(lo);return Qe(e,iI(n)),e}function sI(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:c}={}){let h=$f(),f=xs(),y=Sl(n,{relative:l});return B.useCallback(v=>{if(L1(v,e)){v.preventDefault();let T=t!==void 0?t:_s(f)===_s(y);h(n,{replace:T,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[f,h,y,t,i,e,n,o,l,c])}var oI=0,aI=()=>`__${String(++oI)}__`;function lI(){let{router:n}=x_("useSubmit"),{basename:e}=B.useContext(kr),t=E1();return B.useCallback(async(i,o={})=>{let{action:l,method:c,encType:h,formData:f,body:y}=j1(i,e);if(o.navigate===!1){let v=o.fetcherKey||aI();await n.fetch(v,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:y,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:y,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function uI(n,{relative:e}={}){let{basename:t}=B.useContext(kr),i=B.useContext(dr);Qe(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Sl(n||".",{relative:e})},c=xs();if(n==null){l.search=c.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(T=>T).forEach(T=>h.append("index",T));let v=h.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Yr([t,l.pathname])),_s(l)}function cI(n,e={}){let t=B.useContext(Bf);Qe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=x_("useViewTransitionState"),o=Sl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Rr(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Rr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return yc(o.pathname,c)!=null||yc(o.pathname,l)!=null}new TextEncoder;var dI=l_();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hI(n){return B.createElement(x1,{flushSync:dI.flushSync,...n})}var R_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Cy=lt.createContext&&lt.createContext(R_),fI=["attr","size","title"];function pI(n,e){if(n==null)return{};var t=mI(n,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function mI(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function _c(){return _c=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_c.apply(this,arguments)}function Sy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function wc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Sy(Object(t),!0).forEach(function(i){gI(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Sy(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function gI(n,e,t){return e=yI(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yI(n){var e=vI(n,"string");return typeof e=="symbol"?e:e+""}function vI(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function P_(n){return n&&n.map((e,t)=>lt.createElement(e.tag,wc({key:t},e.attr),P_(e.child)))}function hr(n){return e=>lt.createElement(_I,_c({attr:wc({},n.attr)},e),P_(n.child))}function _I(n){var e=t=>{var{attr:i,size:o,title:l}=n,c=pI(n,fI),h=o||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),lt.createElement("svg",_c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:f,style:wc(wc({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&lt.createElement("title",null,l),n.children)};return Cy!==void 0?lt.createElement(Cy.Consumer,null,t=>e(t)):e(R_)}function A_(n){return hr({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"176",cy:"416",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"400",cy:"416",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M48 80h64l48 272h256"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M160 288h249.44a8 8 0 0 0 7.85-6.43l28.8-144a8 8 0 0 0-7.85-9.57H128"},child:[]}]})(n)}function xy(n){return hr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(n)}function wI(n){return hr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M80 160h352M80 256h352M80 352h352"},child:[]}]})(n)}function EI(n){return hr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(n)}const $c="/Game-Over/assets/Logo-ITsouqJy.gif";function TI(n){return hr({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(n)}function k_(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=k_(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Zs(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=k_(n))&&(i&&(i+=" "),i+=e);return i}function II(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}II(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var xl=n=>typeof n=="number"&&!isNaN(n),ro=n=>typeof n=="string",Ci=n=>typeof n=="function",CI=n=>ro(n)||xl(n),lf=n=>ro(n)||Ci(n)?n:null,SI=(n,e)=>n===!1||xl(n)&&n>0?n:e,uf=n=>B.isValidElement(n)||ro(n)||Ci(n)||xl(n);function xI(n,e,t=300){let{scrollHeight:i,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function RI({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:l,position:c,preventExitTransition:h,done:f,nodeRef:y,isIn:v,playToast:T}){let x=t?`${n}--${c}`:n,A=t?`${e}--${c}`:e,O=B.useRef(0);return B.useLayoutEffect(()=>{let z=y.current,V=x.split(" "),G=K=>{K.target===y.current&&(T(),z.removeEventListener("animationend",G),z.removeEventListener("animationcancel",G),O.current===0&&K.type!=="animationcancel"&&z.classList.remove(...V))};z.classList.add(...V),z.addEventListener("animationend",G),z.addEventListener("animationcancel",G)},[]),B.useEffect(()=>{let z=y.current,V=()=>{z.removeEventListener("animationend",V),i?xI(z,f,o):f()};v||(h?V():(O.current=1,z.className+=` ${A}`,z.addEventListener("animationend",V)))},[v]),lt.createElement(lt.Fragment,null,l)}}function Ry(n,e){return{content:b_(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function b_(n,e,t=!1){return B.isValidElement(n)&&!ro(n.type)?B.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Ci(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function PI({closeToast:n,theme:e,ariaLabel:t="close"}){return lt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},lt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},lt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function AI({delay:n,isRunning:e,closeToast:t,type:i="default",hide:o,className:l,controlledProgress:c,progress:h,rtl:f,isIn:y,theme:v}){let T=o||c&&h===0,x={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};c&&(x.transform=`scaleX(${h})`);let A=Zs("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),O=Ci(l)?l({rtl:f,type:i,defaultClassName:A}):Zs(A,l),z={[c&&h>=1?"onTransitionEnd":"onAnimationEnd"]:c&&h<1?null:()=>{y&&t()}};return lt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":T},lt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${i}`}),lt.createElement("div",{role:"progressbar","aria-hidden":T?"true":"false","aria-label":"notification timer",className:O,style:x,...z}))}var kI=1,N_=()=>`${kI++}`;function bI(n,e,t){let i=1,o=0,l=[],c=[],h=e,f=new Map,y=new Set,v=K=>(y.add(K),()=>y.delete(K)),T=()=>{c=Array.from(f.values()),y.forEach(K=>K())},x=({containerId:K,toastId:J,updateId:ne})=>{let de=K?K!==n:n!==1,F=f.has(J)&&ne==null;return de||F},A=(K,J)=>{f.forEach(ne=>{var de;(J==null||J===ne.props.toastId)&&((de=ne.toggle)==null||de.call(ne,K))})},O=K=>{var J,ne;(ne=(J=K.props)==null?void 0:J.onClose)==null||ne.call(J,K.removalReason),K.isActive=!1},z=K=>{if(K==null)f.forEach(O);else{let J=f.get(K);J&&O(J)}T()},V=()=>{o-=l.length,l=[]},G=K=>{var J,ne;let{toastId:de,updateId:F}=K.props,P=F==null;K.staleId&&f.delete(K.staleId),K.isActive=!0,f.set(de,K),T(),t(Ry(K,P?"added":"updated")),P&&((ne=(J=K.props).onOpen)==null||ne.call(J))};return{id:n,props:h,observe:v,toggle:A,removeToast:z,toasts:f,clearQueue:V,buildToast:(K,J)=>{if(x(J))return;let{toastId:ne,updateId:de,data:F,staleId:P,delay:I}=J,C=de==null;C&&o++;let N={...h,style:h.toastStyle,key:i++,...Object.fromEntries(Object.entries(J).filter(([b,S])=>S!=null)),toastId:ne,updateId:de,data:F,isIn:!1,className:lf(J.className||h.toastClassName),progressClassName:lf(J.progressClassName||h.progressClassName),autoClose:J.isLoading?!1:SI(J.autoClose,h.autoClose),closeToast(b){f.get(ne).removalReason=b,z(ne)},deleteToast(){let b=f.get(ne);if(b!=null){if(t(Ry(b,"removed")),f.delete(ne),o--,o<0&&(o=0),l.length>0){G(l.shift());return}T()}}};N.closeButton=h.closeButton,J.closeButton===!1||uf(J.closeButton)?N.closeButton=J.closeButton:J.closeButton===!0&&(N.closeButton=uf(h.closeButton)?h.closeButton:!0);let L={content:K,props:N,staleId:P};h.limit&&h.limit>0&&o>h.limit&&C?l.push(L):xl(I)?setTimeout(()=>{G(L)},I):G(L)},setProps(K){h=K},setToggle:(K,J)=>{let ne=f.get(K);ne&&(ne.toggle=J)},isToastActive:K=>{var J;return(J=f.get(K))==null?void 0:J.isActive},getSnapshot:()=>c}}var Nn=new Map,gl=[],cf=new Set,NI=n=>cf.forEach(e=>e(n)),D_=()=>Nn.size>0;function DI(){gl.forEach(n=>L_(n.content,n.options)),gl=[]}var OI=(n,{containerId:e})=>{var t;return(t=Nn.get(e||1))==null?void 0:t.toasts.get(n)};function O_(n,e){var t;if(e)return!!((t=Nn.get(e))!=null&&t.isToastActive(n));let i=!1;return Nn.forEach(o=>{o.isToastActive(n)&&(i=!0)}),i}function LI(n){if(!D_()){gl=gl.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||CI(n))Nn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Nn.get(n.containerId);e?e.removeToast(n.id):Nn.forEach(t=>{t.removeToast(n.id)})}}var MI=(n={})=>{Nn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function L_(n,e){uf(n)&&(D_()||gl.push({content:n,options:e}),Nn.forEach(t=>{t.buildToast(n,e)}))}function VI(n){var e;(e=Nn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function M_(n,e){Nn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function jI(n){let e=n.containerId||1;return{subscribe(t){let i=bI(e,n,NI);Nn.set(e,i);let o=i.observe(t);return DI(),()=>{o(),Nn.delete(e)}},setProps(t){var i;(i=Nn.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=Nn.get(e))==null?void 0:t.getSnapshot()}}}function FI(n){return cf.add(n),()=>{cf.delete(n)}}function UI(n){return n&&(ro(n.toastId)||xl(n.toastId))?n.toastId:N_()}function Rl(n,e){return L_(n,e),e.toastId}function Hc(n,e){return{...e,type:e&&e.type||n,toastId:UI(e)}}function Gc(n){return(e,t)=>Rl(e,Hc(n,t))}function at(n,e){return Rl(n,Hc("default",e))}at.loading=(n,e)=>Rl(n,Hc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function BI(n,{pending:e,error:t,success:i},o){let l;e&&(l=ro(e)?at.loading(e,o):at.loading(e.render,{...o,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(y,v,T)=>{if(v==null){at.dismiss(l);return}let x={type:y,...c,...o,data:T},A=ro(v)?{render:v}:v;return l?at.update(l,{...x,...A}):at(A.render,{...x,...A}),T},f=Ci(n)?n():n;return f.then(y=>h("success",i,y)).catch(y=>h("error",t,y)),f}at.promise=BI;at.success=Gc("success");at.info=Gc("info");at.error=Gc("error");at.warning=Gc("warning");at.warn=at.warning;at.dark=(n,e)=>Rl(n,Hc("default",{theme:"dark",...e}));function zI(n){LI(n)}at.dismiss=zI;at.clearWaitingQueue=MI;at.isActive=O_;at.update=(n,e={})=>{let t=OI(n,e);if(t){let{props:i,content:o}=t,l={delay:100,...i,...e,toastId:e.toastId||n,updateId:N_()};l.toastId!==n&&(l.staleId=n);let c=l.render||o;delete l.render,Rl(c,l)}};at.done=n=>{at.update(n,{progress:1})};at.onChange=FI;at.play=n=>M_(!0,n);at.pause=n=>M_(!1,n);function $I(n){var e;let{subscribe:t,getSnapshot:i,setProps:o}=B.useRef(jI(n)).current;o(n);let l=(e=B.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function c(h){if(!l)return[];let f=new Map;return n.newestOnTop&&l.reverse(),l.forEach(y=>{let{position:v}=y.props;f.has(v)||f.set(v,[]),f.get(v).push(y)}),Array.from(f,y=>h(y[0],y[1]))}return{getToastToRender:c,isToastActive:O_,count:l==null?void 0:l.length}}function HI(n){let[e,t]=B.useState(!1),[i,o]=B.useState(!1),l=B.useRef(null),c=B.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:f,closeToast:y,onClick:v,closeOnClick:T}=n;VI({id:n.toastId,containerId:n.containerId,fn:t}),B.useEffect(()=>{if(n.pauseOnFocusLoss)return x(),()=>{A()}},[n.pauseOnFocusLoss]);function x(){document.hasFocus()||G(),window.addEventListener("focus",V),window.addEventListener("blur",G)}function A(){window.removeEventListener("focus",V),window.removeEventListener("blur",G)}function O(P){if(n.draggable===!0||n.draggable===P.pointerType){K();let I=l.current;c.canCloseOnClick=!0,c.canDrag=!0,I.style.transition="none",n.draggableDirection==="x"?(c.start=P.clientX,c.removalDistance=I.offsetWidth*(n.draggablePercent/100)):(c.start=P.clientY,c.removalDistance=I.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function z(P){let{top:I,bottom:C,left:N,right:L}=l.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&n.pauseOnHover&&P.clientX>=N&&P.clientX<=L&&P.clientY>=I&&P.clientY<=C?G():V()}function V(){t(!0)}function G(){t(!1)}function K(){c.didMove=!1,document.addEventListener("pointermove",ne),document.addEventListener("pointerup",de)}function J(){document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",de)}function ne(P){let I=l.current;if(c.canDrag&&I){c.didMove=!0,e&&G(),n.draggableDirection==="x"?c.delta=P.clientX-c.start:c.delta=P.clientY-c.start,c.start!==P.clientX&&(c.canCloseOnClick=!1);let C=n.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;I.style.transform=`translate3d(${C},0)`,I.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function de(){J();let P=l.current;if(c.canDrag&&c.didMove&&P){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let F={onPointerDown:O,onPointerUp:z};return h&&f&&(F.onMouseEnter=G,n.stacked||(F.onMouseLeave=V)),T&&(F.onClick=P=>{v&&v(P),c.canCloseOnClick&&y(!0)}),{playToast:V,pauseToast:G,isRunning:e,preventExitTransition:i,toastRef:l,eventHandlers:F}}var GI=typeof window<"u"?B.useLayoutEffect:B.useEffect,qc=({theme:n,type:e,isLoading:t,...i})=>lt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function qI(n){return lt.createElement(qc,{...n},lt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function WI(n){return lt.createElement(qc,{...n},lt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function KI(n){return lt.createElement(qc,{...n},lt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function QI(n){return lt.createElement(qc,{...n},lt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function XI(){return lt.createElement("div",{className:"Toastify__spinner"})}var df={info:WI,warning:qI,success:KI,error:QI,spinner:XI},YI=n=>n in df;function JI({theme:n,type:e,isLoading:t,icon:i}){let o=null,l={theme:n,type:e};return i===!1||(Ci(i)?o=i({...l,isLoading:t}):B.isValidElement(i)?o=B.cloneElement(i,l):t?o=df.spinner():YI(e)&&(o=df[e](l))),o}var ZI=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:o,playToast:l}=HI(n),{closeButton:c,children:h,autoClose:f,onClick:y,type:v,hideProgressBar:T,closeToast:x,transition:A,position:O,className:z,style:V,progressClassName:G,updateId:K,role:J,progress:ne,rtl:de,toastId:F,deleteToast:P,isIn:I,isLoading:C,closeOnClick:N,theme:L,ariaLabel:b}=n,S=Zs("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":de},{"Toastify__toast--close-on-click":N}),Ie=Ci(z)?z({rtl:de,position:O,type:v,defaultClassName:S}):Zs(S,z),ke=JI(n),je=!!ne||!f,Fe={closeToast:x,type:v,theme:L},ae=null;return c===!1||(Ci(c)?ae=c(Fe):B.isValidElement(c)?ae=B.cloneElement(c,Fe):ae=PI(Fe)),lt.createElement(A,{isIn:I,done:P,position:O,preventExitTransition:t,nodeRef:i,playToast:l},lt.createElement("div",{id:F,tabIndex:0,onClick:y,"data-in":I,className:Ie,...o,style:V,ref:i,...I&&{role:J,"aria-label":b}},ke!=null&&lt.createElement("div",{className:Zs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},ke),b_(h,n,!e),ae,!n.customProgressBar&&lt.createElement(AI,{...K&&!je?{key:`p-${K}`}:{},rtl:de,theme:L,delay:f,isRunning:e,isIn:I,closeToast:x,hide:T,type:v,className:G,controlledProgress:je,progress:ne||0})))},eC=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),tC=RI(eC("bounce",!0)),nC={position:"top-right",transition:tC,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function rC(n){let e={...nC,...n},t=n.stacked,[i,o]=B.useState(!0),l=B.useRef(null),{getToastToRender:c,isToastActive:h,count:f}=$I(e),{className:y,style:v,rtl:T,containerId:x,hotKeys:A}=e;function O(V){let G=Zs("Toastify__toast-container",`Toastify__toast-container--${V}`,{"Toastify__toast-container--rtl":T});return Ci(y)?y({position:V,rtl:T,defaultClassName:G}):Zs(G,lf(y))}function z(){t&&(o(!0),at.play())}return GI(()=>{var V;if(t){let G=l.current.querySelectorAll('[data-in="true"]'),K=12,J=(V=e.position)==null?void 0:V.includes("top"),ne=0,de=0;Array.from(G).reverse().forEach((F,P)=>{let I=F;I.classList.add("Toastify__toast--stacked"),P>0&&(I.dataset.collapsed=`${i}`),I.dataset.pos||(I.dataset.pos=J?"top":"bot");let C=ne*(i?.2:1)+(i?0:K*P);I.style.setProperty("--y",`${J?C:C*-1}px`),I.style.setProperty("--g",`${K}`),I.style.setProperty("--s",`${1-(i?de:0)}`),ne+=I.offsetHeight,de+=.025})}},[i,f,t]),B.useEffect(()=>{function V(G){var K;let J=l.current;A(G)&&((K=J.querySelector('[tabIndex="0"]'))==null||K.focus(),o(!1),at.pause()),G.key==="Escape"&&(document.activeElement===J||J!=null&&J.contains(document.activeElement))&&(o(!0),at.play())}return document.addEventListener("keydown",V),()=>{document.removeEventListener("keydown",V)}},[A]),lt.createElement("section",{ref:l,className:"Toastify",id:x,onMouseEnter:()=>{t&&(o(!1),at.pause())},onMouseLeave:z,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((V,G)=>{let K=G.length?{...v}:{...v,pointerEvents:"none"};return lt.createElement("div",{tabIndex:-1,className:O(V),"data-stacked":t,style:K,key:`c-${V}`},G.map(({content:J,props:ne})=>lt.createElement(ZI,{...ne,stacked:t,collapseAll:z,isIn:h(ne.toastId,ne.containerId),key:`t-${ne.key}`},J)))}))}const V_=B.createContext(void 0),iC=({children:n})=>{const[e,t]=B.useState([]),i=h=>{t(f=>f.find(v=>v.title===h.title)?(h.quantity!=null&&h.quantity>1?at.success(`${h.title} (${h.quantity}) Aadidos al carrito`,{position:"top-center",theme:"dark"}):at.success(`${h.title} Aadido al carrito`,{position:"top-center",theme:"dark"}),f.map(v=>h.quantity!=null&&v.quantity!=null&&v.title===h.title?{...v,quantity:v.quantity+h.quantity}:v)):(h.quantity!=null&&h.quantity>1?at.success(`${h.title} (${h.quantity}) Aadidos al carrito`,{position:"top-center",theme:"dark"}):at.success(`${h.title} Aadido al carrito`,{position:"top-center",theme:"dark"}),[...f,h]))},o=h=>{t(f=>f.filter(y=>y.title!==h))},l=(h,f)=>{t(y=>f<=0?y.filter(v=>v.title!==h):y.map(v=>v.title===h?{...v,quantity:f}:v))},c=()=>{t([])};return R.jsx(V_.Provider,{value:{cart:e,addToCart:i,removeFromCart:o,clearCart:c,updateCartQuantity:l},children:n})},j_=()=>{const n=B.useContext(V_);if(!n)throw new Error("useCart must be used within a CartProvider");return n};function sC(n){return hr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"},child:[]}]})(n)}function Py(n){return hr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"},child:[]}]})(n)}function oC(n){return hr({attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18 11h-12c-1.104 0-2 .896-2 2s.896 2 2 2h12c1.104 0 2-.896 2-2s-.896-2-2-2z"},child:[]}]})(n)}const aC=()=>{const{cart:n,removeFromCart:e,updateCartQuantity:t}=j_(),i=(c,h)=>{const f=h-1;t(c,f)},o=(c,h)=>{const f=h+1;t(c,f)},l={main:"size-full",content:"",productList:{main:"w-full min-h-96 p-2 ",item:"cart-shop-item h-32 size-full bg-nd text-white",imageBox:"size-full flex items-center justify-center",image:"size-full object-contain",dataBox:"data-box size-full ",headerBox:"flex justify-between items-center",brand:"text-sm text-gray-400",removeIcon:"text-xl text-th",title:"truncate font-bold text-lg",bottomBox:"w-full flex justify-between items-center",price:"text-2xl font-bold text-rd",quantityBox:"flex items-center",quantity:"size-6 mx-1 flex items-center justify-center rounded ",minusBtn:"size-7 flex items-center justify-center rounded bg-th",plusBtn:"size-7 flex items-center justify-center rounded bg-th",trash:"text-2xl flex items-center justify-center text-th"},emptyCartBox:{main:"size-full min-h-[85vh] flex flex-col items-center justify-center text-white p-4",titleBox:"flex gap-2 font-bold",title:"text-2xl",icon:"text-3xl",word:"text-2xl text-th",txt:"text-center my-5 text-sm text-gray-400"}};return R.jsx("section",{className:l.main,children:R.jsx("div",{className:l.content,children:n.length<1?R.jsxs("div",{className:l.emptyCartBox.main,children:[R.jsxs("span",{className:l.emptyCartBox.titleBox,children:[R.jsx("p",{className:l.emptyCartBox.icon,children:R.jsx(A_,{})}),R.jsx("h1",{className:l.emptyCartBox.title,children:"Tu carrito est"}),R.jsx("h2",{className:l.emptyCartBox.word,children:"vaco"})]}),R.jsx("p",{className:l.emptyCartBox.txt,children:"No sabes por dnde empezar? Explora nuestra tienda y descubre productos increbles que te encantarn."})]}):R.jsx("ul",{className:l.productList.main,children:n.map((c,h)=>R.jsxs("li",{className:l.productList.item,children:[R.jsx("picture",{className:l.productList.imageBox,children:R.jsx("img",{className:l.productList.image,src:c.images[0],alt:`${c.title}-poster`})}),R.jsxs("div",{className:l.productList.dataBox,children:[R.jsxs("span",{className:l.productList.headerBox,children:[R.jsx("h2",{className:l.productList.brand,children:c.brand}),R.jsx("button",{onClick:()=>e(c.title),className:l.productList.removeIcon,children:R.jsx(Py,{})})]}),R.jsx("h1",{className:l.productList.title,children:c.title}),R.jsxs("span",{className:l.productList.bottomBox,children:[R.jsxs("h2",{className:l.productList.price,children:["$/",c.price.toFixed(2)]}),R.jsxs("div",{className:l.productList.quantityBox,children:[c.quantity!=null&&c.quantity<=1?R.jsx("button",{onClick:()=>e(c.title),className:l.productList.trash,children:R.jsx(Py,{})}):R.jsx("button",{className:l.productList.minusBtn,onClick:()=>c.quantity!=null&&i(c.title,c.quantity),children:R.jsx(oC,{})}),R.jsx("h2",{className:l.productList.quantity,children:c.quantity}),R.jsx("button",{className:l.productList.plusBtn,onClick:()=>c.quantity!=null&&o(c.title,c.quantity),children:R.jsx(sC,{})})]})]})]})]},h))})})})};function Ay(n){return hr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(n)}const lC=({data:n,closeMenu:e,menuState:t})=>{var h;const[i,o]=B.useState(!1),l=B.useRef(null);B.useEffect(()=>{t||o(!1)},[t]);const c={main:"w-full flex flex-col",list:"grid grid-cols-[88%_12%] h-20 items-center",txts:"text-white text-start ml-4",arrow:`text-rd text-2xl ${i?"-rotate-90 mb-4":"rotate-90 mt-4"} duration-500`,dropdown:"flex flex-col gap-2 overflow-hidden transition-[max-height] duration-500 ease-in-out"};return n.values.length>0?R.jsxs("div",{className:c.main,children:[R.jsxs("button",{className:c.list,onClick:()=>o(!i),"aria-expanded":i,children:[R.jsx("h4",{className:c.txts,children:n.name}),n.values.length>0&&R.jsx("span",{className:c.arrow,children:R.jsx(Ay,{})})]}),R.jsx("ul",{ref:l,className:c.dropdown,style:{maxHeight:i?`${(h=l.current)==null?void 0:h.scrollHeight}px`:"0px"},children:n.values.map((f,y)=>R.jsx("li",{children:R.jsx(cr,{className:"flex w-full pl-2 h-10 items-center border-l-4 border-rd",to:f.url,onClick:()=>{e(!1),o(!1)},children:R.jsx("h4",{className:c.txts,children:f.name})})},y))})]}):R.jsx("div",{className:c.main,children:R.jsxs(cr,{to:n.url,className:c.list,onClick:()=>e(!1),children:[R.jsx("h4",{className:c.txts,children:n.name}),n.values.length>0&&R.jsx("span",{className:c.arrow,children:R.jsx(Ay,{})})]})})},F_=()=>{const[n,e]=B.useState(!1),[t,i]=B.useState(!1),[o,l]=B.useState(!1),c={main:"fixed z-50 w-full top-0 h-[10vh] bg-black shadow-[0px_0px_8px_2px] shadow-[#0cf7d8]",content:{main:"grid grid-cols-[30%_40%_30%] size-full items-center p-2",menuBtn:"flex items-center justify-center w-12 text-5xl text-rd",logoBox:"h-full w-full",logo:"size-full object-contain",rightBox:"flex justify-end items-center size-full",searchBtn:"text-3xl text-rd flex items-center justify-center size-12 ",cartBtn:"text-3xl text-rd flex items-center justify-center size-12  "},menuBox:{main:`absolute w-full min-h-screen top-0 left-0 ${n?"translate-x-[0%]":"translate-x-[-100%]"} duration-300 bg-black`,header:{main:"fixed top-0 left-0 w-full bg-nd h-[10vh] flex justify-between p-2 shadow-[-2px_0px_3px_0px] shadow-rd text-white",leftSideBox:"flex items-center gap-4",userImageBox:"flex items-center justify-center text-5xl text-rd rounded-full size-14",txtBox:"flex flex-col",userName:"font-bold",profileLink:"text-sm underline",closeBtn:"flex justify-center items-center text-5xl text-rd"},content:{main:"flex flex-col w-full pt-20 min-h-screen",header:"w-full pl-4 flex flex-col border-b border-rd",list:"flex flex-col max-h-[60vh] border-b border-rd overflow-auto",txts:"text-white h-20 flex items-center"}},searchBox:{main:`absolute w-full min-h-screen top-0 left-0 ${o?"translate-x-[0%]":"translate-x-[100%]"} bg-black/75 duration-500`},cartBox:{main:`absolute flex justify-end w-full min-h-screen top-0 left-0 ${t?"translate-x-[0%]":"translate-x-[100%]"} bg-nd/80 duration-300`,content:"w-[80%] min-h-screen flex flex-col bg-black border-l-2 border-rd ",header:"w-full h-[10vh] bg-nd flex items-center justify-between p-2 border-b border-rd",headerTitle:"text-lg text-white font-bold",headerBtn:"text-5xl text-rd"}},h=[{name:"Tarjetas madre",url:"/products/mother_boards/1",values:[{name:"Todas las marcas",url:"/products/mother_boards/1"},{name:"ASUS",url:"/products/mother_boards/ASUS/1"},{name:"Gigabyte",url:"/products/mother_boards/Gigabyte/1"},{name:"MSI",url:"/products/mother_boards/MSI/1"},{name:"Asrock",url:"/products/mother_boards/AsRock/1"}]},{name:"Fuentes de poder",url:"/products/power_sources/1",values:[{name:"Todas las marcas",url:"/products/power_sources/1"},{name:"EVGA",url:"/products/power_sources/EVGA/1"}]},{name:"Tarjetas grficas",url:"/products/graphic_cards",values:[{name:"Todas las marcas",url:"/products/graphic_cards/1"},{name:"AsRock",url:"/products/graphic_cards/AsRock/1"},{name:"ASUS",url:"/products/graphic_cards/ASUS/1"},{name:"Intel",url:"/products/graphic_cards/Intel/1"}]},{name:"Iniciar Sesin",url:"/accounts/login",values:[]}];return R.jsxs("section",{className:c.main,children:[R.jsxs("div",{className:c.content.main,children:[R.jsx("button",{className:c.content.menuBtn,onClick:()=>e(!0),children:R.jsx(wI,{})}),R.jsx("span",{className:c.content.logoBox,children:R.jsx("img",{className:c.content.logo,src:$c,alt:"logo"})}),R.jsxs("div",{className:c.content.rightBox,children:[R.jsx("button",{className:c.content.searchBtn,onClick:()=>l(!0),children:R.jsx(EI,{})}),R.jsx("button",{className:c.content.cartBtn,onClick:()=>i(!0),children:R.jsx(A_,{})})]})]}),R.jsx("div",{className:c.menuBox.main,children:R.jsxs("div",{className:"relative",children:[R.jsxs("div",{className:c.menuBox.header.main,children:[R.jsxs("div",{className:c.menuBox.header.leftSideBox,children:[R.jsx("span",{className:c.menuBox.header.userImageBox,children:R.jsx(TI,{})}),R.jsxs("div",{className:c.menuBox.header.txtBox,children:[R.jsx("h1",{className:c.menuBox.header.userName,children:"Nombre de usuario"}),R.jsx("h2",{className:c.menuBox.header.profileLink,children:"Mi perfil"})]})]}),R.jsx("button",{className:c.menuBox.header.closeBtn,onClick:()=>e(!1),children:R.jsx(xy,{})})]}),R.jsxs("div",{className:c.menuBox.content.main,children:[R.jsxs("span",{className:c.menuBox.content.header,children:[R.jsx(cr,{className:c.menuBox.content.txts,to:"/home",onClick:()=>{e(!1)},children:"Inicio"}),R.jsx(cr,{className:c.menuBox.content.txts,to:"/account/orders",onClick:()=>{e(!1)},children:"Mis compras"})]}),R.jsx("ul",{className:c.menuBox.content.list,children:h.map((f,y)=>R.jsx("li",{className:"flex flex-col",children:R.jsx(lC,{data:f,closeMenu:e,menuState:n})},y))})]})]})}),R.jsx("div",{className:c.cartBox.main,children:R.jsxs("div",{className:c.cartBox.content,children:[R.jsxs("div",{className:c.cartBox.header,children:[R.jsx("h1",{className:c.cartBox.headerTitle,children:"Tu carrito"}),R.jsx("button",{className:c.cartBox.headerBtn,onClick:()=>i(!1),children:R.jsx(xy,{})})]}),R.jsx(aC,{})]})}),R.jsx("div",{className:c.searchBox.main})]})};function uC(){return R.jsx("main",{className:"font-roboto bg-st flex flex-col items-center",children:R.jsxs("div",{className:"flex w-full max-w-dvw min-h-dvh",children:[R.jsx(F_,{}),R.jsx(T_,{})]})})}const cC=B.createContext(void 0),dC=({children:n})=>{const[e,t]=B.useState(null);return R.jsx(cC.Provider,{value:{user:e,setUser:t},children:n})},hC=()=>R.jsx("div",{children:"ErrorPage"});class Wc{constructor({title:e,category:t,images:i,price:o,description:l,brand:c,fullTitle:h,offer:f=!1,discount:y=0,quantity:v=1}){Sr(this,"title");Sr(this,"fullTitle");Sr(this,"description");Sr(this,"category");Sr(this,"brand");Sr(this,"images");Sr(this,"price");Sr(this,"offer");Sr(this,"discount");Sr(this,"quantity");this.title=e,this.fullTitle=h,this.category=t,this.images=i,this.price=o,this.description=l,this.brand=c,this.offer=f??!1,this.discount=y??0,this.quantity=v??1}setOffert(e){this.offer=!0,this.discount=e}calculateDiscount(){if(this.discount!=null){const e=this.discount/100;let t=(this.price*e).toFixed(2);return Number(t)}}toFirebase(){return{title:this.title,fullTitle:this.fullTitle,category:this.category,images:this.images,price:this.price,description:this.description,brand:this.brand,offer:this.offer,discount:this.discount,quantity:this.quantity}}}class En extends Wc{constructor({title:e,fullTitle:t,description:i,brand:o,images:l,price:c}){super({title:e,fullTitle:t,description:i,brand:o,images:l,price:c,category:"Tarjetas madre"})}}class sl extends Wc{constructor({title:e,fullTitle:t,description:i,brand:o,images:l,price:c}){super({title:e,fullTitle:t,description:i,brand:o,images:l,price:c,category:"Fuentes de poder"})}}class Ks extends Wc{constructor({title:e,fullTitle:t,description:i,brand:o,images:l,price:c}){super({title:e,fullTitle:t,description:i,brand:o,images:l,price:c,category:"Tarjetas de video"})}}const fC=[new En({title:"TUF GAMING Z690-PLUS WIFI D4",fullTitle:"Tarjeta madre para juegos Intel Z690 (LGA 1700) ATX, 15 fases de poder DrMOS, PCIe 5.0, memoria DDR4, cuatro puertos M.2, WiFi 6 y Ethernet Intel de 2.5Gb, HDMI, DisplayPort, USB 3.2 Gen 2x2 Type-C, USB 3.2 Gen 2 Type C frontal, SATA 6 Gbps, Thunderbolt 4 e iluminacin Aura Sync RGB",description:["Socket Intel LGA 1700: Listo para procesadores Intel de 14a, 13a y 12a Gen.","Solucin de energa mejorada: 14 + 1 fases de poder DrMOS, PCB de seis capas, conectores ProCool, chokes de aleacin y capacitores duraderos para una entrega de energa estable.","Conectividad de prxima generacin: PCIe 5.0, USB 3.2 Gen2x2 Type-C, USB 3.2 Gen 2 Type-C frontal y Thunderbolt 4.","Hecha para juegos en lnea: WiFi 6, Intel 2.5 Gb Ethernet y TUF LANGuard.","Cancelacin de ruido de IA bidireccional: Reduce el ruido de fondo del micrfono y la salida de audio para una comunicacin ntida en juegos o videoconferencias.","Refrigeracin completa: Disipador de calor VRM ampliado, disipador de calor PCH sin ventilador, disipadores de calor M.2, puertos de ventilador hbridos y utilidad Fan Xpert 4 en Armory Crate.","Efectos RGB Aura deslumbrantes: Elegante diseo de iluminacin de borde y PCH, puertos RGB direccionables y soporte para tiras RGB."],price:89,images:["https://i.postimg.cc/7YVcf2kh/0.webp","https://i.postimg.cc/Qxsw8qvv/1.webp","https://i.postimg.cc/h4VNRYZ9/2.webp","https://i.postimg.cc/Fzb6bfkP/3.webp","https://i.postimg.cc/g227R2zD/4.webp"],brand:"ASUS",offer:!0,discount:50}),new En({title:"Prime Z690-A",fullTitle:"Tarjeta madre Intel Z690 (LGA 1700) ATX con PCIe 5.0, DDR5, cuatro puertos M.2, 16 + 1 fases de poder DrMOS, DDR5, HDMI, DisplayPort, Ethernet de 2.5 Gb, USB 3.2 Gen 2x2 Type-C , USB 3.2 Gen 2 Type-C frontal, Thunderbolt 4 e iluminacin Aura Sync RGB",description:["Socket Intel LGA 1700: Listo para procesadores Intel de 14a, 13a y 12a generacin.","Solucin de energa mejorada: 16 + 1 fases de poder DrMOS, puertos ProCool, chokes de aleacin y capacitores duraderos para una entrega de energa estable.","AI Overclocking: Optimiza el rendimiento segn la CPU y las cargas ms fras para lograr resultados que se acercan mucho al ajuste manual realizado por expertos.","AI Cooling: Administra y controla todos los ventiladores de la tarjeta madre, optimizando automticamente la configuracin en funcin de la carga y la temperatura actuales del sistema.","Two-Way AI Noise Cancelation: Reduce el ruido de fondo del micrfono y la salida de audio para una comunicacin ntida en juegos o videoconferencias.","Refrigeracin completa: Grandes disipadores de calor VRM, disipadores de calor M.2, placa posterior M.2 con Q-Latch, puertos de ventilador hbridos y Fan Xpert 4.","Conectividad de prxima generacin: Memoria DDR5, PCIe 5.0, Intel 2.5 Gb Ethernet, USB 3.2 Gen2x2 Type-C, panel frontal USB 3.2 Gen 2 Type-C, Thunderbolt 4, 4 M.2 PCIe4.0."],images:["https://i.postimg.cc/wxkFVYbb/4.webp","https://i.postimg.cc/vTXzH5Vd/0.webp","https://i.postimg.cc/yx7jHLWP/1.webp","https://i.postimg.cc/tTQDrqj8/2.webp","https://i.postimg.cc/50BgTh9y/3.webp"],brand:"ASUS",price:90.5}),new En({title:"ProArt Z690-CREATOR WIFI",fullTitle:"Tarjeta madre Intel Z690 LGA 1700 ATX diseada para creadores, con PCIe 5.0, compatibilidad con DDR5, Thunderbolt 4, Ethernet de 10 Gb y 2.5 Gb, WiFi 6E, cuatro puertos PCIe 4.0 M.2 con disipadores de calor, ms un puerto de frontal USB 3.2 Gen 2x2 con soporte Quick Charge 4+",description:["Socket Intel LGA 1700: Listo para procesadores Intel de 14a, 13a y 12a Gen.","Conectividad preparada para el futuro: Dos Thunderbolt 4 puertos tipo C, 10 Gb& Ethernet integrado de 2.5 Gb, WiFi 6E, cuatro ranuras PCIe 4.0 M.2 y un puerto de panel frontal USB 3.2 Gen 2x2 con Quick Charge 4+.","Rendimiento de prxima generacin: 16 + 1 fases de poder clasificadas para 70 amperios, compatible con PCIe 5.0 y un aumento de velocidad DDR5.","Optimizacin inteligente: Software y firmware exclusivos de ASUS que simplifican la configuracin y mejoran el rendimiento: AI Overclocking, AI Cooling, CreationFirst y Two-Way AI Noise-Cancelation.","Diseo trmico integral: Un VRM masivo y un disipador de calor de chipset, disipadores de calor de aluminio M.2, siete puertos de ventilador PWM de 4 pines y un puerto de bomba AIO.","Gestin de seguridad avanzada: Gestin de puertos USB, listas negras de software y controles de activacin / desactivacin de Regedit a travs de ASUS Control Center Express.","Estabilidad confiable: Probado para un funcionamiento 24 horas al da, 7 das a la semana, validado para una amplia compatibilidad y equipado con SafeSlot y SafeDIMM para una mayor durabilidad."],images:["https://i.postimg.cc/brfM20rD/4.webp","https://i.postimg.cc/9M7KMgmH/0.webp","https://i.postimg.cc/jj9BRYrh/1.webp","https://i.postimg.cc/wB3SKTnv/2.webp","https://i.postimg.cc/0yVLHJWF/3.webp"],brand:"ASUS",price:90}),new En({title:"PRIME B550M-A (WI-FI)/CSM",fullTitle:"Tarjeta madre micro ATX AMD B550 (Ryzen AM4) con doble M.2, PCIe 4.0, Intel WiFi 6, Ethernet de 1 Gb, HDMI / D-Sub / DVI, SATA 6 Gbps, USB 3.2 Gen 2 Tipo A y puertos Aura Sync RGB",description:["Socket AMD AM4: Listo para Procesadores de escritorio Ryzen 5000 Series / 4000 G-Series / 3000 Series.","Refrigeracin completa: Disipador de calor VRM, disipador de calor PCH y Fan Xpert 2+.","Conectividad ultrarrpida: Dual M.2, PCIe 4.0, Intel WiFi 6, Ethernet de 1 Gb, USB 3.2 Gen 2 tipo A.","Aura Sync RGB: Puerto Gen 2 direccionable integrado para tiras de LED RGB, que se sincroniza fcilmente con hardware compatible con Aura Sync."],brand:"ASUS",price:100,images:["https://i.postimg.cc/Vk48Qh67/3.png","https://i.postimg.cc/bvBfd21k/0.png","https://i.postimg.cc/Gp21cjTb/1.png","https://i.postimg.cc/MpzSLwWM/2.png","https://i.postimg.cc/FRk5Ssxq/4.png"]}),new En({title:"PRO Z790-A MAX WIFI",fullTitle:"PRO Z790-A MAX WIFI",description:["Support Intel Core 14th/ 13th/ 12th Gen Processors, Intel Pentium Gold and Celeron Processors LGA 1700","Chipset INTEL Z90","4x DDR5 UDIMM, Maximum Memory Capacity 256GB Memory Support 7800+(OC)/ 7600(OC)/ 7400(OC)/ 7200(OC)/ 7000(OC)/ 6800(OC)/ 6600(OC)/ 6400(OC)/ 6200(OC)/ 6000(OC)/ 5800(OC)/ 5600(JEDEC)/ 5400(JEDEC)/ 5200(JEDEC)/ 5000(JEDEC)/ 4800(JEDEC) MHz","1x HDMI Support HDMI 2.1 with HDR, maximum resolution of 4K 60Hz* 1x DisplayPort Support DP 1.4, maximum resolution of 8K 60Hz*","3x PCI-E x16 slot (Qty) 1x PCI-E x1 slot (Qty) PCI_E1 Gen PCIe 5.0 supports up to x16 (From CPU) PCI_E2 Gen PCIe 3.0 supports up to x1 (From Chipset) PCI_E3 Gen PCIe 4.0 supports up to x4 (From Chipset) PCI_E4 Gen PCIe 3.0 supports up to x1 (From Chipset)"],images:["https://i.postimg.cc/287pht4z/4.png","https://i.postimg.cc/QCc264wJ/0.png","https://i.postimg.cc/BQ0983PY/2.png","https://i.postimg.cc/xjHVT88N/3.png","https://i.postimg.cc/5yccSd7t/1.png"],brand:"MSI",price:90}),new En({title:"B560M PRO-VDH",fullTitle:"B560M PRO-VDH",images:["https://i.postimg.cc/8P9pX97L/0.png","https://i.postimg.cc/zfSqBf0k/1.png","https://i.postimg.cc/nhmHy2mg/2.png","https://i.postimg.cc/BvGq4Fc6/3.png","https://i.postimg.cc/Kz0FPHXk/4.png"],description:["5066(OC) / 5000(OC) / 4800(OC) / 4600(OC) / 4533(OC) / 4400(OC) / 4266(OC) / 4000(OC) / 3866(OC) / 3733(OC) / 3600(OC) / 3466(OC) / 3333(OC) / 3200(JEDCE & POR) / 3000(JEDCE & POR) / 2933(JEDCE & POR) / 2800(JEDCE & POR) / 2666(JEDCE & POR) / 2400(JEDCE & POR) / 2133(JEDCE & POR) MHz","CHIPSET Intel B560 Chipset","CPU (SOPORTE MXIMO) i9","2 PUERTOS M.2","1x Realtek 8125B 2.5Gbps LAN controller"],price:100,brand:"MSI"}),new En({title:"MPG Z590 GAMING PLUS",fullTitle:"MPG Z590 GAMING PLUS",images:["https://i.postimg.cc/N0JBTnvy/0.png","https://i.postimg.cc/zGNz1Wkf/1.png","https://i.postimg.cc/VkFYs67W/2.png","https://i.postimg.cc/mr2TPsJf/3.png","https://i.postimg.cc/FRYmxxhT/4.png"],description:["5333(OC)/ 5200(OC)/ 5000(OC)/ 4800(OC)/ 4600(OC)/ 4533(OC)/ 4400(OC)/ 4300(OC)/ 4266(OC)/ 4200(OC)/ 4133(OC)/ 4000(OC)/ 3866(OC)/ 3733(OC)/ 3600(OC)/ 3466(OC)/ 3400(OC)/ 3333(OC)/ 3300(OC)/ 3200(OC)/ 3000(OC)/ 2933(JEDEC)/ 2666(JEDEC)/ 2400(JEDEC)/ 2133(JEDEC) MHz","SOCKET 1200","CPU (SOPORTE MXIMO) i9","3 PUERTO M.2","PCI-EX16 3"],price:100,brand:"MSI"}),new En({title:"MPG X870E CARBON WIFI",fullTitle:"MPG X870E CARBON WIFI",images:["https://i.postimg.cc/G90fGFpT/0.png","https://i.postimg.cc/v8p83Cgf/1.png","https://i.postimg.cc/QNBxgjtj/2.png","https://i.postimg.cc/FzkqYWhQ/3.png","https://i.postimg.cc/ncBF5TB5/4.png"],description:["VGA CARD SUPPORT Max 400mm / 15.75 inch","CPU COOLER SUPPORT Max 170mm / 6.69 inch","CHIPSET Intel Z690 Chipset","4x DDR5 memory slots, support up to 128GB Supports 1R 4800 MHz (by JEDEC & POR) Max. overclocking frequency: 1DPC 1R Max speed up to 6666+ MHz 1DPC 2R Max speed up to 5600+ MHz > 6000+ MHz 2DPC 1R Max speed up to 4000+ MHz > 5600+ MHz 2DPC 2R Max speed up to 4000+ MHz > 5600+ MHz Supports Intel XMP 3.0 OC Supports Dual Controller Dual-Channel mode Supports non-ECC, un-buffered memory"],price:100,brand:"MSI"}),new En({title:"Z890 AORUS PRO ICE",fullTitle:"Z890 AORUS PRO ICE",images:["https://i.postimg.cc/mkr9jJt0/0.webp","https://i.postimg.cc/Pf6YJX7h/1.webp","https://i.postimg.cc/VLdMCyyt/2.webp","https://i.postimg.cc/wMbmG2N3/3.webp","https://i.postimg.cc/ZKRPxBNC/4.webp"],description:["Supports Intel Core Ultra processors (Series 2)","AORUS AI SNATCH : Auto-Overclocking Software by AI models","Premium Compatibility : 4*DDR5 with XMP Memory Module Support","EZ-Latch Plus : PCIe and M.2 slots with Quick Release & Screwless Design","PCIe UD Slot X : PCIe 5.0 x16 slot with 10X strength for graphics card","Ultra-Fast Storage : 5*M.2 slots, including 1* PCIe 5.0 x4"],price:100,brand:"Gigabyte"}),new En({title:"Z890 AORUS XTREME AI TOP",fullTitle:"Z890 AORUS XTREME AI TOP",images:["https://i.postimg.cc/152F0WPj/0.webp","https://i.postimg.cc/43ThqmYv/1.webp","https://i.postimg.cc/7LMTkwzF/2.webp","https://i.postimg.cc/4xc9WzxN/3.webp","https://i.postimg.cc/Qt8KNwkH/4.webp"],description:["Ultimate Scalability : 2*PCIe 5.0 x16 slots for Multi-GPU and 4*PCIe 5.0/4.0 x4 M.2 slots","Next-gen Connectivity: Dual THUNDERBOLT 5 and THUNDERBOLT 4 Type-C with DP-Alt","Supports Intel Core Ultra processors (Series 2)","EZ-Latch Plus: PCIe and M.2 slots with Quick Release & Screwless Design","Premium Compatibility: 4*DDR5 with XMP Memory Module Support"],price:100,brand:"Gigabyte"}),new En({title:"Z890 AORUS MASTER",fullTitle:"Z890 AORUS MASTER",images:["https://i.postimg.cc/SNv6TSLV/0.webp","https://i.postimg.cc/HLGQm6hy/1.webp","https://i.postimg.cc/0Np7y7TH/2.webp","https://i.postimg.cc/3x0gzsnh/3.webp","https://i.postimg.cc/NMBm95YG/4.webp"],description:["AI Perfdrive : Provides optimal and customized BIOS preset profile for users","Premium Compatibility : 4*DDR5 with XMP Memory Module Support","EZ-Latch Plus : PCIe and M.2 slots with Quick Release & Screwless Design","Ultra-Fast Storage : 5*M.2 slots, including 2* PCIe 5.0 x4","DTS : X Ultra Audio : ALC1220 & Rear ESS SABRE Hi-Fi 9118 DAC","PCIe UD Slot X : PCIe 5.0 x16 slot with 10X strength for graphics card"],price:100,brand:"Gigabyte"}),new En({title:"Z890 AERO D",fullTitle:"Z890 AERO D",images:["https://i.postimg.cc/76n1mSXT/0.webp","https://i.postimg.cc/zvdC15sz/1.webp","https://i.postimg.cc/Df5dGd89/2.webp","https://i.postimg.cc/BbZTytw7/3.webp","https://i.postimg.cc/ZKRPxBNC/4.webp"],description:['PROCESSOR LGA1851 socket: Support for Intel Core Ultra Processors L3 cache varies with CPU * Please refer to "CPU Support List" for more information.',"Intel Z890 Express Chipset","Support for DDR5 9500(O.C) / 9466(O.C) / 9333(O.C) / 9200(O.C)/ 9066(O.C) / 8933(O.C) / 8800(O.C) /8600(O.C) / 8400(O.C) /8266(O.C) / 8200(O.C) / 8000(O.C) / 7950(O.C) / 7900(O.C) / 7800(O.C) / 7600(O.C.) / 7400(O.C.) / 7200(O.C.) / 7000(O.C.) / 6800(O.C.) / 6600(O.C.) / 6400 / 6200 / 6000 / 5800 / 5600MT/s memory modules."],price:100,brand:"Gigabyte"}),new En({title:"X570 PG Velocita",fullTitle:"X570 Phantom Gaming Velocita",description:["Soporta Socket AMD AM4 Ryzen 2000, 3000, 4000 G-Series, 5000 y 5000 G-Series Desktop Processors","Diseo de fase de alimentacin 14, Digi Power, Dr. MOS","2 PCIe 4.0 x16, 3 PCIe 4.0 x1*","Soporta memoria DDR4 5000+ (OC)","8 SATA3, 1 Hyper M.2 (PCIe Gen4 x4), 1 Hyper M.2 (PCIe Gen4 x4 & SATA3)*"],images:["https://i.postimg.cc/VvwGNYZX/0.png","https://i.postimg.cc/50LK1Hgx/1.png","https://i.postimg.cc/KYdpd7nq/2.png","https://i.postimg.cc/q7tZbDC6/3.png","https://i.postimg.cc/gjKMXf1Q/4.png"],price:90,brand:"AsRock"}),new En({title:"Z690 PG Velocita",fullTitle:"Z690 Phantom Gaming Velocita",description:["Soporta 14th, 13th & 12th Gen Intel Core Processors (LGA1700)","1 PCIe 5.0 x16, 1 PCIe 4.0 x16, 1 PCIe 3.0 x16 2 PCIe 3.0 x1","4 x DDR5 DIMMs Soporta Dual Channel, up to 6400+ (OC)","6 SATA3 1 Blazing M.2 (PCIe Gen5x4)","Killer E3100 2.5G LAN, Intel Gigabit LAN"],images:["https://i.postimg.cc/PfbVRwNy/0.png","https://i.postimg.cc/8zcycX4X/1.png","https://i.postimg.cc/Pr23tnW8/2.png","https://i.postimg.cc/SNy1FxMh/3.png","https://i.postimg.cc/3xqtvjb8/4.png"],price:90,brand:"AsRock"})],pC=[new sl({title:"EVGA SuperNOVA 450 GM - 80 Plus Gold 450W",fullTitle:"EVGA SuperNOVA 450 GM, 80 Plus Gold 450W, Fully Modular, ECO Mode with DBB Fan, 7 Year Warranty, Includes Power ON Self Tester, SFX Form Factor, Power Supply 123-GM-0450-Y1",images:["https://i.postimg.cc/B6WQLw9n/0.png","https://i.postimg.cc/4ysfw73C/1.png","https://i.postimg.cc/Y9121fMf/2.png","https://i.postimg.cc/pVJXrZ0P/3.png","https://i.postimg.cc/BbpqzS8j/4.png"],description:["EFICIENCIA - GOLD","MODO ECO - AUTO","MODULAR - FULL","GARANTA - 7 Ao(s)","TAMAO DE VENTILADOR - 92mm","RENDIMIENTO - 2"],price:50,brand:"EVGA"}),new sl({title:"EVGA 750 N1, 750W",fullTitle:"EVGA 750 N1, 750W, 2 Year Warranty, Power Supply 100-N1-0750-L1",images:["https://i.postimg.cc/tJBj5BfP/0.jpg","https://i.postimg.cc/L4D22sXX/1.jpg","https://i.postimg.cc/sD2yXRQJ/2.jpg","https://i.postimg.cc/bryPk76p/3.jpg","https://i.postimg.cc/YC5wbGXX/4.jpg"],description:["EFICIENCIA - Sin certificacin","MODO ECO - No","MODULAR - No","GARANTA - 2 Ao(s)","TAMAO DE VENTILADOR - 120mm","RENDIMIENTO - 1"],price:0,brand:"EVGA"}),new sl({title:"EVGA SuperNOVA 1000 GT, 80 Plus Gold 1000W",fullTitle:"EVGA SuperNOVA 1000 GT, 80 Plus Gold 1000W, Fully Modular, Eco Mode with FDB Fan, 10 Year Warranty, Includes Power ON Self Tester, Compact 150mm Size, Power Supply 220-GT-1000-X1",images:["https://i.postimg.cc/SKnJzMnD/0.jpg","https://i.postimg.cc/Hx5n614M/1.jpg","https://i.postimg.cc/x1xXCR1X/2.jpg","https://i.postimg.cc/8CxsdzWD/3.jpg","https://i.postimg.cc/MHST43dF/4.jpg"],description:["EFICIENCIA - GOLD","MODO ECO - AUTO","MODULAR - FULL","GARANTA - 5 Ao(s)","TAMAO DE VENTILADOR - 135mm"],price:120,brand:"EVGA"}),new sl({title:"EVGA SuperNOVA 1000G XC, 80 Plus Gold 1000W ",fullTitle:"EVGA SuperNOVA 1000G XC ATX3.0 & PCIE 5, 80 Plus Gold Certified 1000W, 12VHPWR, Fully Modular, ECO MODE with FDB Fan, 100% Japanese Capacitors, Compact 150mm Size, Power Supply 520-5G-1000-K1",images:["https://i.postimg.cc/90QNgBWs/0.jpg","https://i.postimg.cc/gJDTK7Pv/1.jpg","https://i.postimg.cc/QCYY2WCC/2.jpg","https://i.postimg.cc/RF9YKB2S/3.jpg","https://i.postimg.cc/ryfH07jT/4.jpg"],description:["EFICIENCIA - GOLD","MODO ECO - YES","MODULAR - Semi-Modular","GARANTA - 5 Ao(s)","TAMAO DE VENTILADOR - 135mm"],price:0,brand:"EVGA"})],mC=[new Ks({title:"ASUS TUF AMD Radeon RX 7900 XT OC",fullTitle:"ASUS TUF Gaming AMD Radeon RX 7900 XT OC Edition - Tarjeta grfica para juegos (PCIe 4.0, memoria GDDR6 de 20 GB, 1 HDMI 2.1, 3X DisplayPort 2.1, GPU Tweak III, TUF-RX7900XT-O20G-GAMING)",images:["https://i.postimg.cc/52qqWgKD/0.jpg","https://i.postimg.cc/1zvGftQH/1.jpg","https://i.postimg.cc/15FrJsGm/2.jpg","https://i.postimg.cc/3xHCqV1g/3.jpg","https://i.postimg.cc/MG606BhH/4.jpg"],description:["Tipo de memoria GDDR6","Tamao de memoria 24GB","Ancho de banda de memoria Hasta 800 GB/s","Ancho de banda de memoria efectivo Hasta 2900 GB/s","Conector de alimentacin adicional 2x8-Pin"],price:671.49,brand:"ASUS"}),new Ks({title:"Sapphire Nitro+ AMD Radeon RX 6700 XT OC",fullTitle:"Sapphire Nitro+ AMD Radeon RX 6700 XT Gaming OC 12GB GDDR6 HDMI/Triple DP Tarjeta grfica 11306-01-20G",images:["https://i.postimg.cc/MGnTmKBt/0.jpg","https://i.postimg.cc/2yDSYQKX/1.jpg","https://i.postimg.cc/DzRzjkdh/2.jpg","https://i.postimg.cc/wvJjnf0m/3.jpg","https://i.postimg.cc/Wzwb1DRp/4.jpg"],description:["Tipo de memoria GDDR6","Tamao de memoria 12GB","Interfaz: Pci-Express 4.0","Gpu: Gpu De 7 / Nm Arquitectura Amd Rdna  2","Displayport 1.4: 7680  4320"],price:904.09,brand:"Sapphire"}),new Ks({title:"ASUS TUF RTX4070 TI 12GB",fullTitle:"ASUS TUF Gaming TUF-RTX4070TI-O12G-GAMING NVIDIA GeForce RTX 4070 Ti 12 GB GDDR6X",images:["https://i.postimg.cc/k4t2qXXD/0.jpg","https://i.postimg.cc/3wNyfFsX/1.jpg","https://i.postimg.cc/RZX6TDDC/2.jpg","https://i.postimg.cc/g07xC6pf/3.jpg","https://i.postimg.cc/fynJLnJC/4.jpg"],description:["Tipo de memoria GDDR6","Tamao de memoria 12GB","Los condensadores militares con una resistencia nominal de 20 000 horas a 105 grados aumentan la durabilidad del ral de alimentacin de la GPU.","Ncleos RT de 3. generacin: hasta el doble de rendimiento en el ray tracing.  ","Con NVIDIA DLSS3, la ultraeficiente arquitectura Ada Lovelace y ray tracing completo. "],price:1041.16,brand:"ASUS"}),new Ks({title:"ASUS ROG Strix RTX 3090 OC 24GB",fullTitle:"ASUS ROG Strix GeForce RTX 3090 OC Edition 24GB GDDR6X - Tarjeta grfica para juegos con ventiladores de tecnologa axial y ventilador central de presin esttica ROG-STRIX-RTX3090-O24G-GAMING",images:["https://i.postimg.cc/ryr4LgKg/0.jpg","https://i.postimg.cc/G2BytxzL/1.jpg","https://i.postimg.cc/BbHPcZdR/2.jpg","https://i.postimg.cc/fL609Sgx/3.jpg","https://i.postimg.cc/WbmJd3mk/4.jpg"],description:["Tipo de memoria GDDR6X","Tamao de memoria 24GB","CUDA Core 10496","Velocidad de Memoria 19.5 Gbps","Resolucin Digital Max Resolution 7680 x 4320"],price:1499.99,brand:"ASUS"}),new Ks({title:"Intel Arc B580 12 GB GDDR6",fullTitle:"Intel Arc B580 Titan OC, 12 GB GDDR6, enfriamiento desgarrado 2.0, ventilador axial, luz de respiracin, placa trasera de metal, SB580T-12GOC",images:["https://i.postimg.cc/9XZDkMnn/0.jpg","https://i.postimg.cc/X7Wr6WM7/1.jpg","https://i.postimg.cc/CxLdd4L3/2.jpg","https://i.postimg.cc/T1Vh57b6/3.jpg","https://i.postimg.cc/HstVpNH0/4.jpg"],description:["","","","","",""],price:0,brand:"Intel"}),new Ks({title:"ASRock A770 16GB",fullTitle:"ASRock A770 Phantom Gaming 16G, tarjeta grfica con GDDR6 y refrigeracin silenciosa",images:["https://i.postimg.cc/mZzYgB6Y/0.webp","https://i.postimg.cc/xC7L34qN/1.webp","https://i.postimg.cc/wMmLfQsf/2.webp","https://i.postimg.cc/gk3334pr/3.webp","https://i.postimg.cc/zDsnL699/4.webp"],description:["16GB 256-bit GDDR6","Intel Xe HPG Microarchitecture","Intel Xe Super Sampling (XeSS)","DirectX 12 Ultimate","Clock da GPU: 2200 MHz","Clock da Memria: 17.5 Gbps"],price:0,brand:"AsRock"})];let U_=[];function Kf(n){n.forEach(e=>{U_.push(e)})}Kf(fC);Kf(pC);Kf(mC);new En({title:"TUF GAMING Z690-PLUS WIFI D4",fullTitle:"Tarjeta madre para juegos Intel Z690 (LGA 1700) ATX, 15 fases de poder DrMOS, PCIe 5.0, memoria DDR4, cuatro puertos M.2, WiFi 6 y Ethernet Intel de 2.5Gb, HDMI, DisplayPort, USB 3.2 Gen 2x2 Type-C, USB 3.2 Gen 2 Type C frontal, SATA 6 Gbps, Thunderbolt 4 e iluminacin Aura Sync RGB",description:["Socket Intel LGA 1700: Listo para procesadores Intel de 14a, 13a y 12a Gen.","Solucin de energa mejorada: 14 + 1 fases de poder DrMOS, PCB de seis capas, conectores ProCool, chokes de aleacin y capacitores duraderos para una entrega de energa estable.","Conectividad de prxima generacin: PCIe 5.0, USB 3.2 Gen2x2 Type-C, USB 3.2 Gen 2 Type-C frontal y Thunderbolt 4.","Hecha para juegos en lnea: WiFi 6, Intel 2.5 Gb Ethernet y TUF LANGuard.","Cancelacin de ruido de IA bidireccional: Reduce el ruido de fondo del micrfono y la salida de audio para una comunicacin ntida en juegos o videoconferencias.","Refrigeracin completa: Disipador de calor VRM ampliado, disipador de calor PCH sin ventilador, disipadores de calor M.2, puertos de ventilador hbridos y utilidad Fan Xpert 4 en Armory Crate.","Efectos RGB Aura deslumbrantes: Elegante diseo de iluminacin de borde y PCH, puertos RGB direccionables y soporte para tiras RGB."],price:89,images:["https://i.postimg.cc/7YVcf2kh/0.webp","https://i.postimg.cc/Qxsw8qvv/1.webp","https://i.postimg.cc/h4VNRYZ9/2.webp","https://i.postimg.cc/Fzb6bfkP/3.webp","https://i.postimg.cc/g227R2zD/4.webp"],brand:"ASUS"});const gC=()=>{const[n,e]=B.useState(void 0),[t,i]=B.useState(1),{addToCart:o}=j_(),l=()=>{if((n==null?void 0:n.quantity)!=null){const y=(n==null?void 0:n.quantity)+1;i(y),n.quantity=y}},c=()=>{if((n==null?void 0:n.quantity)!=null){const y=(n==null?void 0:n.quantity)-1;i(y),n.quantity=y}},h=()=>{n!=null&&o(n)},f={main:"w-full p-2",content:"size-full flex flex-col bg-nd rounded-lg p-2",headerBox:"flex gap-2 text-sm text-gray-400",headerTxt:"underline font-bold",titleBox:"flex flex-col",title:"text-2xl text-white font-bold",brand:"text-gray-400 font-bold",sliderBox:"my-4",dataBox:"",cartBox:"flex flex-col ",quantityBox:{main:"flex items-center my-4",priceBox:"w-full flex items-end text-rd",price:"font-bold text-5xl ",lessBtn:"size-10 flex items-center justify-center bg-st text-2xl text-gray-400 rounded",quantity:"size-10 flex items-center justify-center font-bold text-gray-400",plusBtn:"size-10 flex items-center justify-center bg-rd text-2xl text-black rounded"},cartBtns:{main:"flex flex-col gap-2 font-bold",add:"w-full bg-rd rounded h-[45px] text-xl",buyNow:"w-full bg-st rounded h-[45px] text-xl text-white"},details:{main:"flex flex-col gap-2 my-4",item:"w-full",txt:"text-gray-400"}};return B.useEffect(()=>{e(U_[4])},[]),R.jsx("section",{className:f.main,children:n!=null&&R.jsxs("div",{className:f.content,children:[R.jsxs("span",{className:f.headerBox,children:[R.jsx("h2",{className:f.headerTxt,children:n.category}),R.jsx("h2",{children:"/"}),R.jsx("h2",{className:f.headerTxt,children:n.brand})]}),R.jsxs("span",{className:f.titleBox,children:[R.jsx("h3",{className:f.brand,children:n.brand}),R.jsx("h1",{className:f.title,children:n.fullTitle})]}),R.jsx("div",{className:f.sliderBox,children:R.jsx("picture",{className:"size-full flex items-center justify-center",children:R.jsx("img",{className:"size-full object-contain",src:n.images[0],alt:""})})}),R.jsxs("div",{className:f.dataBox,children:[R.jsxs("div",{className:f.cartBox,children:[R.jsxs("div",{className:f.quantityBox.main,children:[R.jsxs("span",{className:f.quantityBox.priceBox,children:[R.jsx("h5",{className:"text-lg",children:"$/"}),R.jsx("h2",{className:f.quantityBox.price,children:n.price.toFixed(2)})]}),R.jsxs("span",{className:f.quantityBox.main,children:[R.jsx("button",{className:f.quantityBox.lessBtn,onClick:c,children:"-"}),R.jsx("h2",{className:f.quantityBox.quantity,children:t}),R.jsx("button",{className:f.quantityBox.plusBtn,onClick:l,children:"+"})]})]}),R.jsxs("span",{className:f.cartBtns.main,children:[R.jsx("button",{className:f.cartBtns.add,onClick:h,children:"Aadir al carro"}),R.jsx("button",{className:f.cartBtns.buyNow,children:"Comprar ahora"})]})]}),R.jsx("ul",{className:f.details.main,children:n.description.map((y,v)=>R.jsx("li",{className:f.details.item,children:R.jsx("h2",{className:f.details.txt,children:y})},v))})]})]})})},ky=()=>R.jsx("div",{className:"w-full flex min-h-screen pt-10",children:R.jsx("div",{className:"w-[90%] mx-auto pt-10 border border-white"})}),sc=()=>R.jsxs("div",{className:"spinner",children:[R.jsx("div",{}),R.jsx("div",{}),R.jsx("div",{}),R.jsx("div",{}),R.jsx("div",{}),R.jsx("div",{})]}),yC=({data:n,list:e})=>{const[t,i]=B.useState(!0),[o,l]=B.useState(!1),c={main:"w-full h-32",content:"size-full product-cart-1 p-2 bg-nd flex flex-col hover:shadow-[0px_0px_8px_1px] hover:scale-95 duration-300 hover:shadow-rd",imageBox:"product-image rounded bg-white size-full max-h-28 overlow-hidden rounded p-1 flex items-center justify-center",image:"size-full object-contain",dataBox:"flex flex-col pt-2 pl-2 justify-between",titleBox:"flex flex-col",brand:"text-sm text-gray-400",title:"text-white font-bold text-sm w-11/12",price:"text-rd text-end font-bold text-lg mr-2"},h={main:"w-full h-58",content:"size-full product-card-2 relative bg-nd rounded-lg p-1",imageBox:"size-full p-1 product-image bg-white overflow-hidden rounded flex items-center justify-center",image:"size-full object-contain",dataBox:"flex flex-col justify-between",titleBox:"flex flex-col overflow-hidden max-h-20",brand:"font-bold text-[12px]",title:"max-w-full text-white font-bold leading-6 overflow-hidden max-h-12",price:"text-end font-bold text-rd",priceAfterDiscount:""},f={list:"w-full h-36 p-4 flex items-center justify-center",mosaic:"w-full h-80 p-4 flex items-center justify-center"};return B.useEffect(()=>{i(!1)},[]),t&&e?R.jsx("div",{className:f.list,children:R.jsx(sc,{})}):t&&e==!1?R.jsx("div",{className:f.mosaic,children:R.jsx(sc,{})}):e?R.jsx("article",{className:h.main+" transform transition-all duration-500 ease-in-out",children:R.jsxs(cr,{className:h.content,to:"",children:[R.jsx("picture",{className:h.imageBox,children:n.images[0]===""?R.jsx("span",{className:"size-full flex justify-center items-center p-4",children:R.jsx("h4",{className:"text-black text-lg text-center font-bold",children:"Imagen no disponible"})}):R.jsxs("div",{className:"size-full",children:[!o&&R.jsx("div",{className:`scale-75 ${n.images[0]!==""?"hidden":"flex"}`,children:R.jsx(sc,{})}),n.images[0]!==""&&R.jsx("img",{className:o?h.image:"max-h-0 max-w-0",src:n.images[0],alt:`${n.title}-poster`,onLoad:()=>l(!0),loading:"lazy"})]})}),R.jsxs("div",{className:h.dataBox,children:[R.jsxs("span",{className:h.titleBox,children:[R.jsx("h2",{className:h.brand,children:n.brand}),R.jsx("h1",{className:h.title,children:n.title})]}),n.offer!=null&&n.offer==!0?R.jsxs("span",{children:[R.jsxs("h3",{className:h.price,children:[n.price,"/$"]}),R.jsxs("h2",{className:h.priceAfterDiscount,children:[n.price,"/$"]})]}):R.jsxs("h3",{className:h.price,children:[n.price.toFixed(2),"/$"]})]})]})}):R.jsx("article",{className:c.main+" transform transition-all duration-500 ease-in-out",children:R.jsxs(cr,{className:c.content,to:"",children:[R.jsx("picture",{className:c.imageBox,children:R.jsx("img",{className:c.image,src:n.images[0],alt:`${n.title}-poster`,loading:"lazy"})}),R.jsxs("div",{className:c.dataBox,children:[R.jsxs("span",{className:c.titleBox,children:[R.jsx("h3",{className:c.brand,children:n.brand}),R.jsx("h1",{className:c.title,children:n.title})]}),R.jsxs("p",{className:c.price,children:[n.price,"/$"]})]})]})})};function by(n){return hr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"7",height:"7",x:"3",y:"3",rx:"1"},child:[]},{tag:"rect",attr:{width:"7",height:"7",x:"3",y:"14",rx:"1"},child:[]},{tag:"path",attr:{d:"M14 4h7"},child:[]},{tag:"path",attr:{d:"M14 9h7"},child:[]},{tag:"path",attr:{d:"M14 15h7"},child:[]},{tag:"path",attr:{d:"M14 20h7"},child:[]}]})(n)}function Ny(n){return hr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 11h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1zm10 0h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1zM4 21h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1zm13 0c2.206 0 4-1.794 4-4s-1.794-4-4-4-4 1.794-4 4 1.794 4 4 4z"},child:[]}]})(n)}function vC(n){return hr({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1-1.06 1.06L8.25 4.81V16.5a.75.75 0 0 1-1.5 0V4.81L3.53 8.03a.75.75 0 0 1-1.06-1.06l4.5-4.5Zm9.53 4.28a.75.75 0 0 1 .75.75v11.69l3.22-3.22a.75.75 0 1 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.22 3.22V7.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"},child:[]}]})(n)}const Dy=({options:n,onChange:e,placeholder:t="Nombre, creciente"})=>{const[i,o]=B.useState(!1),[l,c]=B.useState(null),h=f=>{c(f),e(f.value),o(!1)};return R.jsxs("div",{className:"relative inline-block w-full h-10",children:[R.jsxs("div",{className:"bg-rd h-full flex items-center justify-between border border-rd rounded-lg p-2 cursor-pointer",onClick:()=>o(!i),children:[R.jsx("h1",{className:"text-st font-bold text-sm",children:l?l.label:t}),R.jsx("h1",{className:"text-xl text-card-bg text-nd",children:R.jsx(vC,{})})]}),i&&R.jsx("ul",{className:"absolute z-10 top-[109%] sm:top-[102%] w-full bg-st border rounded-lg overflow-hidden",children:n.map((f,y)=>R.jsx("li",{className:"px-2 py-2 group hover:bg-interaction cursor-pointer",onClick:()=>h(f),children:R.jsx("h3",{className:"group-hover:font-bold duration-300 text-sm text-gray-300",children:f.label})},y))})]})},_C=({data:n,setOrderType:e,loading:t,setLoading:i})=>{const[o,l]=B.useState(!0),c={main:"w-full h-full flex",content:"w-full flex flex-col p-2",list:`w-full h-full grid ${o?"grid-cols-2 sm:grid-cols-3 md:grid-cols-5":"sm:grid-cols-2 md:grid-cols-3"} gap-2 pr-1 pb-2 overflow-auto text-gray-400 scroll`,header:{main:"h-16 grid grid-cols-3 w-full bg-nd p-2 rounded-lg items-center  mb-2",typeSelector:"text-white text-xl rounded-lg overflow-hidden border-2 border-nd",listBtn:`p-2 ${o?"bg-rd text-st rounded-l-lg":"bg-st text-gray-400"}`,mosaicBtn:`p-2 ${o?"bg-st text-gray-400":"bg-rd text-st  rounded-r-lg"}`,mosaicBtnBox:"w-full flex justify-end",customSelect:"w-full col-span-2"}},h=y=>{e(y)},f=[{value:{type:"price",order:"desc"},label:"Precio ms alto"},{value:{type:"price",order:"asc"},label:"Precio ms bajo"},{value:{type:"title",order:"asc"},label:"Nombre, creciente"},{value:{type:"title",order:"desc"},label:"Nombre, decreciente"}];return B.useEffect(()=>{setTimeout(()=>i(!1),1e3)},[]),t?R.jsx("div",{className:c.main,children:R.jsxs("div",{className:c.content,children:[R.jsxs("div",{className:c.header.main,children:[R.jsx("div",{className:c.header.customSelect,children:R.jsx(Dy,{options:f,onChange:h})}),R.jsx("div",{className:c.header.mosaicBtnBox,children:R.jsxs("span",{className:c.header.typeSelector,children:[R.jsx("button",{className:c.header.listBtn,onClick:()=>l(!0),children:R.jsx(by,{})}),R.jsx("button",{className:c.header.mosaicBtn,onClick:()=>l(!1),children:R.jsx(Ny,{})})]})})]}),R.jsx("div",{className:"w-full min-h-[68vh] flex items-center justify-center",children:R.jsx("span",{className:"scale-110",children:R.jsx(sc,{})})})]})}):R.jsx("div",{className:c.main,children:R.jsxs("div",{className:c.content,children:[R.jsxs("div",{className:c.header.main,children:[R.jsx("div",{className:c.header.customSelect,children:R.jsx(Dy,{options:f,onChange:h})}),R.jsx("div",{className:c.header.mosaicBtnBox,children:R.jsxs("span",{className:c.header.typeSelector,children:[R.jsx("button",{className:c.header.listBtn,onClick:()=>l(!0),children:R.jsx(by,{})}),R.jsx("button",{className:c.header.mosaicBtn,onClick:()=>l(!1),children:R.jsx(Ny,{})})]})})]}),R.jsx("ul",{className:c.list,children:n.map((y,v)=>R.jsx("li",{className:" transition-all linear duration-500",children:R.jsx(yC,{data:y,list:o})},v))})]})})},wC=()=>{};var Oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},EC=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],h=n[t++],f=((o&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},z_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,h=c?n[o+1]:0,f=o+2<n.length,y=f?n[o+2]:0,v=l>>2,T=(l&3)<<4|h>>4;let x=(h&15)<<2|y>>6,A=y&63;f||(A=64,c||(x=64)),i.push(t[v],t[T],t[x],t[A])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(B_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):EC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||h==null||y==null||T==null)throw new TC;const x=l<<2|h>>4;if(i.push(x),y!==64){const A=h<<4&240|y>>2;if(i.push(A),T!==64){const O=y<<6&192|T;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class TC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IC=function(n){const e=B_(n);return z_.encodeByteArray(e,!0)},Ec=function(n){return IC(n).replace(/\./g,"")},$_=function(n){try{return z_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=()=>CC().__FIREBASE_DEFAULTS__,xC=()=>{if(typeof process>"u"||typeof Oy>"u")return;const n=Oy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},RC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&$_(n[1]);return e&&JSON.parse(e)},Kc=()=>{try{return wC()||SC()||xC()||RC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},H_=n=>{var e,t;return(t=(e=Kc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},PC=n=>{const e=H_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},G_=()=>{var n;return(n=Kc())===null||n===void 0?void 0:n.config},q_=n=>{var e;return(e=Kc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ec(JSON.stringify(t)),Ec(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function NC(){var n;const e=(n=Kc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function LC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MC(){const n=Sn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function VC(){return!NC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jC(){try{return typeof indexedDB=="object"}catch{return!1}}function FC(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="FirebaseError";class ki extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=UC,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?BC(l,i):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new ki(o,h,i)}}function BC(n,e){return n.replace(zC,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const zC=/\{\$([^}]+)}/g;function $C(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function io(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(Ly(l)&&Ly(c)){if(!io(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Ly(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function HC(n,e){const t=new GC(n,e);return t.subscribe.bind(t)}class GC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");qC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=qh),o.error===void 0&&(o.error=qh),o.complete===void 0&&(o.complete=qh);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function qh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(n){return n&&n._delegate?n._delegate:n}class so{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new AC;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QC(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:KC(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KC(n){return n===Qs?void 0:n}function QC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new WC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ke||(Ke={}));const YC={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},JC=Ke.INFO,ZC={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},eS=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=ZC[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qf{constructor(e){this.name=e,this._logLevel=JC,this._logHandler=eS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const tS=(n,e)=>e.some(t=>n instanceof t);let My,Vy;function nS(){return My||(My=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rS(){return Vy||(Vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W_=new WeakMap,hf=new WeakMap,K_=new WeakMap,Wh=new WeakMap,Xf=new WeakMap;function iS(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ms(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&W_.set(t,n)}).catch(()=>{}),Xf.set(e,n),e}function sS(n){if(hf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});hf.set(n,e)}let ff={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return hf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||K_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ms(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function oS(n){ff=n(ff)}function aS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Kh(this),e,...t);return K_.set(i,e.sort?e.sort():[e]),ms(i)}:rS().includes(n)?function(...e){return n.apply(Kh(this),e),ms(W_.get(this))}:function(...e){return ms(n.apply(Kh(this),e))}}function lS(n){return typeof n=="function"?aS(n):(n instanceof IDBTransaction&&sS(n),tS(n,nS())?new Proxy(n,ff):n)}function ms(n){if(n instanceof IDBRequest)return iS(n);if(Wh.has(n))return Wh.get(n);const e=lS(n);return e!==n&&(Wh.set(n,e),Xf.set(e,n)),e}const Kh=n=>Xf.get(n);function uS(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),h=ms(c);return i&&c.addEventListener("upgradeneeded",f=>{i(ms(c.result),f.oldVersion,f.newVersion,ms(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),o&&f.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const cS=["get","getKey","getAll","getAllKeys","count"],dS=["put","add","delete","clear"],Qh=new Map;function jy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Qh.get(e))return Qh.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=dS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||cS.includes(t)))return;const l=async function(c,...h){const f=this.transaction(c,o?"readwrite":"readonly");let y=f.store;return i&&(y=y.index(h.shift())),(await Promise.all([y[t](...h),o&&f.done]))[0]};return Qh.set(e,l),l}oS(n=>({...n,get:(e,t,i)=>jy(e,t)||n.get(e,t,i),has:(e,t)=>!!jy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(fS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function fS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pf="@firebase/app",Fy="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Qf("@firebase/app"),pS="@firebase/app-compat",mS="@firebase/analytics-compat",gS="@firebase/analytics",yS="@firebase/app-check-compat",vS="@firebase/app-check",_S="@firebase/auth",wS="@firebase/auth-compat",ES="@firebase/database",TS="@firebase/data-connect",IS="@firebase/database-compat",CS="@firebase/functions",SS="@firebase/functions-compat",xS="@firebase/installations",RS="@firebase/installations-compat",PS="@firebase/messaging",AS="@firebase/messaging-compat",kS="@firebase/performance",bS="@firebase/performance-compat",NS="@firebase/remote-config",DS="@firebase/remote-config-compat",OS="@firebase/storage",LS="@firebase/storage-compat",MS="@firebase/firestore",VS="@firebase/vertexai",jS="@firebase/firestore-compat",FS="firebase",US="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="[DEFAULT]",BS={[pf]:"fire-core",[pS]:"fire-core-compat",[gS]:"fire-analytics",[mS]:"fire-analytics-compat",[vS]:"fire-app-check",[yS]:"fire-app-check-compat",[_S]:"fire-auth",[wS]:"fire-auth-compat",[ES]:"fire-rtdb",[TS]:"fire-data-connect",[IS]:"fire-rtdb-compat",[CS]:"fire-fn",[SS]:"fire-fn-compat",[xS]:"fire-iid",[RS]:"fire-iid-compat",[PS]:"fire-fcm",[AS]:"fire-fcm-compat",[kS]:"fire-perf",[bS]:"fire-perf-compat",[NS]:"fire-rc",[DS]:"fire-rc-compat",[OS]:"fire-gcs",[LS]:"fire-gcs-compat",[MS]:"fire-fst",[jS]:"fire-fst-compat",[VS]:"fire-vertex","fire-js":"fire-js",[FS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Map,zS=new Map,gf=new Map;function Uy(n,e){try{n.container.addComponent(e)}catch(t){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ia(n){const e=n.name;if(gf.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;gf.set(e,n);for(const t of Tc.values())Uy(t,n);for(const t of zS.values())Uy(t,n);return!0}function Yf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Qr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new Pl("app","Firebase",$S);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=US;function Q_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:mf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw gs.create("bad-app-name",{appName:String(o)});if(t||(t=G_()),!t)throw gs.create("no-options");const l=Tc.get(o);if(l){if(io(t,l.options)&&io(i,l.config))return l;throw gs.create("duplicate-app",{appName:o})}const c=new XC(o);for(const f of gf.values())c.addComponent(f);const h=new HS(t,i,c);return Tc.set(o,h),h}function X_(n=mf){const e=Tc.get(n);if(!e&&n===mf&&G_())return Q_();if(!e)throw gs.create("no-app",{appName:n});return e}function ys(n,e,t){var i;let o=(i=BS[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${o}" with version "${e}":`];l&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(h.join(" "));return}ia(new so(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="firebase-heartbeat-database",qS=1,yl="firebase-heartbeat-store";let Xh=null;function Y_(){return Xh||(Xh=uS(GS,qS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(yl)}catch(t){console.warn(t)}}}}).catch(n=>{throw gs.create("idb-open",{originalErrorMessage:n.message})})),Xh}async function WS(n){try{const t=(await Y_()).transaction(yl),i=await t.objectStore(yl).get(J_(n));return await t.done,i}catch(e){if(e instanceof ki)Si.warn(e.message);else{const t=gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Si.warn(t.message)}}}async function By(n,e){try{const i=(await Y_()).transaction(yl,"readwrite");await i.objectStore(yl).put(e,J_(n)),await i.done}catch(t){if(t instanceof ki)Si.warn(t.message);else{const i=gs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Si.warn(i.message)}}}function J_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=1024,QS=30;class XS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new JS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=zy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>QS){const c=ZS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Si.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=zy(),{heartbeatsToSend:i,unsentEntries:o}=YS(this._heartbeatsCache.heartbeats),l=Ec(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Si.warn(t),""}}}function zy(){return new Date().toISOString().substring(0,10)}function YS(n,e=KS){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),$y(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),$y(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class JS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jC()?FC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await WS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return By(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return By(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function $y(n){return Ec(JSON.stringify({version:2,heartbeats:n})).length}function ZS(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(n){ia(new so("platform-logger",e=>new hS(e),"PRIVATE")),ia(new so("heartbeat",e=>new XS(e),"PRIVATE")),ys(pf,Fy,n),ys(pf,Fy,"esm2017"),ys("fire-js","")}ex("");var Hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vs,Z_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,I){function C(){}C.prototype=I.prototype,P.D=I.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(N,L,b){for(var S=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)S[Ie-2]=arguments[Ie];return I.prototype[L].apply(N,S)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,I,C){C||(C=0);var N=Array(16);if(typeof I=="string")for(var L=0;16>L;++L)N[L]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(L=0;16>L;++L)N[L]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=P.g[0],C=P.g[1],L=P.g[2];var b=P.g[3],S=I+(b^C&(L^b))+N[0]+3614090360&4294967295;I=C+(S<<7&4294967295|S>>>25),S=b+(L^I&(C^L))+N[1]+3905402710&4294967295,b=I+(S<<12&4294967295|S>>>20),S=L+(C^b&(I^C))+N[2]+606105819&4294967295,L=b+(S<<17&4294967295|S>>>15),S=C+(I^L&(b^I))+N[3]+3250441966&4294967295,C=L+(S<<22&4294967295|S>>>10),S=I+(b^C&(L^b))+N[4]+4118548399&4294967295,I=C+(S<<7&4294967295|S>>>25),S=b+(L^I&(C^L))+N[5]+1200080426&4294967295,b=I+(S<<12&4294967295|S>>>20),S=L+(C^b&(I^C))+N[6]+2821735955&4294967295,L=b+(S<<17&4294967295|S>>>15),S=C+(I^L&(b^I))+N[7]+4249261313&4294967295,C=L+(S<<22&4294967295|S>>>10),S=I+(b^C&(L^b))+N[8]+1770035416&4294967295,I=C+(S<<7&4294967295|S>>>25),S=b+(L^I&(C^L))+N[9]+2336552879&4294967295,b=I+(S<<12&4294967295|S>>>20),S=L+(C^b&(I^C))+N[10]+4294925233&4294967295,L=b+(S<<17&4294967295|S>>>15),S=C+(I^L&(b^I))+N[11]+2304563134&4294967295,C=L+(S<<22&4294967295|S>>>10),S=I+(b^C&(L^b))+N[12]+1804603682&4294967295,I=C+(S<<7&4294967295|S>>>25),S=b+(L^I&(C^L))+N[13]+4254626195&4294967295,b=I+(S<<12&4294967295|S>>>20),S=L+(C^b&(I^C))+N[14]+2792965006&4294967295,L=b+(S<<17&4294967295|S>>>15),S=C+(I^L&(b^I))+N[15]+1236535329&4294967295,C=L+(S<<22&4294967295|S>>>10),S=I+(L^b&(C^L))+N[1]+4129170786&4294967295,I=C+(S<<5&4294967295|S>>>27),S=b+(C^L&(I^C))+N[6]+3225465664&4294967295,b=I+(S<<9&4294967295|S>>>23),S=L+(I^C&(b^I))+N[11]+643717713&4294967295,L=b+(S<<14&4294967295|S>>>18),S=C+(b^I&(L^b))+N[0]+3921069994&4294967295,C=L+(S<<20&4294967295|S>>>12),S=I+(L^b&(C^L))+N[5]+3593408605&4294967295,I=C+(S<<5&4294967295|S>>>27),S=b+(C^L&(I^C))+N[10]+38016083&4294967295,b=I+(S<<9&4294967295|S>>>23),S=L+(I^C&(b^I))+N[15]+3634488961&4294967295,L=b+(S<<14&4294967295|S>>>18),S=C+(b^I&(L^b))+N[4]+3889429448&4294967295,C=L+(S<<20&4294967295|S>>>12),S=I+(L^b&(C^L))+N[9]+568446438&4294967295,I=C+(S<<5&4294967295|S>>>27),S=b+(C^L&(I^C))+N[14]+3275163606&4294967295,b=I+(S<<9&4294967295|S>>>23),S=L+(I^C&(b^I))+N[3]+4107603335&4294967295,L=b+(S<<14&4294967295|S>>>18),S=C+(b^I&(L^b))+N[8]+1163531501&4294967295,C=L+(S<<20&4294967295|S>>>12),S=I+(L^b&(C^L))+N[13]+2850285829&4294967295,I=C+(S<<5&4294967295|S>>>27),S=b+(C^L&(I^C))+N[2]+4243563512&4294967295,b=I+(S<<9&4294967295|S>>>23),S=L+(I^C&(b^I))+N[7]+1735328473&4294967295,L=b+(S<<14&4294967295|S>>>18),S=C+(b^I&(L^b))+N[12]+2368359562&4294967295,C=L+(S<<20&4294967295|S>>>12),S=I+(C^L^b)+N[5]+4294588738&4294967295,I=C+(S<<4&4294967295|S>>>28),S=b+(I^C^L)+N[8]+2272392833&4294967295,b=I+(S<<11&4294967295|S>>>21),S=L+(b^I^C)+N[11]+1839030562&4294967295,L=b+(S<<16&4294967295|S>>>16),S=C+(L^b^I)+N[14]+4259657740&4294967295,C=L+(S<<23&4294967295|S>>>9),S=I+(C^L^b)+N[1]+2763975236&4294967295,I=C+(S<<4&4294967295|S>>>28),S=b+(I^C^L)+N[4]+1272893353&4294967295,b=I+(S<<11&4294967295|S>>>21),S=L+(b^I^C)+N[7]+4139469664&4294967295,L=b+(S<<16&4294967295|S>>>16),S=C+(L^b^I)+N[10]+3200236656&4294967295,C=L+(S<<23&4294967295|S>>>9),S=I+(C^L^b)+N[13]+681279174&4294967295,I=C+(S<<4&4294967295|S>>>28),S=b+(I^C^L)+N[0]+3936430074&4294967295,b=I+(S<<11&4294967295|S>>>21),S=L+(b^I^C)+N[3]+3572445317&4294967295,L=b+(S<<16&4294967295|S>>>16),S=C+(L^b^I)+N[6]+76029189&4294967295,C=L+(S<<23&4294967295|S>>>9),S=I+(C^L^b)+N[9]+3654602809&4294967295,I=C+(S<<4&4294967295|S>>>28),S=b+(I^C^L)+N[12]+3873151461&4294967295,b=I+(S<<11&4294967295|S>>>21),S=L+(b^I^C)+N[15]+530742520&4294967295,L=b+(S<<16&4294967295|S>>>16),S=C+(L^b^I)+N[2]+3299628645&4294967295,C=L+(S<<23&4294967295|S>>>9),S=I+(L^(C|~b))+N[0]+4096336452&4294967295,I=C+(S<<6&4294967295|S>>>26),S=b+(C^(I|~L))+N[7]+1126891415&4294967295,b=I+(S<<10&4294967295|S>>>22),S=L+(I^(b|~C))+N[14]+2878612391&4294967295,L=b+(S<<15&4294967295|S>>>17),S=C+(b^(L|~I))+N[5]+4237533241&4294967295,C=L+(S<<21&4294967295|S>>>11),S=I+(L^(C|~b))+N[12]+1700485571&4294967295,I=C+(S<<6&4294967295|S>>>26),S=b+(C^(I|~L))+N[3]+2399980690&4294967295,b=I+(S<<10&4294967295|S>>>22),S=L+(I^(b|~C))+N[10]+4293915773&4294967295,L=b+(S<<15&4294967295|S>>>17),S=C+(b^(L|~I))+N[1]+2240044497&4294967295,C=L+(S<<21&4294967295|S>>>11),S=I+(L^(C|~b))+N[8]+1873313359&4294967295,I=C+(S<<6&4294967295|S>>>26),S=b+(C^(I|~L))+N[15]+4264355552&4294967295,b=I+(S<<10&4294967295|S>>>22),S=L+(I^(b|~C))+N[6]+2734768916&4294967295,L=b+(S<<15&4294967295|S>>>17),S=C+(b^(L|~I))+N[13]+1309151649&4294967295,C=L+(S<<21&4294967295|S>>>11),S=I+(L^(C|~b))+N[4]+4149444226&4294967295,I=C+(S<<6&4294967295|S>>>26),S=b+(C^(I|~L))+N[11]+3174756917&4294967295,b=I+(S<<10&4294967295|S>>>22),S=L+(I^(b|~C))+N[2]+718787259&4294967295,L=b+(S<<15&4294967295|S>>>17),S=C+(b^(L|~I))+N[9]+3951481745&4294967295,P.g[0]=P.g[0]+I&4294967295,P.g[1]=P.g[1]+(L+(S<<21&4294967295|S>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+b&4294967295}i.prototype.u=function(P,I){I===void 0&&(I=P.length);for(var C=I-this.blockSize,N=this.B,L=this.h,b=0;b<I;){if(L==0)for(;b<=C;)o(this,P,b),b+=this.blockSize;if(typeof P=="string"){for(;b<I;)if(N[L++]=P.charCodeAt(b++),L==this.blockSize){o(this,N),L=0;break}}else for(;b<I;)if(N[L++]=P[b++],L==this.blockSize){o(this,N),L=0;break}}this.h=L,this.o+=I},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var I=1;I<P.length-8;++I)P[I]=0;var C=8*this.o;for(I=P.length-8;I<P.length;++I)P[I]=C&255,C/=256;for(this.u(P),P=Array(16),I=C=0;4>I;++I)for(var N=0;32>N;N+=8)P[C++]=this.g[I]>>>N&255;return P};function l(P,I){var C=h;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=I(P)}function c(P,I){this.h=I;for(var C=[],N=!0,L=P.length-1;0<=L;L--){var b=P[L]|0;N&&b==I||(C[L]=b,N=!1)}this.g=C}var h={};function f(P){return-128<=P&&128>P?l(P,function(I){return new c([I|0],0>I?-1:0)}):new c([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return T;if(0>P)return V(y(-P));for(var I=[],C=1,N=0;P>=C;N++)I[N]=P/C|0,C*=4294967296;return new c(I,0)}function v(P,I){if(P.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P.charAt(0)=="-")return V(v(P.substring(1),I));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(I,8)),N=T,L=0;L<P.length;L+=8){var b=Math.min(8,P.length-L),S=parseInt(P.substring(L,L+b),I);8>b?(b=y(Math.pow(I,b)),N=N.j(b).add(y(S))):(N=N.j(C),N=N.add(y(S)))}return N}var T=f(0),x=f(1),A=f(16777216);n=c.prototype,n.m=function(){if(z(this))return-V(this).m();for(var P=0,I=1,C=0;C<this.g.length;C++){var N=this.i(C);P+=(0<=N?N:4294967296+N)*I,I*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(O(this))return"0";if(z(this))return"-"+V(this).toString(P);for(var I=y(Math.pow(P,6)),C=this,N="";;){var L=ne(C,I).g;C=G(C,L.j(I));var b=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=L,O(C))return b+N;for(;6>b.length;)b="0"+b;N=b+N}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function O(P){if(P.h!=0)return!1;for(var I=0;I<P.g.length;I++)if(P.g[I]!=0)return!1;return!0}function z(P){return P.h==-1}n.l=function(P){return P=G(this,P),z(P)?-1:O(P)?0:1};function V(P){for(var I=P.g.length,C=[],N=0;N<I;N++)C[N]=~P.g[N];return new c(C,~P.h).add(x)}n.abs=function(){return z(this)?V(this):this},n.add=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],N=0,L=0;L<=I;L++){var b=N+(this.i(L)&65535)+(P.i(L)&65535),S=(b>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);N=S>>>16,b&=65535,S&=65535,C[L]=S<<16|b}return new c(C,C[C.length-1]&-2147483648?-1:0)};function G(P,I){return P.add(V(I))}n.j=function(P){if(O(this)||O(P))return T;if(z(this))return z(P)?V(this).j(V(P)):V(V(this).j(P));if(z(P))return V(this.j(V(P)));if(0>this.l(A)&&0>P.l(A))return y(this.m()*P.m());for(var I=this.g.length+P.g.length,C=[],N=0;N<2*I;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var L=0;L<P.g.length;L++){var b=this.i(N)>>>16,S=this.i(N)&65535,Ie=P.i(L)>>>16,ke=P.i(L)&65535;C[2*N+2*L]+=S*ke,K(C,2*N+2*L),C[2*N+2*L+1]+=b*ke,K(C,2*N+2*L+1),C[2*N+2*L+1]+=S*Ie,K(C,2*N+2*L+1),C[2*N+2*L+2]+=b*Ie,K(C,2*N+2*L+2)}for(N=0;N<I;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=I;N<2*I;N++)C[N]=0;return new c(C,0)};function K(P,I){for(;(P[I]&65535)!=P[I];)P[I+1]+=P[I]>>>16,P[I]&=65535,I++}function J(P,I){this.g=P,this.h=I}function ne(P,I){if(O(I))throw Error("division by zero");if(O(P))return new J(T,T);if(z(P))return I=ne(V(P),I),new J(V(I.g),V(I.h));if(z(I))return I=ne(P,V(I)),new J(V(I.g),I.h);if(30<P.g.length){if(z(P)||z(I))throw Error("slowDivide_ only works with positive integers.");for(var C=x,N=I;0>=N.l(P);)C=de(C),N=de(N);var L=F(C,1),b=F(N,1);for(N=F(N,2),C=F(C,2);!O(N);){var S=b.add(N);0>=S.l(P)&&(L=L.add(C),b=S),N=F(N,1),C=F(C,1)}return I=G(P,L.j(I)),new J(L,I)}for(L=T;0<=P.l(I);){for(C=Math.max(1,Math.floor(P.m()/I.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),b=y(C),S=b.j(I);z(S)||0<S.l(P);)C-=N,b=y(C),S=b.j(I);O(b)&&(b=x),L=L.add(b),P=G(P,S)}return new J(L,P)}n.A=function(P){return ne(this,P).h},n.and=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],N=0;N<I;N++)C[N]=this.i(N)&P.i(N);return new c(C,this.h&P.h)},n.or=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],N=0;N<I;N++)C[N]=this.i(N)|P.i(N);return new c(C,this.h|P.h)},n.xor=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],N=0;N<I;N++)C[N]=this.i(N)^P.i(N);return new c(C,this.h^P.h)};function de(P){for(var I=P.g.length+1,C=[],N=0;N<I;N++)C[N]=P.i(N)<<1|P.i(N-1)>>>31;return new c(C,P.h)}function F(P,I){var C=I>>5;I%=32;for(var N=P.g.length-C,L=[],b=0;b<N;b++)L[b]=0<I?P.i(b+C)>>>I|P.i(b+C+1)<<32-I:P.i(b+C);return new c(L,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Z_=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=v,vs=c}).apply(typeof Hy<"u"?Hy:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e0,ol,t0,oc,yf,n0,r0,i0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var _=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var W=u[E];if(!(W in _))break e;_=_[W]}u=u[u.length-1],E=_[u],m=m(E),m!=E&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var _=0,E=!1,W={next:function(){if(!E&&_<u.length){var ee=_++;return{value:m(ee,u[ee]),done:!1}}return E=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function T(u,m,_){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,E),u.apply(m,W)}}return function(){return u.apply(m,arguments)}}function x(u,m,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,x.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var E=_.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function O(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(E,W,ee){for(var fe=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)fe[gt-2]=arguments[gt];return m.prototype[W].apply(E,fe)}}function z(u){const m=u.length;if(0<m){const _=Array(m);for(let E=0;E<m;E++)_[E]=u[E];return _}return[]}function V(u,m){for(let _=1;_<arguments.length;_++){const E=arguments[_];if(f(E)){const W=u.length||0,ee=E.length||0;u.length=W+ee;for(let fe=0;fe<ee;fe++)u[W+fe]=E[fe]}else u.push(E)}}class G{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(u){return/^[\s\xa0]*$/.test(u)}function J(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function ne(u){return ne[" "](u),u}ne[" "]=function(){};var de=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function F(u,m,_){for(const E in u)m.call(_,u[E],E,u)}function P(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function I(u){const m={};for(const _ in u)m[_]=u[_];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let _,E;for(let W=1;W<arguments.length;W++){E=arguments[W];for(_ in E)u[_]=E[_];for(let ee=0;ee<C.length;ee++)_=C[ee],Object.prototype.hasOwnProperty.call(E,_)&&(u[_]=E[_])}}function L(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function b(u){h.setTimeout(()=>{throw u},0)}function S(){var u=te;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ie{constructor(){this.h=this.g=null}add(m,_){const E=ke.get();E.set(m,_),this.h?this.h.next=E:this.g=E,this.h=E}}var ke=new G(()=>new je,u=>u.reset());class je{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,ae=!1,te=new Ie,$=()=>{const u=h.Promise.resolve(void 0);Fe=()=>{u.then(j)}};var j=()=>{for(var u;u=S();){try{u.h.call(u.g)}catch(_){b(_)}var m=ke;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ae=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};h.addEventListener("test",_,m),h.removeEventListener("test",_,m)}catch{}return u}();function Ce(u,m){if(ie.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(de){e:{try{ne(m.nodeName);var W=!0;break e}catch{}W=!1}W||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ae[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ce.aa.h.call(this)}}O(Ce,ie);var Ae={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function Je(u,m,_,E,W){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!E,this.ha=W,this.key=++Ge,this.da=this.fa=!1}function He(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function dt(u){this.src=u,this.g={},this.h=0}dt.prototype.add=function(u,m,_,E,W){var ee=u.toString();u=this.g[ee],u||(u=this.g[ee]=[],this.h++);var fe=Gt(u,m,E,W);return-1<fe?(m=u[fe],_||(m.fa=!1)):(m=new Je(m,this.src,ee,!!E,W),m.fa=_,u.push(m)),m};function Yt(u,m){var _=m.type;if(_ in u.g){var E=u.g[_],W=Array.prototype.indexOf.call(E,m,void 0),ee;(ee=0<=W)&&Array.prototype.splice.call(E,W,1),ee&&(He(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Gt(u,m,_,E){for(var W=0;W<u.length;++W){var ee=u[W];if(!ee.da&&ee.listener==m&&ee.capture==!!_&&ee.ha==E)return W}return-1}var Ct="closure_lm_"+(1e6*Math.random()|0),ct={};function jt(u,m,_,E,W){if(Array.isArray(m)){for(var ee=0;ee<m.length;ee++)jt(u,m[ee],_,E,W);return null}return _=ni(_),u&&u[Be]?u.K(m,_,y(E)?!!E.capture:!1,W):Nt(u,m,_,!1,E,W)}function Nt(u,m,_,E,W,ee){if(!m)throw Error("Invalid event type");var fe=y(W)?!!W.capture:!!W,gt=sn(u);if(gt||(u[Ct]=gt=new dt(u)),_=gt.add(m,_,E,fe,ee),_.proxy)return _;if(E=wt(),_.proxy=E,E.src=u,E.listener=_,u.addEventListener)me||(W=fe),W===void 0&&(W=!1),u.addEventListener(m.toString(),E,W);else if(u.attachEvent)u.attachEvent(Ft(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return _}function wt(){function u(_){return m.call(u.src,u.listener,_)}const m=Dt;return u}function zn(u,m,_,E,W){if(Array.isArray(m))for(var ee=0;ee<m.length;ee++)zn(u,m[ee],_,E,W);else E=y(E)?!!E.capture:!!E,_=ni(_),u&&u[Be]?(u=u.i,m=String(m).toString(),m in u.g&&(ee=u.g[m],_=Gt(ee,_,E,W),-1<_&&(He(ee[_]),Array.prototype.splice.call(ee,_,1),ee.length==0&&(delete u.g[m],u.h--)))):u&&(u=sn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Gt(m,_,E,W)),(_=-1<u?m[u]:null)&&xn(_))}function xn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Be])Yt(m.i,u);else{var _=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(_,E,u.capture):m.detachEvent?m.detachEvent(Ft(_),E):m.addListener&&m.removeListener&&m.removeListener(E),(_=sn(m))?(Yt(_,u),_.h==0&&(_.src=null,m[Ct]=null)):He(u)}}}function Ft(u){return u in ct?ct[u]:ct[u]="on"+u}function Dt(u,m){if(u.da)u=!0;else{m=new Ce(m,this);var _=u.listener,E=u.ha||u.src;u.fa&&xn(u),u=_.call(E,m)}return u}function sn(u){return u=u[Ct],u instanceof dt?u:null}var fr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ni(u){return typeof u=="function"?u:(u[fr]||(u[fr]=function(m){return u.handleEvent(m)}),u[fr])}function yt(){q.call(this),this.i=new dt(this),this.M=this,this.F=null}O(yt,q),yt.prototype[Be]=!0,yt.prototype.removeEventListener=function(u,m,_,E){zn(this,u,m,_,E)};function ht(u,m){var _,E=u.F;if(E)for(_=[];E;E=E.F)_.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new ie(m,u);else if(m instanceof ie)m.target=m.target||u;else{var W=m;m=new ie(E,u),N(m,W)}if(W=!0,_)for(var ee=_.length-1;0<=ee;ee--){var fe=m.g=_[ee];W=Xn(fe,E,!0,m)&&W}if(fe=m.g=u,W=Xn(fe,E,!0,m)&&W,W=Xn(fe,E,!1,m)&&W,_)for(ee=0;ee<_.length;ee++)fe=m.g=_[ee],W=Xn(fe,E,!1,m)&&W}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],E=0;E<_.length;E++)He(_[E]);delete u.g[m],u.h--}}this.F=null},yt.prototype.K=function(u,m,_,E){return this.i.add(String(u),m,!1,_,E)},yt.prototype.L=function(u,m,_,E){return this.i.add(String(u),m,!0,_,E)};function Xn(u,m,_,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var W=!0,ee=0;ee<m.length;++ee){var fe=m[ee];if(fe&&!fe.da&&fe.capture==_){var gt=fe.listener,qt=fe.ha||fe.src;fe.fa&&Yt(u.i,fe),W=gt.call(qt,E)!==!1&&W}}return W&&!E.defaultPrevented}function ri(u,m,_){if(typeof u=="function")_&&(u=x(u,_));else if(u&&typeof u.handleEvent=="function")u=x(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(u,m||0)}function br(u){u.g=ri(()=>{u.g=null,u.i&&(u.i=!1,br(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class fn extends q{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:br(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(u){q.call(this),this.h=u,this.g={}}O(Nr,q);var Di=[];function Oi(u){F(u.g,function(m,_){this.g.hasOwnProperty(_)&&xn(m)},u),u.g={}}Nr.prototype.N=function(){Nr.aa.N.call(this),Oi(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rs=h.JSON.stringify,Li=h.JSON.parse,Dr=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Or(){}Or.prototype.h=null;function Lr(u){return u.h||(u.h=u.i())}function Mi(){}var Rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yn(){ie.call(this,"d")}O(Yn,ie);function ii(){ie.call(this,"c")}O(ii,ie);var Pn={},Mr=null;function si(){return Mr=Mr||new yt}Pn.La="serverreachability";function Ps(u){ie.call(this,Pn.La,u)}O(Ps,ie);function D(u){const m=si();ht(m,new Ps(m))}Pn.STAT_EVENT="statevent";function H(u,m){ie.call(this,Pn.STAT_EVENT,u),this.stat=m}O(H,ie);function X(u){const m=si();ht(m,new H(m,u))}Pn.Ma="timingevent";function se(u,m){ie.call(this,Pn.Ma,u),this.size=m}O(se,ie);function pe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function xe(){this.g=!0}xe.prototype.xa=function(){this.g=!1};function be(u,m,_,E,W,ee){u.info(function(){if(u.g)if(ee)for(var fe="",gt=ee.split("&"),qt=0;qt<gt.length;qt++){var et=gt[qt].split("=");if(1<et.length){var Jt=et[0];et=et[1];var Bt=Jt.split("_");fe=2<=Bt.length&&Bt[1]=="type"?fe+(Jt+"="+et+"&"):fe+(Jt+"=redacted&")}}else fe=null;else fe=ee;return"XMLHTTP REQ ("+E+") [attempt "+W+"]: "+m+`
`+_+`
`+fe})}function we(u,m,_,E,W,ee,fe){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+W+"]: "+m+`
`+_+`
`+ee+" "+fe})}function ye(u,m,_,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Le(u,_)+(E?" "+E:"")})}function ge(u,m){u.info(function(){return"TIMEOUT: "+m})}xe.prototype.info=function(){};function Le(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var E=_[u];if(!(2>E.length)){var W=E[1];if(Array.isArray(W)&&!(1>W.length)){var ee=W[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var fe=1;fe<W.length;fe++)W[fe]=""}}}}return Rs(_)}catch{return m}}var Ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ft={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pt;function ut(){}O(ut,Or),ut.prototype.g=function(){return new XMLHttpRequest},ut.prototype.i=function(){return{}},pt=new ut;function We(u,m,_,E){this.j=u,this.i=m,this.l=_,this.R=E||1,this.U=new Nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}var Jn={},Zn={};function pn(u,m,_){u.L=1,u.v=Bi($n(m)),u.m=_,u.P=!0,mn(u,null)}function mn(u,m){u.F=Date.now(),Ze(u),u.A=$n(u.v);var _=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),$i(_.i,"t",E),u.C=0,_=u.j.J,u.h=new St,u.g=Ql(u.j,_?m:null,!u.m),0<u.O&&(u.M=new fn(x(u.Y,u,u.g),u.O)),m=u.U,_=u.g,E=u.ca;var W="readystatechange";Array.isArray(W)||(W&&(Di[0]=W.toString()),W=Di);for(var ee=0;ee<W.length;ee++){var fe=jt(_,W[ee],E||m.handleEvent,!1,m.h||m);if(!fe)break;m.g[fe.key]=fe}m=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),D(),be(u.i,u.u,u.A,u.l,u.R,u.m)}We.prototype.ca=function(u){u=u.target;const m=this.M;m&&On(u)==3?m.j():this.Y(u)},We.prototype.Y=function(u){try{if(u==this.g)e:{const Bt=On(this.g);var m=this.g.Ba();const nr=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||xa(this.g)))){this.J||Bt!=4||m==7||(m==8||0>=nr?D(3):D(2)),er(this);var _=this.g.Z();this.X=_;t:if(Vi(this)){var E=xa(this.g);u="";var W=E.length,ee=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mt(this),Xe(this);var fe="";break t}this.h.i=new h.TextDecoder}for(m=0;m<W;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(ee&&m==W-1)});E.length=0,this.h.g+=u,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=_==200,we(this.i,this.u,this.A,this.l,this.R,Bt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,qt=this.g;if((gt=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(gt)){var et=gt;break t}}et=null}if(_=et)ye(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vr(this,_);else{this.o=!1,this.s=3,X(12),mt(this),Xe(this);break e}}if(this.P){_=!0;let Gn;for(;!this.J&&this.C<fe.length;)if(Gn=oi(this,fe),Gn==Zn){Bt==4&&(this.s=4,X(14),_=!1),ye(this.i,this.l,null,"[Incomplete Response]");break}else if(Gn==Jn){this.s=4,X(15),ye(this.i,this.l,fe,"[Invalid Chunk]"),_=!1;break}else ye(this.i,this.l,Gn,null),Vr(this,Gn);if(Vi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||fe.length!=0||this.h.h||(this.s=1,X(16),_=!1),this.o=this.o&&_,!_)ye(this.i,this.l,fe,"[Invalid Chunked Response]"),mt(this),Xe(this);else if(0<fe.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Pa(Jt),Jt.M=!0,X(11))}}else ye(this.i,this.l,fe,null),Vr(this,fe);Bt==4&&mt(this),this.o&&!this.J&&(Bt==4?To(this.j,this):(this.o=!1,Ze(this)))}else yo(this.g),_==400&&0<fe.indexOf("Unknown SID")?(this.s=3,X(12)):(this.s=0,X(13)),mt(this),Xe(this)}}}catch{}finally{}};function Vi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function oi(u,m){var _=u.C,E=m.indexOf(`
`,_);return E==-1?Zn:(_=Number(m.substring(_,E)),isNaN(_)?Jn:(E+=1,E+_>m.length?Zn:(m=m.slice(E,E+_),u.C=E+_,m)))}We.prototype.cancel=function(){this.J=!0,mt(this)};function Ze(u){u.S=Date.now()+u.I,ai(u,u.I)}function ai(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=pe(x(u.ba,u),m)}function er(u){u.B&&(h.clearTimeout(u.B),u.B=null)}We.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ge(this.i,this.A),this.L!=2&&(D(),X(17)),mt(this),this.s=2,Xe(this)):ai(this,this.S-u)};function Xe(u){u.j.G==0||u.J||To(u.j,u)}function mt(u){er(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Oi(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Vr(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||on(_.h,u))){if(!u.K&&on(_.h,u)&&_.G==3){try{var E=_.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var W=E;if(W[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Eo(_),vr(_);else break e;wo(_),X(18)}}else _.za=W[1],0<_.za-_.T&&37500>W[2]&&_.F&&_.v==0&&!_.C&&(_.C=pe(x(_.Za,_),6e3));if(1>=As(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else hi(_,11)}else if((u.K||_.g==u)&&Eo(_),!K(m))for(W=_.Da.g.parse(m),m=0;m<W.length;m++){let et=W[m];if(_.T=et[0],et=et[1],_.G==2)if(et[0]=="c"){_.K=et[1],_.ia=et[2];const Jt=et[3];Jt!=null&&(_.la=Jt,_.j.info("VER="+_.la));const Bt=et[4];Bt!=null&&(_.Aa=Bt,_.j.info("SVER="+_.Aa));const nr=et[5];nr!=null&&typeof nr=="number"&&0<nr&&(E=1.5*nr,_.L=E,_.j.info("backChannelRequestTimeoutMs_="+E)),E=_;const Gn=u.g;if(Gn){const Ls=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ls){var ee=E.h;ee.g||Ls.indexOf("spdy")==-1&&Ls.indexOf("quic")==-1&&Ls.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Ta(ee,ee.h),ee.h=null))}if(E.D){const Co=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(E.ya=Co,_t(E.I,E.D,Co))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),E=_;var fe=u;if(E.qa=Kl(E,E.J?E.ia:null,E.W),fe.K){Ml(E.h,fe);var gt=fe,qt=E.L;qt&&(gt.I=qt),gt.B&&(er(gt),Ze(gt)),E.g=fe}else Os(E);0<_.i.length&&zr(_)}else et[0]!="stop"&&et[0]!="close"||hi(_,7);else _.G==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?hi(_,7):ln(_):et[0]!="noop"&&_.l&&_.l.ta(et),_.v=0)}}D(4)}catch{}}var jr=class{constructor(u,m){this.g=u,this.map=m}};function vt(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ut(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function As(u){return u.h?1:u.g?u.g.size:0}function on(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ta(u,m){u.g?u.g.add(m):u.h=m}function Ml(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vt.prototype.cancel=function(){if(this.i=Vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Vl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return z(u.i)}function ho(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var m=[],_=u.length,E=0;E<_;E++)m.push(u[E]);return m}m=[],_=0;for(E in u)m[_++]=u[E];return m}function fo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const E in u)m[_++]=E;return m}}}function ji(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=fo(u),E=ho(u),W=E.length,ee=0;ee<W;ee++)m.call(void 0,E[ee],_&&_[ee],u)}var ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fd(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var E=u[_].indexOf("="),W=null;if(0<=E){var ee=u[_].substring(0,E);W=u[_].substring(E+1)}else ee=u[_];m(ee,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function li(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof li){this.h=u.h,bs(this,u.j),this.o=u.o,this.g=u.g,Fi(this,u.s),this.l=u.l;var m=u.i,_=new Fr;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ui(this,_),this.m=u.m}else u&&(m=String(u).match(ks))?(this.h=!1,bs(this,m[1]||"",!0),this.o=Ye(m[2]||""),this.g=Ye(m[3]||"",!0),Fi(this,m[4]),this.l=Ye(m[5]||"",!0),Ui(this,m[6]||"",!0),this.m=Ye(m[7]||"")):(this.h=!1,this.i=new Fr(null,this.h))}li.prototype.toString=function(){var u=[],m=this.j;m&&u.push(zi(m,po,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(zi(m,po,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(zi(_,_.charAt(0)=="/"?Ul:Fl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",zi(_,Ia)),u.join("")};function $n(u){return new li(u)}function bs(u,m,_){u.j=_?Ye(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Fi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ui(u,m,_){m instanceof Fr?(u.i=m,Ur(u.i,u.h)):(_||(m=zi(m,Bl)),u.i=new Fr(m,u.h))}function _t(u,m,_){u.i.set(m,_)}function Bi(u){return _t(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ye(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function zi(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,jl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function jl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var po=/[#\/\?@]/g,Fl=/[#\?:]/g,Ul=/[#\?]/g,Bl=/[#\?@]/g,Ia=/#/g;function Fr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&fd(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}n=Fr.prototype,n.add=function(u,m){an(this),this.i=null,u=tr(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function pr(u,m){an(u),m=tr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function mr(u,m){return an(u),m=tr(u,m),u.g.has(m)}n.forEach=function(u,m){an(this),this.g.forEach(function(_,E){_.forEach(function(W){u.call(m,W,E,this)},this)},this)},n.na=function(){an(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let E=0;E<m.length;E++){const W=u[E];for(let ee=0;ee<W.length;ee++)_.push(m[E])}return _},n.V=function(u){an(this);let m=[];if(typeof u=="string")mr(this,u)&&(m=m.concat(this.g.get(tr(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},n.set=function(u,m){return an(this),this.i=null,u=tr(this,u),mr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function $i(u,m,_){pr(u,m),0<_.length&&(u.i=null,u.g.set(tr(u,m),z(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var E=m[_];const ee=encodeURIComponent(String(E)),fe=this.V(E);for(E=0;E<fe.length;E++){var W=ee;fe[E]!==""&&(W+="="+encodeURIComponent(String(fe[E]))),u.push(W)}}return this.i=u.join("&")};function tr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ur(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(_,E){var W=E.toLowerCase();E!=W&&(pr(this,E),$i(this,W,_))},u)),u.j=m}function pd(u,m){const _=new xe;if(h.Image){const E=new Image;E.onload=A(Dn,_,"TestLoadImage: loaded",!0,m,E),E.onerror=A(Dn,_,"TestLoadImage: error",!1,m,E),E.onabort=A(Dn,_,"TestLoadImage: abort",!1,m,E),E.ontimeout=A(Dn,_,"TestLoadImage: timeout",!1,m,E),h.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function zl(u,m){const _=new xe,E=new AbortController,W=setTimeout(()=>{E.abort(),Dn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(ee=>{clearTimeout(W),ee.ok?Dn(_,"TestPingServer: ok",!0,m):Dn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(W),Dn(_,"TestPingServer: error",!1,m)})}function Dn(u,m,_,E,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),E(_)}catch{}}function md(){this.g=new Dr}function $l(u,m,_){const E=_||"";try{ji(u,function(W,ee){let fe=W;y(W)&&(fe=Rs(W)),m.push(E+ee+"="+encodeURIComponent(fe))})}catch(W){throw m.push(E+"type="+encodeURIComponent("_badmap")),W}}function ui(u){this.l=u.Ub||null,this.j=u.eb||!1}O(ui,Or),ui.prototype.g=function(){return new Ns(this.l,this.j)},ui.prototype.i=function(u){return function(){return u}}({});function Ns(u,m){yt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Ns,yt),n=Ns.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,yr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?gr(this):yr(this),this.readyState==3&&Hl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,gr(this))},n.Qa=function(u){this.g&&(this.response=u,gr(this))},n.ga=function(){this.g&&gr(this)};function gr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,yr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function yr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ci(u){let m="";return F(u,function(_,E){m+=E,m+=":",m+=_,m+=`\r
`}),m}function Hi(u,m,_){e:{for(E in _){var E=!1;break e}E=!0}E||(_=ci(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):_t(u,m,_))}function xt(u){yt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(xt,yt);var gd=/^https?$/i,Ca=["POST","PUT"];n=xt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,_,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pt.g(),this.v=this.o?Lr(this.o):Lr(pt),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(ee){Ds(this,ee);return}if(u=_||"",_=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var W in E)_.set(W,E[W]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const ee of E.keys())_.set(ee,E.get(ee));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(_.keys()).find(ee=>ee.toLowerCase()=="content-type"),W=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ca,m,void 0))||E||W||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,fe]of _)this.g.setRequestHeader(ee,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{go(this),this.u=!0,this.g.send(u),this.u=!1}catch(ee){Ds(this,ee)}};function Ds(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,mo(u),Hn(u)}function mo(u){u.A||(u.A=!0,ht(u,"complete"),ht(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ht(this,"complete"),ht(this,"abort"),Hn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),xt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Sa(this):this.bb())},n.bb=function(){Sa(this)};function Sa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||On(u)!=4||u.Z()!=2)){if(u.u&&On(u)==4)ri(u.Ea,0,u);else if(ht(u,"readystatechange"),On(u)==4){u.h=!1;try{const fe=u.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var E;if(E=fe===0){var W=String(u.D).match(ks)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),E=!gd.test(W?W.toLowerCase():"")}_=E}if(_)ht(u,"complete"),ht(u,"success");else{u.m=6;try{var ee=2<On(u)?u.g.statusText:""}catch{ee=""}u.l=ee+" ["+u.Z()+"]",mo(u)}}finally{Hn(u)}}}}function Hn(u,m){if(u.g){go(u);const _=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||ht(u,"ready");try{_.onreadystatechange=E}catch{}}}function go(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function On(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Li(m)}};function xa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function yo(u){const m={};u=(u.g&&2<=On(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(K(u[E]))continue;var _=L(u[E]);const W=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const ee=m[W]||[];m[W]=ee,ee.push(_)}P(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Br(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ra(u){this.Aa=0,this.i=[],this.j=new xe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Br("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Br("baseRetryDelayMs",5e3,u),this.cb=Br("retryDelaySeedMs",1e4,u),this.Wa=Br("forwardChannelMaxRetries",2,u),this.wa=Br("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new vt(u&&u.concurrentRequestLimit),this.Da=new md,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ra.prototype,n.la=8,n.G=1,n.connect=function(u,m,_,E){X(0),this.W=u,this.H=m||{},_&&E!==void 0&&(this.H.OSID=_,this.H.OAID=E),this.F=this.X,this.I=Kl(this,null,this.W),zr(this)};function ln(u){if(vo(u),u.G==3){var m=u.U++,_=$n(u.I);if(_t(_,"SID",u.K),_t(_,"RID",m),_t(_,"TYPE","terminate"),di(u,_),m=new We(u,u.j,m),m.L=2,m.v=Bi($n(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=m.v,_=!0),_||(m.g=Ql(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ze(m)}Wl(u)}function vr(u){u.g&&(Pa(u),u.g.cancel(),u.g=null)}function vo(u){vr(u),u.u&&(h.clearTimeout(u.u),u.u=null),Eo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function zr(u){if(!Ut(u.h)&&!u.s){u.s=!0;var m=u.Ga;Fe||$(),ae||(Fe(),ae=!0),te.add(m,u),u.B=0}}function yd(u,m){return As(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=pe(x(u.Ga,u,m),ql(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const W=new We(this,this.j,u);let ee=this.o;if(this.S&&(ee?(ee=I(ee),N(ee,this.S)):ee=this.S),this.m!==null||this.O||(W.H=ee,ee=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var E=this.i[_];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Gi(this,W,m),_=$n(this.I),_t(_,"RID",u),_t(_,"CVER",22),this.D&&_t(_,"X-HTTP-Session-Id",this.D),di(this,_),ee&&(this.O?m="headers="+encodeURIComponent(String(ci(ee)))+"&"+m:this.m&&Hi(_,this.m,ee)),Ta(this.h,W),this.Ua&&_t(_,"TYPE","init"),this.P?(_t(_,"$req",m),_t(_,"SID","null"),W.T=!0,pn(W,_,null)):pn(W,_,m),this.G=2}}else this.G==3&&(u?_o(this,u):this.i.length==0||Ut(this.h)||_o(this))};function _o(u,m){var _;m?_=m.l:_=u.U++;const E=$n(u.I);_t(E,"SID",u.K),_t(E,"RID",_),_t(E,"AID",u.T),di(u,E),u.m&&u.o&&Hi(E,u.m,u.o),_=new We(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Gi(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ta(u.h,_),pn(_,E,m)}function di(u,m){u.H&&F(u.H,function(_,E){_t(m,E,_)}),u.l&&ji({},function(_,E){_t(m,E,_)})}function Gi(u,m,_){_=Math.min(u.i.length,_);var E=u.l?x(u.l.Na,u.l,u):null;e:{var W=u.i;let ee=-1;for(;;){const fe=["count="+_];ee==-1?0<_?(ee=W[0].g,fe.push("ofs="+ee)):ee=0:fe.push("ofs="+ee);let gt=!0;for(let qt=0;qt<_;qt++){let et=W[qt].g;const Jt=W[qt].map;if(et-=ee,0>et)ee=Math.max(0,W[qt].g-100),gt=!1;else try{$l(Jt,fe,"req"+et+"_")}catch{E&&E(Jt)}}if(gt){E=fe.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,E}function Os(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Fe||$(),ae||(Fe(),ae=!0),te.add(m,u),u.v=0}}function wo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=pe(x(u.Fa,u),ql(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Gl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=pe(x(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,X(10),vr(this),Gl(this))};function Pa(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Gl(u){u.g=new We(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=$n(u.qa);_t(m,"RID","rpc"),_t(m,"SID",u.K),_t(m,"AID",u.T),_t(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&_t(m,"TO",u.ja),_t(m,"TYPE","xmlhttp"),di(u,m),u.m&&u.o&&Hi(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Bi($n(m)),_.m=null,_.P=!0,mn(_,u)}n.Za=function(){this.C!=null&&(this.C=null,vr(this),wo(this),X(19))};function Eo(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function To(u,m){var _=null;if(u.g==m){Eo(u),Pa(u),u.g=null;var E=2}else if(on(u.h,m))_=m.D,Ml(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var W=u.B;E=si(),ht(E,new se(E,_)),zr(u)}else Os(u);else if(W=m.s,W==3||W==0&&0<m.X||!(E==1&&yd(u,m)||E==2&&wo(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),W){case 1:hi(u,5);break;case 4:hi(u,10);break;case 3:hi(u,6);break;default:hi(u,2)}}}function ql(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function hi(u,m){if(u.j.info("Error code "+m),m==2){var _=x(u.fb,u),E=u.Xa;const W=!E;E=new li(E||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||bs(E,"https"),Bi(E),W?pd(E.toString(),_):zl(E.toString(),_)}else X(2);u.G=0,u.l&&u.l.sa(m),Wl(u),vo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),X(2)):(this.j.info("Failed to ping google.com"),X(1))};function Wl(u){if(u.G=0,u.ka=[],u.l){const m=Vl(u.h);(m.length!=0||u.i.length!=0)&&(V(u.ka,m),V(u.ka,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.ra()}}function Kl(u,m,_){var E=_ instanceof li?$n(_):new li(_);if(E.g!="")m&&(E.g=m+"."+E.g),Fi(E,E.s);else{var W=h.location;E=W.protocol,m=m?m+"."+W.hostname:W.hostname,W=+W.port;var ee=new li(null);E&&bs(ee,E),m&&(ee.g=m),W&&Fi(ee,W),_&&(ee.l=_),E=ee}return _=u.D,m=u.ya,_&&m&&_t(E,_,m),_t(E,"VER",u.la),di(u,E),E}function Ql(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new xt(new ui({eb:_})):new xt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Aa(){}n=Aa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Io(){}Io.prototype.g=function(u,m){return new An(u,m)};function An(u,m){yt.call(this),this.g=new Ra(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!K(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!K(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $r(this)}O(An,yt),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){ln(this.g)},An.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Rs(u),u=_);m.i.push(new jr(m.Ya++,u)),m.G==3&&zr(m)},An.prototype.N=function(){this.g.l=null,delete this.j,ln(this.g),delete this.g,An.aa.N.call(this)};function Xl(u){Yn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}O(Xl,Yn);function Yl(){ii.call(this),this.status=1}O(Yl,ii);function $r(u){this.g=u}O($r,Aa),$r.prototype.ua=function(){ht(this.g,"a")},$r.prototype.ta=function(u){ht(this.g,new Xl(u))},$r.prototype.sa=function(u){ht(this.g,new Yl)},$r.prototype.ra=function(){ht(this.g,"b")},Io.prototype.createWebChannel=Io.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,i0=function(){return new Io},r0=function(){return si()},n0=Pn,yf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ue.NO_ERROR=0,Ue.TIMEOUT=8,Ue.HTTP_ERROR=6,oc=Ue,ft.COMPLETE="complete",t0=ft,Mi.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",yt.prototype.listen=yt.prototype.K,ol=Mi,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,e0=xt}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});const Gy="@firebase/firestore",qy="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ya="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new Qf("@firebase/firestore");function qo(){return oo.logLevel}function Ee(n,...e){if(oo.logLevel<=Ke.DEBUG){const t=e.map(Jf);oo.debug(`Firestore (${ya}): ${n}`,...t)}}function xi(n,...e){if(oo.logLevel<=Ke.ERROR){const t=e.map(Jf);oo.error(`Firestore (${ya}): ${n}`,...t)}}function sa(n,...e){if(oo.logLevel<=Ke.WARN){const t=e.map(Jf);oo.warn(`Firestore (${ya}): ${n}`,...t)}}function Jf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(n="Unexpected state"){const e=`FIRESTORE (${ya}) INTERNAL ASSERTION FAILED: `+n;throw xi(e),new Error(e)}function bt(n,e){n||$e()}function rt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends ki{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Tn.UNAUTHENTICATED))}shutdown(){}}class nx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rx{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){bt(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let l=new eo;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new eo,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const f=l;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},h=f=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new eo)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(bt(typeof i.accessToken=="string"),new s0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string"),new Tn(e)}}class ix{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class sx{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new ix(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ox{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Qr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){bt(this.o===void 0);const i=l=>{l.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Ee("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Wy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(bt(typeof t.token=="string"),this.R=t.token,new Wy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=ax(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function nt(n,e){return n<e?-1:n>e?1:0}function oa(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=-62135596800,Qy=1e6;class rn{static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Qy);return new rn(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ky)throw new _e(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qy}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ky;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new rn(0,0))}static max(){return new ze(new rn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="__name__";class Kr{constructor(e,t,i){t===void 0?t=0:t>e.length&&$e(),i===void 0?i=e.length-t:i>e.length-t&&$e(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Kr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Kr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=Kr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=Kr.isNumericId(e),o=Kr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Kr.extractNumericId(e).compare(Kr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vs.fromString(e.substring(4,e.length-2))}}class Pt extends Kr{construct(e,t,i){return new Pt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Pt(t)}static emptyPath(){return new Pt([])}}const ux=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends Kr{construct(e,t,i){return new Cn(e,t,i)}static isValidIdentifier(e){return ux.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xy}static keyField(){return new Cn([Xy])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new _e(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new _e(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new _e(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(i+=h,o++):(l(),o++)}if(l(),c)throw new _e(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cn(t)}static emptyPath(){return new Cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(Pt.fromString(e))}static fromName(e){return new Oe(Pt.fromString(e).popFirst(5))}static empty(){return new Oe(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=-1;function cx(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=ze.fromTimestamp(i===1e9?new rn(t+1,0):new rn(t,i));return new ws(o,Oe.empty(),e)}function dx(n){return new ws(n.readTime,n.key,vl)}class ws{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ws(ze.min(),Oe.empty(),vl)}static max(){return new ws(ze.max(),Oe.empty(),vl)}}function hx(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Oe.comparator(n.documentKey,e.documentKey),t!==0?t:nt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class px{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==fx)throw n;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,i)=>{t(e)})}static reject(e){return new re((t,i)=>{i(e)})}static waitFor(e){return new re((t,i)=>{let o=0,l=0,c=!1;e.forEach(h=>{++o,h.next(()=>{++l,c&&l===o&&t()},f=>i(f))}),c=!0,l===o&&t()})}static or(e){let t=re.resolve(!1);for(const i of e)t=t.next(o=>o?re.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new re((i,o)=>{const l=e.length,c=new Array(l);let h=0;for(let f=0;f<l;f++){const y=f;t(e[y]).next(v=>{c[y]=v,++h,h===l&&i(c)},v=>o(v))}})}static doWhile(e,t){return new re((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function mx(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function va(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Xc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=-1;function Yc(n){return n==null}function Ic(n){return n===0&&1/n==-1/0}function yx(n){return typeof n=="number"&&Number.isInteger(n)&&!Ic(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="";function vx(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Yy(e)),e=_x(n.get(t),e);return Yy(e)}function _x(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case o0:t+="";break;default:t+=l}}return t}function Yy(n){return n+o0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function _a(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function a0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,t){this.comparator=e,this.root=t||dn.EMPTY}insert(e,t){return new Vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??dn.RED,this.left=o??dn.EMPTY,this.right=l??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new dn(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return dn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $e();const e=this.left.check();if(e!==this.right.check())throw $e();return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw $e()}get value(){throw $e()}get color(){throw $e()}get left(){throw $e()}get right(){throw $e()}copy(e,t,i,o,l){return this}insert(e,t,i){return new dn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zy(this.data.getIterator())}getIteratorFrom(e){return new Zy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Xt(this.comparator);return t.data=e,t}}class Zy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this.fields=e,e.sort(Cn.comparator)}static empty(){return new fs([])}unionWith(e){let t=new Xt(Cn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new fs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new l0("Invalid base64 string: "+l):l}}(e);return new hn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new hn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const wx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(n){if(bt(!!n),typeof n=="string"){let e=0;const t=wx.exec(n);if(bt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Mt(n.seconds),nanos:Mt(n.nanos)}}function Mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ts(n){return typeof n=="string"?hn.fromBase64String(n):hn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="server_timestamp",c0="__type__",d0="__previous_value__",h0="__local_write_time__";function Jc(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[c0])===null||t===void 0?void 0:t.stringValue)===u0}function Zc(n){const e=n.mapValue.fields[d0];return Jc(e)?Zc(e):e}function _l(n){const e=Es(n.mapValue.fields[h0].timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,t,i,o,l,c,h,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=y}}const Cc="(default)";class wl{constructor(e,t){this.projectId=e,this.database=t||Cc}static empty(){return new wl("","")}get isDefaultDatabase(){return this.database===Cc}isEqual(e){return e instanceof wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="__type__",Tx="__max__",Qu={mapValue:{}},p0="__vector__",Sc="value";function Is(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jc(n)?4:Cx(n)?9007199254740991:Ix(n)?10:11:$e()}function ti(n,e){if(n===e)return!0;const t=Is(n);if(t!==Is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _l(n).isEqual(_l(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Es(o.timestampValue),h=Es(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Ts(o.bytesValue).isEqual(Ts(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return Mt(o.geoPointValue.latitude)===Mt(l.geoPointValue.latitude)&&Mt(o.geoPointValue.longitude)===Mt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Mt(o.integerValue)===Mt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Mt(o.doubleValue),h=Mt(l.doubleValue);return c===h?Ic(c)===Ic(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return oa(n.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},h=l.mapValue.fields||{};if(Jy(c)!==Jy(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!ti(c[f],h[f])))return!1;return!0}(n,e);default:return $e()}}function El(n,e){return(n.values||[]).find(t=>ti(t,e))!==void 0}function aa(n,e){if(n===e)return 0;const t=Is(n),i=Is(e);if(t!==i)return nt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return nt(n.booleanValue,e.booleanValue);case 2:return function(l,c){const h=Mt(l.integerValue||l.doubleValue),f=Mt(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return ev(n.timestampValue,e.timestampValue);case 4:return ev(_l(n),_l(e));case 5:return nt(n.stringValue,e.stringValue);case 6:return function(l,c){const h=Ts(l),f=Ts(c);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const h=l.split("/"),f=c.split("/");for(let y=0;y<h.length&&y<f.length;y++){const v=nt(h[y],f[y]);if(v!==0)return v}return nt(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const h=nt(Mt(l.latitude),Mt(c.latitude));return h!==0?h:nt(Mt(l.longitude),Mt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return tv(n.arrayValue,e.arrayValue);case 10:return function(l,c){var h,f,y,v;const T=l.fields||{},x=c.fields||{},A=(h=T[Sc])===null||h===void 0?void 0:h.arrayValue,O=(f=x[Sc])===null||f===void 0?void 0:f.arrayValue,z=nt(((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0,((v=O==null?void 0:O.values)===null||v===void 0?void 0:v.length)||0);return z!==0?z:tv(A,O)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Qu.mapValue&&c===Qu.mapValue)return 0;if(l===Qu.mapValue)return 1;if(c===Qu.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),y=c.fields||{},v=Object.keys(y);f.sort(),v.sort();for(let T=0;T<f.length&&T<v.length;++T){const x=nt(f[T],v[T]);if(x!==0)return x;const A=aa(h[f[T]],y[v[T]]);if(A!==0)return A}return nt(f.length,v.length)}(n.mapValue,e.mapValue);default:throw $e()}}function ev(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return nt(n,e);const t=Es(n),i=Es(e),o=nt(t.seconds,i.seconds);return o!==0?o:nt(t.nanos,i.nanos)}function tv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=aa(t[o],i[o]);if(l)return l}return nt(t.length,i.length)}function la(n){return vf(n)}function vf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Es(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ts(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Oe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=vf(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${vf(t.fields[c])}`;return o+"}"}(n.mapValue):$e()}function ac(n){switch(Is(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zc(n);return e?16+ac(e):16;case 5:return 2*n.stringValue.length;case 6:return Ts(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+ac(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return _a(i.fields,(l,c)=>{o+=l.length+ac(c)}),o}(n.mapValue);default:throw $e()}}function xc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _f(n){return!!n&&"integerValue"in n}function Zf(n){return!!n&&"arrayValue"in n}function nv(n){return!!n&&"nullValue"in n}function rv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yh(n){return!!n&&"mapValue"in n}function Ix(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[f0])===null||t===void 0?void 0:t.stringValue)===p0}function cl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return _a(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=cl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Cx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Tx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.value=e}static empty(){return new Xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Yh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cl(t)}setAll(e){let t=Cn.emptyPath(),i={},o=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=h.popLast()}c?i[h.lastSegment()]=cl(c):o.push(h.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Yh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Yh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){_a(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new Xr(cl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,t,i,o,l,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new In(e,0,ze.min(),ze.min(),ze.min(),Xr.empty(),0)}static newFoundDocument(e,t,i,o){return new In(e,1,t,ze.min(),i,o,0)}static newNoDocument(e,t){return new In(e,2,t,ze.min(),ze.min(),Xr.empty(),0)}static newUnknownDocument(e,t){return new In(e,3,t,ze.min(),ze.min(),Xr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,t){this.position=e,this.inclusive=t}}function iv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=Oe.comparator(Oe.fromName(c.referenceValue),t.key):i=aa(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function sv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ti(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Sx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{}class Ht extends m0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Rx(e,t,i):t==="array-contains"?new kx(e,i):t==="in"?new bx(e,i):t==="not-in"?new Nx(e,i):t==="array-contains-any"?new Dx(e,i):new Ht(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Px(e,i):new Ax(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(aa(t,this.value)):t!==null&&Is(this.value)===Is(t)&&this.matchesComparison(aa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends m0{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ar(e,t)}matches(e){return g0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function g0(n){return n.op==="and"}function y0(n){return xx(n)&&g0(n)}function xx(n){for(const e of n.filters)if(e instanceof Ar)return!1;return!0}function wf(n){if(n instanceof Ht)return n.field.canonicalString()+n.op.toString()+la(n.value);if(y0(n))return n.filters.map(e=>wf(e)).join(",");{const e=n.filters.map(t=>wf(t)).join(",");return`${n.op}(${e})`}}function v0(n,e){return n instanceof Ht?function(i,o){return o instanceof Ht&&i.op===o.op&&i.field.isEqual(o.field)&&ti(i.value,o.value)}(n,e):n instanceof Ar?function(i,o){return o instanceof Ar&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,h)=>l&&v0(c,o.filters[h]),!0):!1}(n,e):void $e()}function _0(n){return n instanceof Ht?function(t){return`${t.field.canonicalString()} ${t.op} ${la(t.value)}`}(n):n instanceof Ar?function(t){return t.op.toString()+" {"+t.getFilters().map(_0).join(" ,")+"}"}(n):"Filter"}class Rx extends Ht{constructor(e,t,i){super(e,t,i),this.key=Oe.fromName(i.referenceValue)}matches(e){const t=Oe.comparator(e.key,this.key);return this.matchesComparison(t)}}class Px extends Ht{constructor(e,t){super(e,"in",t),this.keys=w0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ax extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=w0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function w0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Oe.fromName(i.referenceValue))}class kx extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zf(t)&&El(t.arrayValue,this.value)}}class bx extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&El(this.value.arrayValue,t)}}class Nx extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(El(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!El(this.value.arrayValue,t)}}class Dx extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>El(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,t=null,i=[],o=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=h,this.le=null}}function ov(n,e=null,t=[],i=[],o=null,l=null,c=null){return new Ox(n,e,t,i,o,l,c)}function ep(n){const e=rt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>wf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Yc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>la(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>la(i)).join(",")),e.le=t}return e.le}function tp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Sx(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!v0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sv(n.startAt,e.startAt)&&sv(n.endAt,e.endAt)}function Ef(n){return Oe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,t=null,i=[],o=[],l=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Lx(n,e,t,i,o,l,c,h){return new uo(n,e,t,i,o,l,c,h)}function E0(n){return new uo(n)}function av(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function np(n){return n.collectionGroup!==null}function Yo(n){const e=rt(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Xt(Cn.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(y=>{y.isInequality()&&(h=h.add(y.field))})}),h})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Tl(l,i))}),t.has(Cn.keyField().canonicalString())||e.he.push(new Tl(Cn.keyField(),i))}return e.he}function Jr(n){const e=rt(n);return e.Pe||(e.Pe=Mx(e,Yo(n))),e.Pe}function Mx(n,e){if(n.limitType==="F")return ov(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Tl(o.field,l)});const t=n.endAt?new ua(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ua(n.startAt.position,n.startAt.inclusive):null;return ov(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Tf(n,e){const t=n.filters.concat([e]);return new uo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Rc(n,e,t){return new uo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ed(n,e){return tp(Jr(n),Jr(e))&&n.limitType===e.limitType}function T0(n){return`${ep(Jr(n))}|lt:${n.limitType}`}function Wo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>_0(o)).join(", ")}]`),Yc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>la(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>la(o)).join(",")),`Target(${i})`}(Jr(n))}; limitType=${n.limitType})`}function td(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Oe.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of Yo(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,h,f){const y=iv(c,h,f);return c.inclusive?y<=0:y<0}(i.startAt,Yo(i),o)||i.endAt&&!function(c,h,f){const y=iv(c,h,f);return c.inclusive?y>=0:y>0}(i.endAt,Yo(i),o))}(n,e)}function Vx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function I0(n){return(e,t)=>{let i=!1;for(const o of Yo(n)){const l=jx(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function jx(n,e,t){const i=n.field.isKeyField()?Oe.comparator(e.key,t.key):function(l,c,h){const f=c.data.field(l),y=h.data.field(l);return f!==null&&y!==null?aa(f,y):$e()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return $e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_a(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return a0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new Vt(Oe.comparator);function Cs(){return Fx}const C0=new Vt(Oe.comparator);function al(...n){let e=C0;for(const t of n)e=e.insert(t.key,t);return e}function Ux(n){let e=C0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Js(){return dl()}function S0(){return dl()}function dl(){return new co(n=>n.toString(),(n,e)=>n.isEqual(e))}const Bx=new Xt(Oe.comparator);function st(...n){let e=Bx;for(const t of n)e=e.add(t);return e}const zx=new Xt(nt);function $x(){return zx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(e)?"-0":e}}function x0(n){return{integerValue:""+n}}function Hx(n,e){return yx(e)?x0(e):rp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this._=void 0}}function Gx(n,e,t){return n instanceof If?function(o,l){const c={fields:{[c0]:{stringValue:u0},[h0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Jc(l)&&(l=Zc(l)),l&&(c.fields[d0]=l),{mapValue:c}}(t,e):n instanceof Pc?R0(n,e):n instanceof Ac?P0(n,e):function(o,l){const c=Wx(o,l),h=lv(c)+lv(o.Ie);return _f(c)&&_f(o.Ie)?x0(h):rp(o.serializer,h)}(n,e)}function qx(n,e,t){return n instanceof Pc?R0(n,e):n instanceof Ac?P0(n,e):t}function Wx(n,e){return n instanceof Cf?function(i){return _f(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class If extends nd{}class Pc extends nd{constructor(e){super(),this.elements=e}}function R0(n,e){const t=A0(e);for(const i of n.elements)t.some(o=>ti(o,i))||t.push(i);return{arrayValue:{values:t}}}class Ac extends nd{constructor(e){super(),this.elements=e}}function P0(n,e){let t=A0(e);for(const i of n.elements)t=t.filter(o=>!ti(o,i));return{arrayValue:{values:t}}}class Cf extends nd{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function lv(n){return Mt(n.integerValue||n.doubleValue)}function A0(n){return Zf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Kx(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Pc&&o instanceof Pc||i instanceof Ac&&o instanceof Ac?oa(i.elements,o.elements,ti):i instanceof Cf&&o instanceof Cf?ti(i.Ie,o.Ie):i instanceof If&&o instanceof If}(n.transform,e.transform)}class to{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new to}static exists(e){return new to(void 0,e)}static updateTime(e){return new to(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ip{}function k0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Xx(n.key,to.none()):new sp(n.key,n.data,to.none());{const t=n.data,i=Xr.empty();let o=new Xt(Cn.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new rd(n.key,i,new fs(o.toArray()),to.none())}}function Qx(n,e,t){n instanceof sp?function(o,l,c){const h=o.value.clone(),f=cv(o.fieldTransforms,l,c.transformResults);h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof rd?function(o,l,c){if(!lc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const h=cv(o.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(b0(o)),f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function hl(n,e,t,i){return n instanceof sp?function(l,c,h,f){if(!lc(l.precondition,c))return h;const y=l.value.clone(),v=dv(l.fieldTransforms,f,c);return y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof rd?function(l,c,h,f){if(!lc(l.precondition,c))return h;const y=dv(l.fieldTransforms,f,c),v=c.data;return v.setAll(b0(l)),v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,c,h){return lc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function uv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&oa(i,o,(l,c)=>Kx(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class sp extends ip{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rd extends ip{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function b0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function cv(n,e,t){const i=new Map;bt(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,h=e.data.field(l.field);i.set(l.field,qx(c,h,t[o]))}return i}function dv(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,Gx(l,c,e))}return i}class Xx extends ip{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&Qx(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=hl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=hl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=S0();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=t.has(o.key)?null:h;const f=k0(c,h);f!==null&&i.set(o.key,f),c.isValidDocument()||c.convertToNoDocument(ze.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),st())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(t,i)=>uv(t,i))&&oa(this.baseMutations,e.baseMutations,(t,i)=>uv(t,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,tt;function N0(n){if(n===void 0)return xi("GRPC error has no .code"),ce.UNKNOWN;switch(n){case $t.OK:return ce.OK;case $t.CANCELLED:return ce.CANCELLED;case $t.UNKNOWN:return ce.UNKNOWN;case $t.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case $t.INTERNAL:return ce.INTERNAL;case $t.UNAVAILABLE:return ce.UNAVAILABLE;case $t.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case $t.NOT_FOUND:return ce.NOT_FOUND;case $t.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case $t.ABORTED:return ce.ABORTED;case $t.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case $t.DATA_LOSS:return ce.DATA_LOSS;default:return $e()}}(tt=$t||($t={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=new vs([4294967295,4294967295],0);function hv(n){const e=eR().encode(n),t=new Z_;return t.update(e),new Uint8Array(t.digest())}function fv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new vs([t,i],0),new vs([o,l],0)]}class op{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ll(`Invalid padding: ${t}`);if(i<0)throw new ll(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ll(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ll(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=vs.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(vs.fromNumber(i)));return o.compare(tR)===1&&(o=new vs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=hv(e),[i,o]=fv(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,o,l);if(!this.Re(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new op(l,o,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.Ee===0)return;const t=hv(e),[i,o]=fv(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,o,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,kl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new id(ze.min(),o,new Vt(nt),Cs(),st())}}class kl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new kl(i,t,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class D0{constructor(e,t){this.targetId=e,this.ge=t}}class O0{constructor(e,t,i=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class pv{constructor(){this.pe=0,this.ye=mv(),this.we=hn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=st(),t=st(),i=st();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:$e()}}),new kl(this.we,this.be,e,t,i)}Me(){this.Se=!1,this.ye=mv()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,bt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class nR{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Cs(),this.$e=Xu(),this.Ke=Xu(),this.Ue=new Vt(nt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:$e()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(Ef(l))if(i===0){const c=new Oe(l.path);this.ze(t,c,In.newNoDocument(c,ze.min()))}else bt(i===1);else{const c=this.et(t);if(c!==i){const h=this.tt(e),f=h?this.nt(h,e,c):1;if(f!==0){this.Ye(t);const y=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,h;try{c=Ts(i).toUint8Array()}catch(f){if(f instanceof l0)return sa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new op(c,o,l)}catch(f){return sa(f instanceof ll?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ee===0?null:h}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.ke.it(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const h=this.Xe(c);if(h){if(l.current&&Ef(h.target)){const f=new Oe(h.target.path);this._t(f).has(c)||this.ut(c,f)||this.ze(c,f,In.newNoDocument(f,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let i=st();this.Ke.forEach((l,c)=>{let h=!0;c.forEachWhile(f=>{const y=this.Xe(f);return!y||y.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const o=new id(e,t,this.Ue,this.Qe,i);return this.Qe=Cs(),this.$e=Xu(),this.Ke=Xu(),this.Ue=new Vt(nt),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new pv,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Xt(nt),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Xt(nt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ee("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new pv),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Xu(){return new Vt(Oe.comparator)}function mv(){return new Vt(Oe.comparator)}const rR={asc:"ASCENDING",desc:"DESCENDING"},iR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sR={and:"AND",or:"OR"};class oR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sf(n,e){return n.useProto3Json||Yc(e)?e:{value:e}}function xf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Jo(n){return bt(!!n),ze.fromTimestamp(function(t){const i=Es(t);return new rn(i.seconds,i.nanos)}(n))}function M0(n,e){return Rf(n,e).canonicalString()}function Rf(n,e){const t=function(o){return new Pt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function V0(n){const e=Pt.fromString(n);return bt(z0(e)),e}function Jh(n,e){const t=V0(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Oe(F0(t))}function j0(n,e){return M0(n.databaseId,e)}function aR(n){const e=V0(n);return e.length===4?Pt.emptyPath():F0(e)}function gv(n){return new Pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function F0(n){return bt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function lR(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:$e()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,v){return y.useProto3Json?(bt(v===void 0||typeof v=="string"),hn.fromBase64String(v||"")):(bt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),hn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(y){const v=y.code===void 0?ce.UNKNOWN:N0(y.code);return new _e(v,y.message||"")}(c);t=new O0(i,o,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Jh(n,i.document.name),l=Jo(i.document.updateTime),c=i.document.createTime?Jo(i.document.createTime):ze.min(),h=new Xr({mapValue:{fields:i.document.fields}}),f=In.newFoundDocument(o,l,c,h),y=i.targetIds||[],v=i.removedTargetIds||[];t=new uc(y,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Jh(n,i.document),l=i.readTime?Jo(i.readTime):ze.min(),c=In.newNoDocument(o,l),h=i.removedTargetIds||[];t=new uc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Jh(n,i.document),l=i.removedTargetIds||[];t=new uc([],l,o,null)}else{if(!("filter"in e))return $e();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new Zx(o,l),h=i.targetId;t=new D0(h,c)}}return t}function uR(n,e){return{documents:[j0(n,e.path)]}}function cR(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=j0(n,o);const l=function(y){if(y.length!==0)return B0(Ar.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(y){if(y.length!==0)return y.map(v=>function(x){return{field:Ko(x.field),direction:fR(x.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=Sf(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function dR(n){let e=aR(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){bt(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(T){const x=U0(T);return x instanceof Ar&&y0(x)?x.getFilters():[x]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(x=>function(O){return new Tl(Qo(O.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(x))}(t.orderBy));let h=null;t.limit&&(h=function(T){let x;return x=typeof T=="object"?T.value:T,Yc(x)?null:x}(t.limit));let f=null;t.startAt&&(f=function(T){const x=!!T.before,A=T.values||[];return new ua(A,x)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const x=!T.before,A=T.values||[];return new ua(A,x)}(t.endAt)),Lx(e,o,c,l,h,"F",f,y)}function hR(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function U0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Qo(t.unaryFilter.field);return Ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Qo(t.unaryFilter.field);return Ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Qo(t.unaryFilter.field);return Ht.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Qo(t.unaryFilter.field);return Ht.create(c,"!=",{nullValue:"NULL_VALUE"});default:return $e()}}(n):n.fieldFilter!==void 0?function(t){return Ht.create(Qo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $e()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ar.create(t.compositeFilter.filters.map(i=>U0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return $e()}}(t.compositeFilter.op))}(n):$e()}function fR(n){return rR[n]}function pR(n){return iR[n]}function mR(n){return sR[n]}function Ko(n){return{fieldPath:n.canonicalString()}}function Qo(n){return Cn.fromServerFormat(n.fieldPath)}function B0(n){return n instanceof Ht?function(t){if(t.op==="=="){if(rv(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NAN"}};if(nv(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rv(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NAN"}};if(nv(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(t.field),op:pR(t.op),value:t.value}}}(n):n instanceof Ar?function(t){const i=t.getFilters().map(o=>B0(o));return i.length===1?i[0]:{compositeFilter:{op:mR(t.op),filters:i}}}(n):$e()}function z0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,t,i,o,l=ze.min(),c=ze.min(),h=hn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.Tt=e}}function yR(n){const e=dR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Rc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.Tn=new _R}addToCollectionParentIndex(e,t){return this.Tn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(ws.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(ws.min())}updateCollectionGroup(e,t,i){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class _R{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Xt(Pt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Xt(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$0=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn($0,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ca(0)}static Un(){return new ca(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="LruGarbageCollector",wR=1048576;function _v([n,e],[t,i]){const o=nt(n,t);return o===0?nt(e,i):o}class ER{constructor(e){this.Hn=e,this.buffer=new Xt(_v),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();_v(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class TR{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ee(vv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){va(t)?Ee(vv,"Ignoring IndexedDB error during garbage collection: ",t):await Qc(t)}await this.er(3e5)})}}class IR{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return re.resolve(Xc.ae);const i=new ER(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(yv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yv):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,l,c,h,f,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,h=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),qo()<=Ke.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${T} documents in `+(y-f)+`ms
Total Duration: ${y-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function CR(n,e){return new IR(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.changes=new co(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?re.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&hl(i.mutation,o,fs.empty(),rn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,st()).next(()=>i))}getLocalViewOfDocuments(e,t,i=st()){const o=Js();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=al();return l.forEach((h,f)=>{c=c.insert(h,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Js();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,st()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,o){let l=Cs();const c=dl(),h=function(){return dl()}();return t.forEach((f,y)=>{const v=i.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof rd)?l=l.insert(y.key,y):v!==void 0?(c.set(y.key,v.mutation.getFieldMask()),hl(v.mutation,y,v.mutation.getFieldMask(),rn.now())):c.set(y.key,fs.empty())}),this.recalculateAndSaveOverlays(e,l).next(f=>(f.forEach((y,v)=>c.set(y,v)),t.forEach((y,v)=>{var T;return h.set(y,new xR(v,(T=c.get(y))!==null&&T!==void 0?T:null))}),h))}recalculateAndSaveOverlays(e,t){const i=dl();let o=new Vt((c,h)=>c-h),l=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(f=>{const y=t.get(f);if(y===null)return;let v=i.get(f)||fs.empty();v=h.applyToLocalView(y,v),i.set(f,v);const T=(o.get(h.batchId)||st()).add(f);o=o.insert(h.batchId,T)})}).next(()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),y=f.key,v=f.value,T=S0();v.forEach(x=>{if(!l.has(x)){const A=k0(t.get(x),i.get(x));A!==null&&T.set(x,A),l=l.add(x)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,T))}return re.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return Oe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):np(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):re.resolve(Js());let h=vl,f=l;return c.next(y=>re.forEach(y,(v,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),l.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next(x=>{f=f.insert(v,x)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,f,y,st())).next(v=>({batchId:h,changes:Ux(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Oe(t)).next(i=>{let o=al();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=al();return this.indexManager.getCollectionParents(e,l).next(h=>re.forEach(h,f=>{const y=function(T,x){return new uo(x,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(v=>{v.forEach((T,x)=>{c=c.insert(T,x)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((f,y)=>{const v=y.getKey();c.get(v)===null&&(c=c.insert(v,In.newInvalidDocument(v)))});let h=al();return c.forEach((f,y)=>{const v=l.get(f);v!==void 0&&hl(v.mutation,y,fs.empty(),rn.now()),td(t,y)&&(h=h.insert(f,y))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return re.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Jo(o.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:yR(o.bundledQuery),readTime:Jo(o.readTime)}}(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.overlays=new Vt(Oe.comparator),this.Rr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Js();return re.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Et(e,t,l)}),re.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),re.resolve()}getOverlaysForCollection(e,t,i){const o=Js(),l=t.length+1,c=new Oe(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,y=f.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&f.largestBatchId>i&&o.set(f.getKey(),f)}return re.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new Vt((y,v)=>y-v);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let v=l.get(y.largestBatchId);v===null&&(v=Js(),l=l.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const h=Js(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((y,v)=>h.set(y,v)),!(h.size()>=o)););return re.resolve(h)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Jx(t,i));let l=this.Rr.get(t);l===void 0&&(l=st(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(){this.Vr=new Xt(nn.mr),this.gr=new Xt(nn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new nn(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new nn(e,t))}br(e,t){e.forEach(i=>this.removeReference(i,t))}Sr(e){const t=new Oe(new Pt([])),i=new nn(t,e),o=new nn(t,e+1),l=[];return this.gr.forEachInRange([i,o],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Oe(new Pt([])),i=new nn(t,e),o=new nn(t,e+1);let l=st();return this.gr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new nn(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class nn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Oe.comparator(e.key,t.key)||nt(e.Cr,t.Cr)}static pr(e,t){return nt(e.Cr,t.Cr)||Oe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Xt(nn.mr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Yx(l,t,i,o);this.mutationQueue.push(c);for(const h of o)this.Mr=this.Mr.add(new nn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,t){return re.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),l=o<0?0:o;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?gx:this.Fr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new nn(t,0),o=new nn(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,o],c=>{const h=this.Or(c.Cr);l.push(h)}),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Xt(nt);return t.forEach(o=>{const l=new nn(o,0),c=new nn(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],h=>{i=i.add(h.Cr)})}),re.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;Oe.isDocumentKey(l)||(l=l.child(""));const c=new nn(new Oe(l),0);let h=new Xt(nt);return this.Mr.forEachWhile(f=>{const y=f.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(h=h.add(f.Cr)),!0)},c),re.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){bt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return re.forEach(t.mutations,o=>{const l=new nn(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new nn(t,0),o=this.Mr.firstAfterOrEqual(i);return re.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.kr=e,this.docs=function(){return new Vt(Oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return re.resolve(i?i.document.mutableCopy():In.newInvalidDocument(t))}getEntries(e,t){let i=Cs();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():In.newInvalidDocument(o))}),re.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Cs();const c=t.path,h=new Oe(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:y,value:{document:v}}=f.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||hx(dx(v),i)<=0||(o.has(v.key)||td(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,t,i,o){$e()}qr(e,t){return re.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new DR(this)}getSize(e){return re.resolve(this.size)}}class DR extends SR{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),re.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.persistence=e,this.Qr=new co(t=>ep(t),tp),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ap,this.targetCount=0,this.Ur=ca.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),re.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new ca(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.zn(t),re.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Qr.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),re.waitFor(l).next(()=>o)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return re.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),re.resolve()}removeMatchingKeys(e,t,i){this.Kr.br(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),re.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return re.resolve(i)}containsKey(e,t){return re.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Xc(0),this.zr=!1,this.zr=!0,this.jr=new kR,this.referenceDelegate=e(this),this.Hr=new OR(this),this.indexManager=new vR,this.remoteDocumentCache=function(o){return new NR(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new gR(t),this.Yr=new PR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new AR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new bR(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){Ee("MemoryPersistence","Starting transaction:",e);const o=new LR(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return re.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class LR extends px{constructor(e){super(),this.currentSequenceNumber=e}}class lp{constructor(e){this.persistence=e,this.ti=new ap,this.ni=null}static ri(e){return new lp(e)}get ii(){if(this.ni)return this.ni;throw $e()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),re.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),re.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ii,i=>{const o=Oe.fromPath(i);return this.si(e,o).next(l=>{l||t.removeEntry(o,ze.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return re.or([()=>re.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class kc{constructor(e,t){this.persistence=e,this.oi=new co(i=>vx(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=CR(this,t)}static ri(e,t){return new kc(e,t)}Zr(){}Xr(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return re.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(l=>l?re.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,c=>this.ar(e,c,t).next(h=>{h||(i++,l.removeEntry(c,ze.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ac(e.data.value)),t}ar(e,t,i){return re.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return re.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=st(),o=st();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new up(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return VC()?8:mx(Sn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new MR;return this._s(e,t,c).next(h=>{if(l.result=h,this.Xi)return this.us(e,t,c,h.size)})}).next(()=>l.result)}us(e,t,i,o){return i.documentReadCount<this.es?(qo()<=Ke.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Wo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),re.resolve()):(qo()<=Ke.DEBUG&&Ee("QueryEngine","Query:",Wo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(qo()<=Ke.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Wo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(t))):re.resolve())}rs(e,t){if(av(t))return re.resolve(null);let i=Jr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Rc(t,null,"F"),i=Jr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=st(...l);return this.ns.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(f=>{const y=this.cs(t,h);return this.ls(t,y,c,f.readTime)?this.rs(e,Rc(t,null,"F")):this.hs(e,y,t,f)}))})))}ss(e,t,i,o){return av(t)||o.isEqual(ze.min())?re.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(t,l);return this.ls(t,c,i,o)?re.resolve(null):(qo()<=Ke.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wo(t)),this.hs(e,c,t,cx(o,vl)).next(h=>h))})}cs(e,t){let i=new Xt(I0(e));return t.forEach((o,l)=>{td(e,l)&&(i=i.add(l))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,i){return qo()<=Ke.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Wo(t)),this.ns.getDocumentsMatchingQuery(e,t,ws.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="LocalStore",jR=3e8;class FR{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new Vt(nt),this.Is=new co(l=>ep(l),tp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function UR(n,e,t,i){return new FR(n,e,t,i)}async function G0(n,e){const t=rt(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],h=[];let f=st();for(const y of o){c.push(y.batchId);for(const v of y.mutations)f=f.add(v.key)}for(const y of l){h.push(y.batchId);for(const v of y.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(i,f).next(y=>({Rs:y,removedBatchIds:c,addedBatchIds:h}))})})}function q0(n){const e=rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function BR(n,e){const t=rt(n),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const h=[];e.targetChanges.forEach((v,T)=>{const x=o.get(T);if(!x)return;h.push(t.Hr.removeMatchingKeys(l,v.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(l,v.addedDocuments,T)));let A=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?A=A.withResumeToken(hn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,i)),o=o.insert(T,A),function(z,V,G){return z.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=jR?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(x,A,v)&&h.push(t.Hr.updateTargetData(l,A))});let f=Cs(),y=st();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),h.push(zR(l,c,e.documentUpdates).next(v=>{f=v.Vs,y=v.fs})),!i.isEqual(ze.min())){const v=t.Hr.getLastRemoteSnapshotVersion(l).next(T=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(v)}return re.waitFor(h).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,f,y)).next(()=>f)}).then(l=>(t.Ts=o,l))}function zR(n,e,t){let i=st(),o=st();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Cs();return t.forEach((h,f)=>{const y=l.get(h);f.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(ze.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!y.isValidDocument()||f.version.compareTo(y.version)>0||f.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):Ee(cp,"Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",f.version)}),{Vs:c,fs:o}})}function $R(n,e){const t=rt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(l=>l?(o=l,re.resolve(o)):t.Hr.allocateTargetId(i).next(c=>(o=new ps(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Pf(n,e,t){const i=rt(n),o=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!va(c))throw c;Ee(cp,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function wv(n,e,t){const i=rt(n);let o=ze.min(),l=st();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,y,v){const T=rt(f),x=T.Is.get(v);return x!==void 0?re.resolve(T.Ts.get(x)):T.Hr.getTargetData(y,v)}(i,c,Jr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,h.targetId).next(f=>{l=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?o:ze.min(),t?l:st())).next(h=>(HR(i,Vx(e),h),{documents:h,gs:l})))}function HR(n,e,t){let i=n.Es.get(e)||ze.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class Ev{constructor(){this.activeTargetIds=$x()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GR{constructor(){this.ho=new Ev,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ev,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="ConnectivityMonitor";class Iv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ee(Tv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ee(Tv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu=null;function Af(){return Yu===null?Yu=function(){return 268435456+Math.round(2147483648*Math.random())}():Yu++,"0x"+Yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="RestConnection",WR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===Cc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}bo(e,t,i,o,l){const c=Af(),h=this.So(e,t.toUriEncodedString());Ee(Zh,`Sending RPC '${e}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,o,l),this.vo(e,h,f,i).then(y=>(Ee(Zh,`Received RPC '${e}' ${c}: `,y),y),y=>{throw sa(Zh,`RPC '${e}' ${c} failed with error: `,y,"url: ",h,"request:",i),y})}Co(e,t,i,o,l,c){return this.bo(e,t,i,o,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ya}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}So(e,t){const i=WR[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class XR extends KR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const l=Af();return new Promise((c,h)=>{const f=new e0;f.setWithCredentials(!0),f.listenOnce(t0.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case oc.NO_ERROR:const v=f.getResponseJson();Ee(wn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case oc.TIMEOUT:Ee(wn,`RPC '${e}' ${l} timed out`),h(new _e(ce.DEADLINE_EXCEEDED,"Request time out"));break;case oc.HTTP_ERROR:const T=f.getStatus();if(Ee(wn,`RPC '${e}' ${l} failed with status:`,T,"response text:",f.getResponseText()),T>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const A=x==null?void 0:x.error;if(A&&A.status&&A.message){const O=function(V){const G=V.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(G)>=0?G:ce.UNKNOWN}(A.status);h(new _e(O,A.message))}else h(new _e(ce.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new _e(ce.UNAVAILABLE,"Connection failed."));break;default:$e()}}finally{Ee(wn,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);Ee(wn,`RPC '${e}' ${l} sending request:`,o),f.send(t,"POST",y,i,15)})}Wo(e,t,i){const o=Af(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=i0(),h=r0(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(f.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const v=l.join("");Ee(wn,`Creating RPC '${e}' stream ${o}: ${v}`,f);const T=c.createWebChannel(v,f);let x=!1,A=!1;const O=new QR({Fo:V=>{A?Ee(wn,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(x||(Ee(wn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),x=!0),Ee(wn,`RPC '${e}' stream ${o} sending:`,V),T.send(V))},Mo:()=>T.close()}),z=(V,G,K)=>{V.listen(G,J=>{try{K(J)}catch(ne){setTimeout(()=>{throw ne},0)}})};return z(T,ol.EventType.OPEN,()=>{A||(Ee(wn,`RPC '${e}' stream ${o} transport opened.`),O.Qo())}),z(T,ol.EventType.CLOSE,()=>{A||(A=!0,Ee(wn,`RPC '${e}' stream ${o} transport closed`),O.Ko())}),z(T,ol.EventType.ERROR,V=>{A||(A=!0,sa(wn,`RPC '${e}' stream ${o} transport errored:`,V),O.Ko(new _e(ce.UNAVAILABLE,"The operation could not be completed")))}),z(T,ol.EventType.MESSAGE,V=>{var G;if(!A){const K=V.data[0];bt(!!K);const J=K,ne=(J==null?void 0:J.error)||((G=J[0])===null||G===void 0?void 0:G.error);if(ne){Ee(wn,`RPC '${e}' stream ${o} received error:`,ne);const de=ne.status;let F=function(C){const N=$t[C];if(N!==void 0)return N0(N)}(de),P=ne.message;F===void 0&&(F=ce.INTERNAL,P="Unknown error status: "+de+" with message "+ne.message),A=!0,O.Ko(new _e(F,P)),T.close()}else Ee(wn,`RPC '${e}' stream ${o} received:`,K),O.Uo(K)}}),z(h,n0.STAT_EVENT,V=>{V.stat===yf.PROXY?Ee(wn,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===yf.NOPROXY&&Ee(wn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(n){return new oR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="PersistentStream";class YR{constructor(e,t,i,o,l,c,h,f){this.Ti=e,this.n_=i,this.r_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new W0(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(xi(t.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new _e(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ee(Cv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ee(Cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JR extends YR{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=lR(this.serializer,e),i=function(l){if(!("targetChange"in l))return ze.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?Jo(c.readTime):ze.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=gv(this.serializer),t.addTarget=function(l,c){let h;const f=c.target;if(h=Ef(f)?{documents:uR(l,f)}:{query:cR(l,f).ht},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=L0(l,c.resumeToken);const y=Sf(l,c.expectedCount);y!==null&&(h.expectedCount=y)}else if(c.snapshotVersion.compareTo(ze.min())>0){h.readTime=xf(l,c.snapshotVersion.toTimestamp());const y=Sf(l,c.expectedCount);y!==null&&(h.expectedCount=y)}return h}(this.serializer,e);const i=hR(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=gv(this.serializer),t.removeTarget=e,this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{}class eP extends ZR{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new _e(ce.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.bo(e,Rf(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(ce.UNKNOWN,l.toString())})}Co(e,t,i,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Co(e,Rf(t,i),o,c,h,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(ce.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class tP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(xi(t),this.N_=!1):Ee("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="RemoteStore";class nP{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{Nl(this)&&(Ee(da,"Restarting streams for network reachability change."),await async function(f){const y=rt(f);y.W_.add(4),await bl(y),y.j_.set("Unknown"),y.W_.delete(4),await od(y)}(this))})}),this.j_=new tP(i,o)}}async function od(n){if(Nl(n))for(const e of n.G_)await e(!0)}async function bl(n){for(const e of n.G_)await e(!1)}function K0(n,e){const t=rt(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),pp(t)?fp(t):wa(t).c_()&&hp(t,e))}function dp(n,e){const t=rt(n),i=wa(t);t.U_.delete(e),i.c_()&&Q0(t,e),t.U_.size===0&&(i.c_()?i.P_():Nl(t)&&t.j_.set("Unknown"))}function hp(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wa(n).y_(e)}function Q0(n,e){n.H_.Ne(e),wa(n).w_(e)}function fp(n){n.H_=new nR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),wa(n).start(),n.j_.B_()}function pp(n){return Nl(n)&&!wa(n).u_()&&n.U_.size>0}function Nl(n){return rt(n).W_.size===0}function X0(n){n.H_=void 0}async function rP(n){n.j_.set("Online")}async function iP(n){n.U_.forEach((e,t)=>{hp(n,e)})}async function sP(n,e){X0(n),pp(n)?(n.j_.q_(e),fp(n)):n.j_.set("Unknown")}async function oP(n,e,t){if(n.j_.set("Online"),e instanceof O0&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const h of l.targetIds)o.U_.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.U_.delete(h),o.H_.removeTarget(h))}(n,e)}catch(i){Ee(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Sv(n,i)}else if(e instanceof uc?n.H_.We(e):e instanceof D0?n.H_.Ze(e):n.H_.je(e),!t.isEqual(ze.min()))try{const i=await q0(n.localStore);t.compareTo(i)>=0&&await function(l,c){const h=l.H_.ot(c);return h.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const v=l.U_.get(y);v&&l.U_.set(y,v.withResumeToken(f.resumeToken,c))}}),h.targetMismatches.forEach((f,y)=>{const v=l.U_.get(f);if(!v)return;l.U_.set(f,v.withResumeToken(hn.EMPTY_BYTE_STRING,v.snapshotVersion)),Q0(l,f);const T=new ps(v.target,f,y,v.sequenceNumber);hp(l,T)}),l.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){Ee(da,"Failed to raise snapshot:",i),await Sv(n,i)}}async function Sv(n,e,t){if(!va(e))throw e;n.W_.add(1),await bl(n),n.j_.set("Offline"),t||(t=()=>q0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ee(da,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await od(n)})}async function xv(n,e){const t=rt(n);t.asyncQueue.verifyOperationInProgress(),Ee(da,"RemoteStore received new credentials");const i=Nl(t);t.W_.add(3),await bl(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await od(t)}async function aP(n,e){const t=rt(n);e?(t.W_.delete(2),await od(t)):e||(t.W_.add(2),await bl(t),t.j_.set("Unknown"))}function wa(n){return n.J_||(n.J_=function(t,i,o){const l=rt(t);return l.M_(),new JR(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{xo:rP.bind(null,n),No:iP.bind(null,n),Lo:sP.bind(null,n),p_:oP.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),pp(n)?fp(n):n.j_.set("Unknown")):(await n.J_.stop(),X0(n))})),n.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,h=new mp(e,t,c,o,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Y0(n,e){if(xi("AsyncQueue",`${e}: ${n}`),va(n))return new _e(ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{static emptySet(e){return new Zo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Oe.comparator(t.key,i.key):(t,i)=>Oe.comparator(t.key,i.key),this.keyedMap=al(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Zo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.Z_=new Vt(Oe.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):$e():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ha{constructor(e,t,i,o,l,c,h,f,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new ha(e,t,Zo.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class uP{constructor(){this.queries=Pv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=rt(t),l=o.queries;o.queries=Pv(),l.forEach((c,h)=>{for(const f of h.ta)f.onError(i)})})(this,new _e(ce.ABORTED,"Firestore shutting down"))}}function Pv(){return new co(n=>T0(n),ed)}async function cP(n,e){const t=rt(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(i=2):(l=new lP,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=Y0(c,`Initialization of query '${Wo(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&gp(t)}async function dP(n,e){const t=rt(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function hP(n,e){const t=rt(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const h of c.ta)h.oa(o)&&(i=!0);c.ea=o}}i&&gp(t)}function fP(n,e,t){const i=rt(n),o=i.queries.get(e);if(o)for(const l of o.ta)l.onError(t);i.queries.delete(e)}function gp(n){n.ia.forEach(e=>{e.next()})}var kf,Av;(Av=kf||(kf={}))._a="default",Av.Cache="cache";class pP{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ha(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==kf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this.key=e}}class Z0{constructor(e){this.key=e}}class mP{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=st(),this.mutatedKeys=st(),this.ya=I0(e),this.wa=new Zo(this.ya)}get ba(){return this.fa}Sa(e,t){const i=t?t.Da:new Rv,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,T)=>{const x=o.get(v),A=td(this.query,T)?T:null,O=!!x&&this.mutatedKeys.has(x.key),z=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let V=!1;x&&A?x.data.isEqual(A.data)?O!==z&&(i.track({type:3,doc:A}),V=!0):this.va(x,A)||(i.track({type:2,doc:A}),V=!0,(f&&this.ya(A,f)>0||y&&this.ya(A,y)<0)&&(h=!0)):!x&&A?(i.track({type:0,doc:A}),V=!0):x&&!A&&(i.track({type:1,doc:x}),V=!0,(f||y)&&(h=!0)),V&&(A?(c=c.add(A),l=z?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{wa:c,Da:i,ls:h,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((v,T)=>function(A,O){const z=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e()}};return z(A)-z(O)}(v.type,T.type)||this.ya(v.doc,T.doc)),this.Ca(i),o=o!=null&&o;const h=t&&!o?this.Fa():[],f=this.pa.size===0&&this.current&&!o?1:0,y=f!==this.ga;return this.ga=f,c.length!==0||y?{snapshot:new ha(this.query,e.wa,l,c,e.mutatedKeys,f===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Rv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=st(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new Z0(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new J0(i))}),t}Oa(e){this.fa=e.gs,this.pa=st();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return ha.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const yp="SyncEngine";class gP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class yP{constructor(e){this.key=e,this.Ba=!1}}class vP{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new co(h=>T0(h),ed),this.qa=new Map,this.Qa=new Set,this.$a=new Vt(Oe.comparator),this.Ka=new Map,this.Ua=new ap,this.Wa={},this.Ga=new Map,this.za=ca.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function _P(n,e,t=!0){const i=iw(n);let o;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await ew(i,e,t,!0),o}async function wP(n,e){const t=iw(n);await ew(t,e,!0,!1)}async function ew(n,e,t,i){const o=await $R(n.localStore,Jr(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let h;return i&&(h=await EP(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&K0(n.remoteStore,o),h}async function EP(n,e,t,i,o){n.Ha=(T,x,A)=>async function(z,V,G,K){let J=V.view.Sa(G);J.ls&&(J=await wv(z.localStore,V.query,!1).then(({documents:P})=>V.view.Sa(P,J)));const ne=K&&K.targetChanges.get(V.targetId),de=K&&K.targetMismatches.get(V.targetId)!=null,F=V.view.applyChanges(J,z.isPrimaryClient,ne,de);return bv(z,V.targetId,F.Ma),F.snapshot}(n,T,x,A);const l=await wv(n.localStore,e,!0),c=new mP(e,l.gs),h=c.Sa(l.documents),f=kl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(h,n.isPrimaryClient,f);bv(n,t,y.Ma);const v=new gP(e,t,c);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),y.snapshot}async function TP(n,e,t){const i=rt(n),o=i.ka.get(e),l=i.qa.get(o.targetId);if(l.length>1)return i.qa.set(o.targetId,l.filter(c=>!ed(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Pf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&dp(i.remoteStore,o.targetId),bf(i,o.targetId)}).catch(Qc)):(bf(i,o.targetId),await Pf(i.localStore,o.targetId,!0))}async function IP(n,e){const t=rt(n),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),dp(t.remoteStore,i.targetId))}async function tw(n,e){const t=rt(n);try{const i=await BR(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Ka.get(l);c&&(bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Ba=!0:o.modifiedDocuments.size>0?bt(c.Ba):o.removedDocuments.size>0&&(bt(c.Ba),c.Ba=!1))}),await rw(t,i,e)}catch(i){await Qc(i)}}function kv(n,e,t){const i=rt(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((l,c)=>{const h=c.view.sa(e);h.snapshot&&o.push(h.snapshot)}),function(c,h){const f=rt(c);f.onlineState=h;let y=!1;f.queries.forEach((v,T)=>{for(const x of T.ta)x.sa(h)&&(y=!0)}),y&&gp(f)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function CP(n,e,t){const i=rt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ka.get(e),l=o&&o.key;if(l){let c=new Vt(Oe.comparator);c=c.insert(l,In.newNoDocument(l,ze.min()));const h=st().add(l),f=new id(ze.min(),new Map,new Vt(nt),c,h);await tw(i,f),i.$a=i.$a.remove(l),i.Ka.delete(e),vp(i)}else await Pf(i.localStore,e,!1).then(()=>bf(i,e,t)).catch(Qc)}function bf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(i=>{n.Ua.containsKey(i)||nw(n,i)})}function nw(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(dp(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),vp(n))}function bv(n,e,t){for(const i of t)i instanceof J0?(n.Ua.addReference(i.key,e),SP(n,i)):i instanceof Z0?(Ee(yp,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||nw(n,i.key)):$e()}function SP(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(Ee(yp,"New document in limbo: "+t),n.Qa.add(i),vp(n))}function vp(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Oe(Pt.fromString(e)),i=n.za.next();n.Ka.set(i,new yP(t)),n.$a=n.$a.insert(t,i),K0(n.remoteStore,new ps(Jr(E0(t.path)),i,"TargetPurposeLimboResolution",Xc.ae))}}async function rw(n,e,t){const i=rt(n),o=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((h,f)=>{c.push(i.Ha(f,e,t).then(y=>{var v;if((y||t)&&i.isPrimaryClient){const T=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(f.targetId,T?"current":"not-current")}if(y){o.push(y);const T=up.Yi(f.targetId,y);l.push(T)}}))}),await Promise.all(c),i.La.p_(o),await async function(f,y){const v=rt(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>re.forEach(y,x=>re.forEach(x.Hi,A=>v.persistence.referenceDelegate.addReference(T,x.targetId,A)).next(()=>re.forEach(x.Ji,A=>v.persistence.referenceDelegate.removeReference(T,x.targetId,A)))))}catch(T){if(!va(T))throw T;Ee(cp,"Failed to update sequence numbers: "+T)}for(const T of y){const x=T.targetId;if(!T.fromCache){const A=v.Ts.get(x),O=A.snapshotVersion,z=A.withLastLimboFreeSnapshotVersion(O);v.Ts=v.Ts.insert(x,z)}}}(i.localStore,l))}async function xP(n,e){const t=rt(n);if(!t.currentUser.isEqual(e)){Ee(yp,"User change. New user:",e.toKey());const i=await G0(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(h=>{h.forEach(f=>{f.reject(new _e(ce.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await rw(t,i.Rs)}}function RP(n,e){const t=rt(n),i=t.Ka.get(e);if(i&&i.Ba)return st().add(i.key);{let o=st();const l=t.qa.get(e);if(!l)return o;for(const c of l){const h=t.ka.get(c);o=o.unionWith(h.view.ba)}return o}}function iw(n){const e=rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CP.bind(null,e),e.La.p_=hP.bind(null,e.eventManager),e.La.Ja=fP.bind(null,e.eventManager),e}class bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return UR(this.persistence,new VR,e.initialUser,this.serializer)}Xa(e){return new H0(lp.ri,this.serializer)}Za(e){return new GR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bc.provider={build:()=>new bc};class PP extends bc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){bt(this.persistence.referenceDelegate instanceof kc);const i=this.persistence.referenceDelegate.garbageCollector;return new TR(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new H0(i=>kc.ri(i,t),this.serializer)}}class Nf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>kv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=xP.bind(null,this.syncEngine),await aP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uP}()}createDatastore(e){const t=sd(e.databaseInfo.databaseId),i=function(l){return new XR(l)}(e.databaseInfo);return function(l,c,h,f){return new eP(l,c,h,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,h){return new nP(i,o,l,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>kv(this.syncEngine,t,0),function(){return Iv.D()?new Iv:new qR}())}createSyncEngine(e,t){return function(o,l,c,h,f,y,v){const T=new vP(o,l,c,h,f,y);return v&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=rt(o);Ee(da,"RemoteStore shutting down."),l.W_.add(5),await bl(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Nf.provider={build:()=>new Nf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="FirestoreClient";class kP{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Tn.UNAUTHENTICATED,this.clientId=lx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{Ee(Ss,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Ee(Ss,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Y0(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function tf(n,e){n.asyncQueue.verifyOperationInProgress(),Ee(Ss,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await G0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Nv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await bP(n);Ee(Ss,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>xv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>xv(e.remoteStore,o)),n._onlineComponents=e}async function bP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ee(Ss,"Using user provided OfflineComponentProvider");try{await tf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ce.FAILED_PRECONDITION||o.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;sa("Error using user provided cache. Falling back to memory cache: "+t),await tf(n,new bc)}}else Ee(Ss,"Using default OfflineComponentProvider"),await tf(n,new PP(void 0));return n._offlineComponents}async function NP(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ee(Ss,"Using user provided OnlineComponentProvider"),await Nv(n,n._uninitializedComponentsProvider._online)):(Ee(Ss,"Using default OnlineComponentProvider"),await Nv(n,new Nf))),n._onlineComponents}async function DP(n){const e=await NP(n),t=e.eventManager;return t.onListen=_P.bind(null,e.syncEngine),t.onUnlisten=TP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=wP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=IP.bind(null,e.syncEngine),t}function OP(n,e,t={}){const i=new eo;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,h,f,y){const v=new AP({next:x=>{v.su(),c.enqueueAndForget(()=>dP(l,T)),x.fromCache&&f.source==="server"?y.reject(new _e(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),T=new pP(h,v,{includeMetadataChanges:!0,Ta:!0});return cP(l,T)}(await DP(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(n,e,t){if(!t)throw new _e(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function MP(n,e,t,i){if(e===!0&&i===!0)throw new _e(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ov(n){if(Oe.isDocumentKey(n))throw new _e(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ad(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$e()}function Df(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ad(n);throw new _e(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function VP(n,e){if(e<=0)throw new _e(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="firestore.googleapis.com",Lv=!0;class Mv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ow,this.ssl=Lv}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Lv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wR)throw new _e(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _p{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new tx;switch(i.type){case"firstParty":return new sx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Dv.get(t);i&&(Ee("ComponentProvider","Removing Datastore"),Dv.delete(t),i.terminate())}(this),Promise.resolve()}}function jP(n,e,t,i={}){var o;const l=(n=Df(n,_p))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;l.host!==ow&&l.host!==h&&sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:h,ssl:!1,emulatorOptions:i});if(!io(f,c)&&(n._setSettings(f),i.mockUserToken)){let y,v;if(typeof i.mockUserToken=="string")y=i.mockUserToken,v=Tn.MOCK_USER;else{y=kC(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new _e(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Tn(T)}n._authCredentials=new nx(new s0(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new bi(this.firestore,e,this._query)}}class Ni{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ni(this.firestore,e,this._key)}}class ea extends bi{constructor(e,t,i){super(e,t,E0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ni(this.firestore,null,new Oe(e))}withConverter(e){return new ea(this.firestore,e,this._path)}}function aw(n,e,...t){if(n=Pr(n),LP("collection","path",e),n instanceof _p){const i=Pt.fromString(e,...t);return Ov(i),new ea(n,null,i)}{if(!(n instanceof Ni||n instanceof ea))throw new _e(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Pt.fromString(e,...t));return Ov(i),new ea(n.firestore,null,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="AsyncQueue";class jv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new W0(this,"async_queue_retry"),this.bu=()=>{const i=ef();i&&Ee(Vv,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const t=ef();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=ef();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new eo;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!va(e))throw e;Ee(Vv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw xi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.Su=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=mp.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&$e()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class lw extends _p{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new jv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jv(e),this._firestoreClient=void 0,await e}}}function FP(n,e){const t=typeof n=="object"?n:X_(),i=typeof n=="string"?n:Cc,o=Yf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=PC("firestore");l&&jP(o,...l)}return o}function UP(n){if(n._terminated)throw new _e(ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||BP(n),n._firestoreClient}function BP(n){var e,t,i;const o=n._freezeSettings(),l=function(h,f,y,v){return new Ex(h,f,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,sw(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new kP(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fa(hn.fromBase64String(e))}catch(t){throw new _e(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fa(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=/^__.*__$/;function dw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e()}}class Tp{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Tp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Of(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(dw(this.Lu)&&zP.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class $P{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||sd(e)}ju(e,t,i,o=!1){return new Tp({Lu:e,methodName:t,zu:i,path:Cn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hw(n){const e=n._freezeSettings(),t=sd(n._databaseId);return new $P(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fw(n,e,t,i=!1){return Ip(t,n.ju(i?4:3,e))}function Ip(n,e){if(pw(n=Pr(n)))return GP("Unsupported field value:",e,n),HP(n,e);if(n instanceof cw)return function(i,o){if(!dw(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const h of i){let f=Ip(h,o.Uu(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=Pr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Hx(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=rn.fromDate(i);return{timestampValue:xf(o.serializer,l)}}if(i instanceof rn){const l=new rn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:xf(o.serializer,l)}}if(i instanceof wp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fa)return{bytesValue:L0(o.serializer,i._byteString)};if(i instanceof Ni){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:M0(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Ep)return function(c,h){return{mapValue:{fields:{[f0]:{stringValue:p0},[Sc]:{arrayValue:{values:c.toArray().map(y=>{if(typeof y!="number")throw h.Wu("VectorValues must only contain numeric values.");return rp(h.serializer,y)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${ad(i)}`)}(n,e)}function HP(n,e){const t={};return a0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_a(n,(i,o)=>{const l=Ip(o,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function pw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof rn||n instanceof wp||n instanceof fa||n instanceof Ni||n instanceof cw||n instanceof Ep)}function GP(n,e,t){if(!pw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=ad(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}const qP=new RegExp("[~\\*/\\[\\]]");function WP(n,e,t){if(e.search(qP)>=0)throw Of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new uw(...e.split("."))._internalPath}catch{throw Of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Of(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${i}`),c&&(f+=` in document ${o}`),f+=")"),new _e(ce.INVALID_ARGUMENT,h+n+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ni(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ld("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class KP extends Cp{data(){return super.data()}}function ld(n,e){return typeof e=="string"?WP(n,e):e instanceof uw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sp{}class ud extends Sp{}function ul(n,e,...t){let i=[];e instanceof Sp&&i.push(e),i=i.concat(t),function(l){const c=l.filter(f=>f instanceof xp).length,h=l.filter(f=>f instanceof cd).length;if(c>1||c>0&&h>0)throw new _e(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class cd extends ud{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new cd(e,t,i)}_apply(e){const t=this._parse(e);return mw(e._query,t),new bi(e.firestore,e.converter,Tf(e._query,t))}_parse(e){const t=hw(e.firestore);return function(l,c,h,f,y,v,T){let x;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new _e(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Bv(T,v);const O=[];for(const z of T)O.push(Uv(f,l,z));x={arrayValue:{values:O}}}else x=Uv(f,l,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Bv(T,v),x=fw(h,c,T,v==="in"||v==="not-in");return Ht.create(y,v,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Lf(n,e,t){const i=e,o=ld("where",n);return cd._create(o,i,t)}class xp extends Sp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new xp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Ar.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let c=o;const h=l.getFlattenedFilters();for(const f of h)mw(c,f),c=Tf(c,f)}(e._query,t),new bi(e.firestore,e.converter,Tf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rp extends ud{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Rp(e,t)}_apply(e){const t=function(o,l,c){if(o.startAt!==null)throw new _e(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new _e(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tl(l,c)}(e._query,this._field,this._direction);return new bi(e.firestore,e.converter,function(o,l){const c=o.explicitOrderBy.concat([l]);return new uo(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Ju(n,e="asc"){const t=e,i=ld("orderBy",n);return Rp._create(i,t)}class Pp extends ud{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Pp(e,t,i)}_apply(e){return new bi(e.firestore,e.converter,Rc(e._query,this._limit,this._limitType))}}function Zu(n){return VP("limit",n),Pp._create("limit",n,"F")}class Ap extends ud{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Ap(e,t,i)}_apply(e){const t=XP(e,this.type,this._docOrFields,this._inclusive);return new bi(e.firestore,e.converter,function(o,l){return new uo(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)}(e._query,t))}}function Fv(...n){return Ap._create("startAfter",n,!1)}function XP(n,e,t,i){if(t[0]=Pr(t[0]),t[0]instanceof Cp)return function(l,c,h,f,y){if(!f)throw new _e(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const v=[];for(const T of Yo(l))if(T.field.isKeyField())v.push(xc(c,f.key));else{const x=f.data.field(T.field);if(Jc(x))throw new _e(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(x===null){const A=T.field.canonicalString();throw new _e(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}v.push(x)}return new ua(v,y)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const o=hw(n.firestore);return function(c,h,f,y,v,T){const x=c.explicitOrderBy;if(v.length>x.length)throw new _e(ce.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let O=0;O<v.length;O++){const z=v[O];if(x[O].field.isKeyField()){if(typeof z!="string")throw new _e(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof z}`);if(!np(c)&&z.indexOf("/")!==-1)throw new _e(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${z}' contains a slash.`);const V=c.path.child(Pt.fromString(z));if(!Oe.isDocumentKey(V))throw new _e(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${V}' is not because it contains an odd number of segments.`);const G=new Oe(V);A.push(xc(h,G))}else{const V=fw(f,y,z);A.push(V)}}return new ua(A,T)}(n._query,n.firestore._databaseId,o,e,t,i)}}function Uv(n,e,t){if(typeof(t=Pr(t))=="string"){if(t==="")throw new _e(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!np(e)&&t.indexOf("/")!==-1)throw new _e(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Pt.fromString(t));if(!Oe.isDocumentKey(i))throw new _e(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return xc(n,new Oe(i))}if(t instanceof Ni)return xc(n,t._key);throw new _e(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ad(t)}.`)}function Bv(n,e){if(!Array.isArray(n)||n.length===0)throw new _e(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mw(n,e){const t=function(o,l){for(const c of o)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new _e(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class YP{convertValue(e,t="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $e()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return _a(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[Sc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>Mt(c.doubleValue));return new Ep(l)}convertGeoPoint(e){return new wp(Mt(e.latitude),Mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Zc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){const t=Es(e);return new rn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Pt.fromString(e);bt(z0(i));const o=new wl(i.get(1),i.get(3)),l=new Oe(i.popFirst(5));return o.isEqual(t)||xi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JP extends Cp{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ld("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class cc extends JP{data(e={}){return super.data(e)}}class ZP{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ec(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new cc(this._firestore,this._userDataWriter,i.key,i,new ec(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(h=>{const f=new cc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new ec(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const f=new cc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new ec(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return h.type!==0&&(y=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:eA(h.type),doc:f,oldIndex:y,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function eA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e()}}class tA extends YP{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ni(this.firestore,null,t)}}function gw(n){n=Df(n,bi);const e=Df(n.firestore,lw),t=UP(e),i=new tA(e);return QP(n._query),OP(t,n._query).then(o=>new ZP(e,i,n,o))}(function(e,t=!0){(function(o){ya=o})(ga),ia(new so("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new lw(new rx(i.getProvider("auth-internal")),new ox(c,i.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new _e(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(y.options.projectId,v)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),ys(Gy,qy,e),ys(Gy,qy,"esm2017")})();var nA="firebase",rA="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ys(nA,rA,"app");function kp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function yw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iA=yw,vw=new Pl("auth","Firebase",yw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Qf("@firebase/auth");function sA(n,...e){Nc.logLevel<=Ke.WARN&&Nc.warn(`Auth (${ga}): ${n}`,...e)}function dc(n,...e){Nc.logLevel<=Ke.ERROR&&Nc.error(`Auth (${ga}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(n,...e){throw bp(n,...e)}function Zr(n,...e){return bp(n,...e)}function _w(n,e,t){const i=Object.assign(Object.assign({},iA()),{[e]:t});return new Pl("auth","Firebase",i).create(e,{appName:n.name})}function no(n){return _w(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return vw.create(n,...e)}function Ve(n,e,...t){if(!n)throw bp(e,...t)}function Ei(n){const e="INTERNAL ASSERTION FAILED: "+n;throw dc(e),new Error(e)}function Pi(n,e){n||Ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function oA(){return zv()==="http:"||zv()==="https:"}function zv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oA()||OC()||"connection"in navigator)?navigator.onLine:!0}function lA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pi(t>e,"Short delay should be less than long delay!"),this.isMobile=bC()||LC()}get(){return aA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n,e){Pi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=new Dl(3e4,6e4);function Dp(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ea(n,e,t,i,o={}){return Ew(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=Al(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:f},l);return DC()||(y.referrerPolicy="no-referrer"),ww.fetch()(Tw(n,n.config.apiHost,t,h),y)})}async function Ew(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},uA),e);try{const o=new hA(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw tc(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[f,y]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw tc(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw tc(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw tc(n,"user-disabled",c);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw _w(n,v,y);Ri(n,v)}}catch(o){if(o instanceof ki)throw o;Ri(n,"network-request-failed",{message:String(o)})}}async function dA(n,e,t,i,o={}){const l=await Ea(n,e,t,i,o);return"mfaPendingCredential"in l&&Ri(n,"multi-factor-auth-required",{_serverResponse:l}),l}function Tw(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Np(n.config,o):`${n.config.apiScheme}://${o}`}class hA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Zr(this.auth,"network-request-failed")),cA.get())})}}function tc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Zr(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(n,e){return Ea(n,"POST","/v1/accounts:delete",e)}async function Iw(n,e){return Ea(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pA(n,e=!1){const t=Pr(n),i=await t.getIdToken(e),o=Op(i);Ve(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:fl(nf(o.auth_time)),issuedAtTime:fl(nf(o.iat)),expirationTime:fl(nf(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function nf(n){return Number(n)*1e3}function Op(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return dc("JWT malformed, contained fewer than 3 sections"),null;try{const o=$_(t);return o?JSON.parse(o):(dc("Failed to decode base64 JWT payload"),null)}catch(o){return dc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function $v(n){const e=Op(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ki&&mA(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function mA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Il(n,Iw(t,{idToken:i}));Ve(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Cw(l.providerUserInfo):[],h=vA(n.providerData,c),f=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(h!=null&&h.length),v=f?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Vf(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,T)}async function yA(n){const e=Pr(n);await Dc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vA(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Cw(n){return n.map(e=>{var{providerId:t}=e,i=kp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _A(n,e){const t=await Ew(n,{},async()=>{const i=Al({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=Tw(n,o,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",ww.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wA(n,e){return Ea(n,"POST","/v2/accounts:revokeToken",Dp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$v(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=$v(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await _A(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new ta;return i&&(Ve(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ve(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Ve(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ta,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ti{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=kp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Vf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Il(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return pA(this,e)}reload(){return yA(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Dc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qr(this.auth.app))return Promise.reject(no(this.auth));const e=await this.getIdToken();return await Il(this,fA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,c,h,f,y,v;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,x=(o=t.email)!==null&&o!==void 0?o:void 0,A=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,O=(c=t.photoURL)!==null&&c!==void 0?c:void 0,z=(h=t.tenantId)!==null&&h!==void 0?h:void 0,V=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,G=(y=t.createdAt)!==null&&y!==void 0?y:void 0,K=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:J,emailVerified:ne,isAnonymous:de,providerData:F,stsTokenManager:P}=t;Ve(J&&P,e,"internal-error");const I=ta.fromJSON(this.name,P);Ve(typeof J=="string",e,"internal-error"),os(T,e.name),os(x,e.name),Ve(typeof ne=="boolean",e,"internal-error"),Ve(typeof de=="boolean",e,"internal-error"),os(A,e.name),os(O,e.name),os(z,e.name),os(V,e.name),os(G,e.name),os(K,e.name);const C=new Ti({uid:J,auth:e,email:x,emailVerified:ne,displayName:T,isAnonymous:de,photoURL:O,phoneNumber:A,tenantId:z,stsTokenManager:I,createdAt:G,lastLoginAt:K});return F&&Array.isArray(F)&&(C.providerData=F.map(N=>Object.assign({},N))),V&&(C._redirectEventId=V),C}static async _fromIdTokenResponse(e,t,i=!1){const o=new ta;o.updateFromServerResponse(t);const l=new Ti({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Dc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ve(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Cw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),h=new ta;h.updateFromIdToken(i);const f=new Ti({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Vf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,y),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=new Map;function Ii(n){Pi(n instanceof Function,"Expected a class definition");let e=Hv.get(n);return e?(Pi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Hv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Sw.type="NONE";const Gv=Sw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(n,e,t){return`firebase:${n}:${e}:${t}`}class na{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=hc(this.userKey,o.apiKey,l),this.fullPersistenceKey=hc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new na(Ii(Gv),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||Ii(Gv);const c=hc(i,e.config.apiKey,e.name);let h=null;for(const y of t)try{const v=await y._get(c);if(v){const T=Ti._fromJSON(e,v);y!==l&&(h=T),l=y;break}}catch{}const f=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new na(l,e,i):(l=f[0],h&&await l._set(c,h.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new na(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Aw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bw(e))return"Blackberry";if(Nw(e))return"Webos";if(Rw(e))return"Safari";if((e.includes("chrome/")||Pw(e))&&!e.includes("edge/"))return"Chrome";if(kw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function xw(n=Sn()){return/firefox\//i.test(n)}function Rw(n=Sn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pw(n=Sn()){return/crios\//i.test(n)}function Aw(n=Sn()){return/iemobile/i.test(n)}function kw(n=Sn()){return/android/i.test(n)}function bw(n=Sn()){return/blackberry/i.test(n)}function Nw(n=Sn()){return/webos/i.test(n)}function Lp(n=Sn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function EA(n=Sn()){var e;return Lp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TA(){return MC()&&document.documentMode===10}function Dw(n=Sn()){return Lp(n)||kw(n)||Nw(n)||bw(n)||/windows phone/i.test(n)||Aw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(n,e=[]){let t;switch(n){case"Browser":t=qv(Sn());break;case"Worker":t=`${qv(Sn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ga}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,h)=>{try{const f=e(l);c(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(n,e={}){return Ea(n,"GET","/v2/passwordPolicy",Dp(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=6;class xA{constructor(e){var t,i,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:SA,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(l=f.containsUppercaseLetter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wv(this),this.idTokenSubscription=new Wv(this),this.beforeStateQueue=new IA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ii(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await na.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Iw(this,{idToken:e}),i=await Ti._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Qr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&(f!=null&&f.user)&&(o=f.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Dc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qr(this.app))return Promise.reject(no(this));const t=e?Pr(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qr(this.app)?Promise.reject(no(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qr(this.app)?Promise.reject(no(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CA(this),t=new xA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await wA(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ii(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await na.create(this,[Ii(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ow(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&sA(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Mp(n){return Pr(n)}class Wv{constructor(e){this.auth=e,this.observer=null,this.addObserver=HC(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PA(n){Vp=n}function AA(n){return Vp.loadJS(n)}function kA(){return Vp.gapiScript}function bA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(n,e){const t=Yf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(io(l,e??{}))return o;Ri(o,"already-initialized")}return t.initialize({options:e})}function DA(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ii);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function OA(n,e,t){const i=Mp(n);Ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=Lw(e),{host:c,port:h}=LA(e),f=h===null?"":`:${h}`,y={url:`${l}//${c}${f}/`},v=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ve(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ve(io(y,i.config.emulator)&&io(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,MA()}function Lw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function LA(n){const e=Lw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Kv(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Kv(c)}}}function Kv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function MA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,t){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(n,e){return dA(n,"POST","/v1/accounts:signInWithIdp",Dp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="http://localhost";class ao extends Mw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ri("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=kp(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new ao(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ra(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ra(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ra(e,t)}buildRequest(){const e={requestUri:VA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Al(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends Vw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Ol{constructor(){super("facebook.com")}static credential(e){return ao._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com";us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ao._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return cs.credential(t,i)}catch{return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com";cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Ol{constructor(){super("github.com")}static credential(e){return ao._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Ol{constructor(){super("twitter.com")}static credential(e,t){return ao._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return hs.credential(t,i)}catch{return null}}}hs.TWITTER_SIGN_IN_METHOD="twitter.com";hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Ti._fromIdTokenResponse(e,i,o),c=Qv(i);return new pa({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Qv(i);return new pa({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Qv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends ki{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Oc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Oc(e,t,i,o)}}function jw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Oc._fromErrorAndOperation(n,l,e,i):l})}async function jA(n,e,t=!1){const i=await Il(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return pa._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(n,e,t=!1){const{auth:i}=n;if(Qr(i.app))return Promise.reject(no(i));const o="reauthenticate";try{const l=await Il(n,jw(i,o,e,n),t);Ve(l.idToken,i,"internal-error");const c=Op(l.idToken);Ve(c,i,"internal-error");const{sub:h}=c;return Ve(n.uid===h,i,"user-mismatch"),pa._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ri(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(n,e,t=!1){if(Qr(n.app))return Promise.reject(no(n));const i="signIn",o=await jw(n,i,e),l=await pa._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}function BA(n,e,t,i){return Pr(n).onIdTokenChanged(e,t,i)}function zA(n,e,t){return Pr(n).beforeAuthStateChanged(e,t)}const Lc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lc,"1"),this.storage.removeItem(Lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=1e3,HA=10;class Uw extends Fw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Dw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);TA()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,HA):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},$A)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Uw.type="LOCAL";const GA=Uw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw extends Fw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Bw.type="SESSION";const zw=Bw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new dd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(c).map(async y=>y(t.origin,l)),f=await qA(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((h,f)=>{const y=jp("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(T){const x=T;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(x.data.response);break;default:clearTimeout(v),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function KA(n){ei().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function QA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XA(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function YA(){return $w()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="firebaseLocalStorageDb",JA=1,Mc="firebaseLocalStorage",Gw="fbase_key";class Ll{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function hd(n,e){return n.transaction([Mc],e?"readwrite":"readonly").objectStore(Mc)}function ZA(){const n=indexedDB.deleteDatabase(Hw);return new Ll(n).toPromise()}function jf(){const n=indexedDB.open(Hw,JA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Mc,{keyPath:Gw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Mc)?e(i):(i.close(),await ZA(),e(await jf()))})})}async function Xv(n,e,t){const i=hd(n,!0).put({[Gw]:e,value:t});return new Ll(i).toPromise()}async function ek(n,e){const t=hd(n,!1).get(e),i=await new Ll(t).toPromise();return i===void 0?null:i.value}function Yv(n,e){const t=hd(n,!0).delete(e);return new Ll(t).toPromise()}const tk=800,nk=3;class qw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>nk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $w()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dd._getInstance(YA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await QA(),!this.activeServiceWorker)return;this.sender=new WA(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jf();return await Xv(e,Lc,"1"),await Yv(e,Lc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Xv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>ek(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Yv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=hd(o,!1).getAll();return new Ll(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qw.type="LOCAL";const rk=qw;new Dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(n,e){return e?Ii(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp extends Mw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ra(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ra(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sk(n){return UA(n.auth,new Fp(n),n.bypassAuthState)}function ok(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),FA(t,new Fp(n),n.bypassAuthState)}async function ak(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),jA(t,new Fp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sk;case"linkViaPopup":case"linkViaRedirect":return ak;case"reauthViaPopup":case"reauthViaRedirect":return ok;default:Ri(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=new Dl(2e3,1e4);class Xo extends Ww{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lk.get())};e()}}Xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="pendingRedirect",fc=new Map;class ck extends Ww{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=fc.get(this.auth._key());if(!e){try{const i=await dk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}fc.set(this.auth._key(),e)}return this.bypassAuthState||fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dk(n,e){const t=pk(e),i=fk(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function hk(n,e){fc.set(n._key(),e)}function fk(n){return Ii(n._redirectPersistence)}function pk(n){return hc(uk,n.config.apiKey,n.name)}async function mk(n,e,t=!1){if(Qr(n.app))return Promise.reject(no(n));const i=Mp(n),o=ik(i,e),c=await new ck(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=10*60*1e3;class yk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Kw(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Zr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jv(e))}saveEventToCache(e){this.cachedEventUids.add(Jv(e)),this.lastProcessedEventTime=Date.now()}}function Jv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Kw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(n,e={}){return Ea(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ek=/^https?/;async function Tk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await _k(n);for(const t of e)try{if(Ik(t))return}catch{}Ri(n,"unauthorized-domain")}function Ik(n){const e=Mf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!Ek.test(t))return!1;if(wk.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=new Dl(3e4,6e4);function Zv(){const n=ei().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Sk(n){return new Promise((e,t)=>{var i,o,l;function c(){Zv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zv(),t(Zr(n,"network-request-failed"))},timeout:Ck.get()})}if(!((o=(i=ei().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=ei().gapi)===null||l===void 0)&&l.load)c();else{const h=bA("iframefcb");return ei()[h]=()=>{gapi.load?c():t(Zr(n,"network-request-failed"))},AA(`${kA()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw pc=null,e})}let pc=null;function xk(n){return pc=pc||Sk(n),pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=new Dl(5e3,15e3),Pk="__/auth/iframe",Ak="emulator/auth/iframe",kk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nk(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Np(e,Ak):`https://${n.config.authDomain}/${Pk}`,i={apiKey:e.apiKey,appName:n.name,v:ga},o=bk.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Al(i).slice(1)}`}async function Dk(n){const e=await xk(n),t=ei().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:Nk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kk,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=Zr(n,"network-request-failed"),h=ei().setTimeout(()=>{l(c)},Rk.get());function f(){ei().clearTimeout(h),o(i)}i.ping(f).then(f,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lk=500,Mk=600,Vk="_blank",jk="http://localhost";class e_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Fk(n,e,t,i=Lk,o=Mk){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},Ok),{width:i.toString(),height:o.toString(),top:l,left:c}),y=Sn().toLowerCase();t&&(h=Pw(y)?Vk:t),xw(y)&&(e=e||jk,f.scrollbars="yes");const v=Object.entries(f).reduce((x,[A,O])=>`${x}${A}=${O},`,"");if(EA(y)&&h!=="_self")return Uk(e||"",h),new e_(null);const T=window.open(e||"",h,v);Ve(T,n,"popup-blocked");try{T.focus()}catch{}return new e_(T)}function Uk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk="__/auth/handler",zk="emulator/auth/handler",$k=encodeURIComponent("fac");async function t_(n,e,t,i,o,l){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ga,eventId:o};if(e instanceof Vw){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",$C(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof Ol){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),y=f?`#${$k}=${encodeURIComponent(f)}`:"";return`${Hk(n)}?${Al(h).slice(1)}${y}`}function Hk({config:n}){return n.emulator?Np(n,zk):`https://${n.authDomain}/${Bk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="webStorageSupport";class Gk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zw,this._completeRedirectFn=mk,this._overrideRedirectResult=hk}async _openPopup(e,t,i,o){var l;Pi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await t_(e,t,i,Mf(),o);return Fk(e,c,jp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await t_(e,t,i,Mf(),o);return KA(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Pi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Dk(e),i=new yk(e);return t.register("authEvent",o=>(Ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rf,{type:rf},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[rf];c!==void 0&&t(!!c),Ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Tk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Dw()||Rw()||Lp()}}const qk=Gk;var n_="@firebase/auth",r_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Qk(n){ia(new so("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Ve(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ow(n)},y=new RA(i,o,l,f);return DA(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ia(new so("auth-internal",e=>{const t=Mp(e.getProvider("auth").getImmediate());return(i=>new Wk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ys(n_,r_,Kk(n)),ys(n_,r_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=5*60,Yk=q_("authIdTokenMaxAge")||Xk;let i_=null;const Jk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Yk)return;const o=t==null?void 0:t.token;i_!==o&&(i_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Zk(n=X_()){const e=Yf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=NA(n,{popupRedirectResolver:qk,persistence:[rk,GA,zw]}),i=q_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=Jk(l.toString());zA(t,c,()=>c(t.currentUser)),BA(t,h=>c(h))}}const o=H_("auth");return o&&OA(t,`http://${o}`),t}function eb(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}PA({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=Zr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",eb().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Qk("Browser");const tb={apiKey:"AIzaSyDRdGx1Y15Bk2Zd_vzQfjbOivkWXO9E2vg",authDomain:"fake-e-commerce-6fd04.firebaseapp.com",projectId:"fake-e-commerce-6fd04",storageBucket:"fake-e-commerce-6fd04.firebasestorage.app",messagingSenderId:"263523923948",appId:"1:263523923948:web:5671988b0e33af62ed72c9"},Qw=Q_(tb);Zk(Qw);const Xw=FP(Qw);class nb extends Wc{constructor({title:e,fullTitle:t,description:i,brand:o,images:l,price:c}){super({title:e,fullTitle:t,description:i,brand:o,images:l,price:c,category:"Procesadores"})}}function rb(n){switch(n.category){case"Fuentes de poder":return new sl({...n});case"Tarjetas madre":return new En({...n});case"Tarjetas de video":return new Ks({...n});case"Procesadores":return new nb({...n});default:console.log(`Tipo de producto no registrado, 
                no se recibira.`,n);break}}const ib=async(n,e)=>{let t=aw(Xw,n),i;return e?i=ul(t,Lf("brand","==",e)):i=t,(await gw(i)).size},sb=async(n,e,t=20,i=null,o)=>{let l=[],c=aw(Xw,n),h=ul(c,Ju(e.type,e.order),Zu(t));o&&(h=ul(c,Lf("brand","==",o),Ju(e.type,e.order),Zu(t))),i&&!o&&(h=ul(c,Ju(e.type,e.order),Fv(i),Zu(t))),i&&o&&(h=ul(c,Lf("brand","==",o),Ju(e.type,e.order),Fv(i),Zu(t)));const f=await gw(h),y=f.docs.map(v=>({id:v.id,...v.data()}));return y&&y.length>0&&y.forEach(v=>{const T=rb(v);T&&l.push(T)}),{products:l,lastDoc:f.docs[f.docs.length-1]}};var mc={exports:{}},ob=mc.exports,s_;function ab(){return s_||(s_=1,function(n,e){(function(t,i){n.exports=i(Vc())})(ob,t=>(()=>{var i={703:(h,f,y)=>{var v=y(414);function T(){}function x(){}x.resetWarningCache=T,h.exports=function(){function A(V,G,K,J,ne,de){if(de!==v){var F=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw F.name="Invariant Violation",F}}function O(){return A}A.isRequired=A;var z={array:A,bigint:A,bool:A,func:A,number:A,object:A,string:A,symbol:A,any:A,arrayOf:O,element:A,elementType:A,instanceOf:O,node:A,objectOf:O,oneOf:O,oneOfType:O,shape:O,exact:O,checkPropTypes:x,resetWarningCache:T};return z.PropTypes=z,z}},697:(h,f,y)=>{h.exports=y(703)()},414:h=>{h.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:h=>{h.exports=t}},o={};function l(h){var f=o[h];if(f!==void 0)return f.exports;var y=o[h]={exports:{}};return i[h](y,y.exports,l),y.exports}l.n=h=>{var f=h&&h.__esModule?()=>h.default:()=>h;return l.d(f,{a:f}),f},l.d=(h,f)=>{for(var y in f)l.o(f,y)&&!l.o(h,y)&&Object.defineProperty(h,y,{enumerable:!0,get:f[y]})},l.o=(h,f)=>Object.prototype.hasOwnProperty.call(h,f),l.r=h=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{default:()=>L});var h=l(98),f=l.n(h),y=l(697),v=l.n(y);function T(){return T=Object.assign?Object.assign.bind():function(b){for(var S=1;S<arguments.length;S++){var Ie=arguments[S];for(var ke in Ie)Object.prototype.hasOwnProperty.call(Ie,ke)&&(b[ke]=Ie[ke])}return b},T.apply(this,arguments)}var x=function(b){var S=b.pageClassName,Ie=b.pageLinkClassName,ke=b.page,je=b.selected,Fe=b.activeClassName,ae=b.activeLinkClassName,te=b.getEventListener,$=b.pageSelectedHandler,j=b.href,q=b.extraAriaContext,ie=b.pageLabelBuilder,me=b.rel,Ce=b.ariaLabel||"Page "+ke+(q?" "+q:""),Ae=null;return je&&(Ae="page",Ce=b.ariaLabel||"Page "+ke+" is your current page",S=S!==void 0?S+" "+Fe:Fe,Ie!==void 0?ae!==void 0&&(Ie=Ie+" "+ae):Ie=ae),f().createElement("li",{className:S},f().createElement("a",T({rel:me,role:j?void 0:"button",className:Ie,href:j,tabIndex:je?"-1":"0","aria-label":Ce,"aria-current":Ae,onKeyPress:$},te($)),ie(ke)))};x.propTypes={pageSelectedHandler:v().func.isRequired,selected:v().bool.isRequired,pageClassName:v().string,pageLinkClassName:v().string,activeClassName:v().string,activeLinkClassName:v().string,extraAriaContext:v().string,href:v().string,ariaLabel:v().string,page:v().number.isRequired,getEventListener:v().func.isRequired,pageLabelBuilder:v().func.isRequired,rel:v().string};const A=x;function O(){return O=Object.assign?Object.assign.bind():function(b){for(var S=1;S<arguments.length;S++){var Ie=arguments[S];for(var ke in Ie)Object.prototype.hasOwnProperty.call(Ie,ke)&&(b[ke]=Ie[ke])}return b},O.apply(this,arguments)}var z=function(b){var S=b.breakLabel,Ie=b.breakAriaLabel,ke=b.breakClassName,je=b.breakLinkClassName,Fe=b.breakHandler,ae=b.getEventListener,te=ke||"break";return f().createElement("li",{className:te},f().createElement("a",O({className:je,role:"button",tabIndex:"0","aria-label":Ie,onKeyPress:Fe},ae(Fe)),S))};z.propTypes={breakLabel:v().oneOfType([v().string,v().node]),breakAriaLabel:v().string,breakClassName:v().string,breakLinkClassName:v().string,breakHandler:v().func.isRequired,getEventListener:v().func.isRequired};const V=z;function G(b){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return b??S}function K(b){return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},K(b)}function J(){return J=Object.assign?Object.assign.bind():function(b){for(var S=1;S<arguments.length;S++){var Ie=arguments[S];for(var ke in Ie)Object.prototype.hasOwnProperty.call(Ie,ke)&&(b[ke]=Ie[ke])}return b},J.apply(this,arguments)}function ne(b,S){for(var Ie=0;Ie<S.length;Ie++){var ke=S[Ie];ke.enumerable=ke.enumerable||!1,ke.configurable=!0,"value"in ke&&(ke.writable=!0),Object.defineProperty(b,ke.key,ke)}}function de(b,S){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ie,ke){return Ie.__proto__=ke,Ie},de(b,S)}function F(b,S){if(S&&(K(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P(b)}function P(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function I(b){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},I(b)}function C(b,S,Ie){return S in b?Object.defineProperty(b,S,{value:Ie,enumerable:!0,configurable:!0,writable:!0}):b[S]=Ie,b}var N=function(b){(function(te,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create($&&$.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),$&&de(te,$)})(ae,b);var S,Ie,ke,je,Fe=(ke=ae,je=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var te,$=I(ke);if(je){var j=I(this).constructor;te=Reflect.construct($,arguments,j)}else te=$.apply(this,arguments);return F(this,te)});function ae(te){var $,j;return function(q,ie){if(!(q instanceof ie))throw new TypeError("Cannot call a class as a function")}(this,ae),C(P($=Fe.call(this,te)),"handlePreviousPage",function(q){var ie=$.state.selected;$.handleClick(q,null,ie>0?ie-1:void 0,{isPrevious:!0})}),C(P($),"handleNextPage",function(q){var ie=$.state.selected,me=$.props.pageCount;$.handleClick(q,null,ie<me-1?ie+1:void 0,{isNext:!0})}),C(P($),"handlePageSelected",function(q,ie){if($.state.selected===q)return $.callActiveCallback(q),void $.handleClick(ie,null,void 0,{isActive:!0});$.handleClick(ie,null,q)}),C(P($),"handlePageChange",function(q){$.state.selected!==q&&($.setState({selected:q}),$.callCallback(q))}),C(P($),"getEventListener",function(q){return C({},$.props.eventListener,q)}),C(P($),"handleClick",function(q,ie,me){var Ce=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Ae=Ce.isPrevious,Be=Ae!==void 0&&Ae,Ge=Ce.isNext,Je=Ge!==void 0&&Ge,He=Ce.isBreak,dt=He!==void 0&&He,Yt=Ce.isActive,Gt=Yt!==void 0&&Yt;q.preventDefault?q.preventDefault():q.returnValue=!1;var Ct=$.state.selected,ct=$.props.onClick,jt=me;if(ct){var Nt=ct({index:ie,selected:Ct,nextSelectedPage:me,event:q,isPrevious:Be,isNext:Je,isBreak:dt,isActive:Gt});if(Nt===!1)return;Number.isInteger(Nt)&&(jt=Nt)}jt!==void 0&&$.handlePageChange(jt)}),C(P($),"handleBreakClick",function(q,ie){var me=$.state.selected;$.handleClick(ie,q,me<q?$.getForwardJump():$.getBackwardJump(),{isBreak:!0})}),C(P($),"callCallback",function(q){$.props.onPageChange!==void 0&&typeof $.props.onPageChange=="function"&&$.props.onPageChange({selected:q})}),C(P($),"callActiveCallback",function(q){$.props.onPageActive!==void 0&&typeof $.props.onPageActive=="function"&&$.props.onPageActive({selected:q})}),C(P($),"getElementPageRel",function(q){var ie=$.state.selected,me=$.props,Ce=me.nextPageRel,Ae=me.prevPageRel,Be=me.selectedPageRel;return ie-1===q?Ae:ie===q?Be:ie+1===q?Ce:void 0}),C(P($),"pagination",function(){var q=[],ie=$.props,me=ie.pageRangeDisplayed,Ce=ie.pageCount,Ae=ie.marginPagesDisplayed,Be=ie.breakLabel,Ge=ie.breakClassName,Je=ie.breakLinkClassName,He=ie.breakAriaLabels,dt=$.state.selected;if(Ce<=me)for(var Yt=0;Yt<Ce;Yt++)q.push($.getPageElement(Yt));else{var Gt=me/2,Ct=me-Gt;dt>Ce-me/2?Gt=me-(Ct=Ce-dt):dt<me/2&&(Ct=me-(Gt=dt));var ct,jt,Nt=function(Ft){return $.getPageElement(Ft)},wt=[];for(ct=0;ct<Ce;ct++){var zn=ct+1;if(zn<=Ae)wt.push({type:"page",index:ct,display:Nt(ct)});else if(zn>Ce-Ae)wt.push({type:"page",index:ct,display:Nt(ct)});else if(ct>=dt-Gt&&ct<=dt+(dt===0&&me>1?Ct-1:Ct))wt.push({type:"page",index:ct,display:Nt(ct)});else if(Be&&wt.length>0&&wt[wt.length-1].display!==jt&&(me>0||Ae>0)){var xn=ct<dt?He.backward:He.forward;jt=f().createElement(V,{key:ct,breakAriaLabel:xn,breakLabel:Be,breakClassName:Ge,breakLinkClassName:Je,breakHandler:$.handleBreakClick.bind(null,ct),getEventListener:$.getEventListener}),wt.push({type:"break",index:ct,display:jt})}}wt.forEach(function(Ft,Dt){var sn=Ft;Ft.type==="break"&&wt[Dt-1]&&wt[Dt-1].type==="page"&&wt[Dt+1]&&wt[Dt+1].type==="page"&&wt[Dt+1].index-wt[Dt-1].index<=2&&(sn={type:"page",index:Ft.index,display:Nt(Ft.index)}),q.push(sn.display)})}return q}),te.initialPage!==void 0&&te.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(te.initialPage,") and forcePage (").concat(te.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),j=te.initialPage?te.initialPage:te.forcePage?te.forcePage:0,$.state={selected:j},$}return S=ae,(Ie=[{key:"componentDidMount",value:function(){var te=this.props,$=te.initialPage,j=te.disableInitialCallback,q=te.extraAriaContext,ie=te.pageCount,me=te.forcePage;$===void 0||j||this.callCallback($),q&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(ie)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(ie,"). Did you forget a Math.ceil()?")),$!==void 0&&$>ie-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat($," > ").concat(ie-1,").")),me!==void 0&&me>ie-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(me," > ").concat(ie-1,")."))}},{key:"componentDidUpdate",value:function(te){this.props.forcePage!==void 0&&this.props.forcePage!==te.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(te.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var te=this.state.selected,$=this.props,j=$.pageCount,q=te+$.pageRangeDisplayed;return q>=j?j-1:q}},{key:"getBackwardJump",value:function(){var te=this.state.selected-this.props.pageRangeDisplayed;return te<0?0:te}},{key:"getElementHref",value:function(te){var $=this.props,j=$.hrefBuilder,q=$.pageCount,ie=$.hrefAllControls;if(j)return ie||te>=0&&te<q?j(te+1,q,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(te){var $=te===this.state.selected;if(this.props.ariaLabelBuilder&&te>=0&&te<this.props.pageCount){var j=this.props.ariaLabelBuilder(te+1,$);return this.props.extraAriaContext&&!$&&(j=j+" "+this.props.extraAriaContext),j}}},{key:"getPageElement",value:function(te){var $=this.state.selected,j=this.props,q=j.pageClassName,ie=j.pageLinkClassName,me=j.activeClassName,Ce=j.activeLinkClassName,Ae=j.extraAriaContext,Be=j.pageLabelBuilder;return f().createElement(A,{key:te,pageSelectedHandler:this.handlePageSelected.bind(null,te),selected:$===te,rel:this.getElementPageRel(te),pageClassName:q,pageLinkClassName:ie,activeClassName:me,activeLinkClassName:Ce,extraAriaContext:Ae,href:this.getElementHref(te),ariaLabel:this.ariaLabelBuilder(te),page:te+1,pageLabelBuilder:Be,getEventListener:this.getEventListener})}},{key:"render",value:function(){var te=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&te!==void 0)return te&&te(this.props);var $=this.props,j=$.disabledClassName,q=$.disabledLinkClassName,ie=$.pageCount,me=$.className,Ce=$.containerClassName,Ae=$.previousLabel,Be=$.previousClassName,Ge=$.previousLinkClassName,Je=$.previousAriaLabel,He=$.prevRel,dt=$.nextLabel,Yt=$.nextClassName,Gt=$.nextLinkClassName,Ct=$.nextAriaLabel,ct=$.nextRel,jt=this.state.selected,Nt=jt===0,wt=jt===ie-1,zn="".concat(G(Be)).concat(Nt?" ".concat(G(j)):""),xn="".concat(G(Yt)).concat(wt?" ".concat(G(j)):""),Ft="".concat(G(Ge)).concat(Nt?" ".concat(G(q)):""),Dt="".concat(G(Gt)).concat(wt?" ".concat(G(q)):""),sn=Nt?"true":"false",fr=wt?"true":"false";return f().createElement("ul",{className:me||Ce,role:"navigation","aria-label":"Pagination"},f().createElement("li",{className:zn},f().createElement("a",J({className:Ft,href:this.getElementHref(jt-1),tabIndex:Nt?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":sn,"aria-label":Je,rel:He},this.getEventListener(this.handlePreviousPage)),Ae)),this.pagination(),f().createElement("li",{className:xn},f().createElement("a",J({className:Dt,href:this.getElementHref(jt+1),tabIndex:wt?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":fr,"aria-label":Ct,rel:ct},this.getEventListener(this.handleNextPage)),dt)))}}])&&ne(S.prototype,Ie),Object.defineProperty(S,"prototype",{writable:!1}),ae}(h.Component);C(N,"propTypes",{pageCount:v().number.isRequired,pageRangeDisplayed:v().number,marginPagesDisplayed:v().number,previousLabel:v().node,previousAriaLabel:v().string,prevPageRel:v().string,prevRel:v().string,nextLabel:v().node,nextAriaLabel:v().string,nextPageRel:v().string,nextRel:v().string,breakLabel:v().oneOfType([v().string,v().node]),breakAriaLabels:v().shape({forward:v().string,backward:v().string}),hrefBuilder:v().func,hrefAllControls:v().bool,onPageChange:v().func,onPageActive:v().func,onClick:v().func,initialPage:v().number,forcePage:v().number,disableInitialCallback:v().bool,containerClassName:v().string,className:v().string,pageClassName:v().string,pageLinkClassName:v().string,pageLabelBuilder:v().func,activeClassName:v().string,activeLinkClassName:v().string,previousClassName:v().string,nextClassName:v().string,previousLinkClassName:v().string,nextLinkClassName:v().string,disabledClassName:v().string,disabledLinkClassName:v().string,breakClassName:v().string,breakLinkClassName:v().string,extraAriaContext:v().string,ariaLabelBuilder:v().func,eventListener:v().string,renderOnZeroPageCount:v().func,selectedPageRel:v().string}),C(N,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(b){return b},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const L=N})(),c})())}(mc)),mc.exports}var lb=ab();const ub=a_(lb),cb=({pageCount:n,onPageChange:e,forcePage:t})=>{const i={main:"flex gap-2 w-full justify-center pt-2 font-roboto",general:"size-10 bg-nd rounded text-white cursor-pointer",buttons:"size-full flex items-center justify-center hover:bg-rd hover:text-black hover:rounded duration-500",active:" bg-th text-black font-bold duration-500"};return R.jsx(ub,{previousLabel:"<",nextLabel:">",breakLabel:"...",breakClassName:i.general,breakLinkClassName:i.buttons,pageCount:n,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e,forcePage:t,containerClassName:i.main,pageClassName:i.general,pageLinkClassName:i.buttons,previousClassName:i.general,previousLinkClassName:i.buttons,nextClassName:i.general,nextLinkClassName:i.buttons,activeClassName:i.active,activeLinkClassName:i.general+i.active})},o_=()=>{const{category:n,brand:e,page:t}=d1(),i=$f(),[o,l]=B.useState(!0),[c,h]=B.useState([]),[f,y]=B.useState(1),[v,T]=B.useState({type:"title",order:"asc"}),[x,A]=B.useState([]),[O,z]=B.useState(0),V=10;B.useEffect(()=>{l(!0),(async()=>{try{const J=t===void 0?1:parseInt(t);y(J);let ne=null;if(J>1&&x.length>=J-1&&(ne=x[J-2]),n!==void 0){const de=await sb(n,v,V,ne,e);x.length<J&&A([...x,de.lastDoc]),h(de.products),l(!1);const F=await ib(n,e);z(F)}}catch{at.error("Error fetching products"),l(!1)}})()},[n,e,t,v]);const G=K=>{const J=K.selected+1;y(J),i(e?`/products/${n}/${e}/${J}`:`/products/${n}/${J}`)};return c.length>0?R.jsxs("div",{className:"w-full grid grid-rows-[85%_10%] h-dvh pt-22",children:[R.jsx(_C,{data:c,setOrderType:T,currentOrder:v,loading:o,setLoading:l}),R.jsx(cb,{pageCount:Math.ceil(O/V),onPageChange:G,forcePage:f-1})]}):R.jsx("div",{className:"w-full min-h-[80vh] flex items-center justify-center",children:R.jsx("p",{className:"text-white",children:"No products found."})})},db=()=>R.jsxs("section",{className:"w-full flex flex-col items-center justify-center bg-st min-h-screen",children:[R.jsx(F_,{}),R.jsx(T_,{})]}),Up="/Game-Over/assets/game-pad-BxmdwqGe.gif",Bp="/Game-Over/assets/pad-BsnDDjjO.gif",hb=()=>{const[n,e]=B.useState(""),[t,i]=B.useState(""),[o,l]=B.useState(!1),c=y=>v=>{y(v.target.value)},h=()=>{l(y=>!y)},f={main:"w-full relative min-h-screen bg-st pt-16 flex items-center justify-center",content:"flex flex-col items-center p-4 w-82 rounded-lg",logoBox:"absolute top-20 p-8",logo:"size-full object-contain",form:{title:"text-center text-rd font-bold w-full",main:"w-full flex flex-col items-end gap-2",inputBox:"w-full h-10 ",input:"w-full bg-nd h-full px-2 text-white size-full outline-none shadow-[0px_0px_4px_0px] shadow-rd rounded-lg focus:shadow-th",button:"bg-rd hover:bg-th active:bg-th text-nd h-12 w-full py-2 text-lg font-bold rounded-lg"},links:"text-white active:text-th hover:text-th underline text-sm my-2"};return R.jsxs("section",{className:f.main,children:[R.jsx("picture",{className:f.logoBox,children:R.jsx("img",{className:f.logo,src:$c,alt:"Game-Over-Logo"})}),R.jsx("span",{className:"aim absolute size-20 bottom-20 left-10",children:R.jsx("img",{className:"size-full object-contain",src:Up,alt:"aim-icon"})}),R.jsx("span",{className:"pad absolute size-20 bottom-20 right-10",children:R.jsx("img",{className:"size-full object-contain",src:Bp,alt:"pad-icon"})}),R.jsxs("div",{className:f.content,children:[R.jsxs(zc,{className:f.form.main,children:[R.jsx("h2",{className:f.form.title,children:"Iniciar sesin con e-mail y contrasea"}),R.jsx("span",{className:f.form.inputBox,children:R.jsx("input",{type:"email",className:f.form.input,placeholder:"Ej:ejemplo@gmail.com",onChange:c(e),value:n})}),R.jsxs("span",{className:f.form.inputBox,style:{position:"relative"},children:[R.jsx("input",{type:o?"text":"password",className:f.form.input,placeholder:"Ingrese su contrasea",onChange:c(i),value:t}),R.jsx("button",{type:"button",className:"absolute right-2 top-2",onClick:h,style:{background:"none",border:"none",cursor:"pointer"},children:R.jsx("img",{src:o?"tu-imagen-mostrar.gif":"tu-imagen-ocultar.gif",alt:"toggle-password"})})]}),R.jsx(cr,{className:f.links,to:"/accounts/forgot-password",children:"Olvid mi contrasea"}),R.jsx("button",{type:"submit",className:f.form.button,children:"Entrar"})]}),R.jsx(cr,{className:f.links,to:"/accounts/register",children:"No tiene una cuenta? Regstrese"})]})]})},fb=()=>{const[n,e]=B.useState(""),[t,i]=B.useState(""),[o,l]=B.useState(!1),c=y=>v=>{y(v.target.value)},h=()=>{l(y=>!y)},f={main:"w-full relative min-h-screen bg-st pt-16 flex items-center justify-center",content:"flex flex-col items-center p-4 w-82 rounded-lg",logoBox:"absolute top-20 p-8",form:{title:"text-center text-rd font-bold w-full",main:"w-full flex flex-col items-end gap-2",inputBox:"w-full h-10 ",input:"w-full bg-nd h-full px-2 text-white size-full outline-none shadow-[0px_0px_4px_0px] shadow-rd rounded-lg focus:shadow-th",button:"bg-rd hover:bg-th active:bg-th text-nd h-12 w-full py-2 text-lg font-bold rounded-lg mt-4"},links:"text-white active:text-th hover:text-th underline text-sm my-2"};return R.jsxs("section",{className:f.main,children:[R.jsx("picture",{className:f.logoBox,children:R.jsx("img",{src:$c,alt:"Game-Over-Logo"})}),R.jsx("span",{className:"aim absolute size-20 bottom-20 left-10",children:R.jsx("img",{className:"size-full object-contain",src:Up,alt:"aim-icon"})}),R.jsx("span",{className:"pad absolute size-20 bottom-20 right-10",children:R.jsx("img",{className:"size-full object-contain",src:Bp,alt:"pad-icon"})}),R.jsxs("div",{className:f.content,children:[R.jsxs(zc,{className:f.form.main,children:[R.jsx("h2",{className:f.form.title,children:"Registro de Usuarios"}),R.jsx("span",{className:f.form.inputBox,children:R.jsx("input",{type:"email",className:f.form.input,placeholder:"Ej:ejemplo@gmail.com",onChange:c(e),value:n})}),R.jsxs("span",{className:f.form.inputBox,style:{position:"relative"},children:[R.jsx("input",{type:o?"text":"password",className:f.form.input,placeholder:"Cree una contrasea",onChange:c(i),value:t}),R.jsx("button",{type:"button",className:"absolute right-2 top-2",onClick:h,style:{background:"none",border:"none",cursor:"pointer"},children:R.jsx("img",{src:o?"tu-imagen-mostrar.gif":"tu-imagen-ocultar.gif",alt:"toggle-password"})})]}),R.jsx("button",{type:"submit",className:f.form.button,children:"Crear Cuenta"})]}),R.jsx(cr,{className:f.links,to:"/accounts/login",children:"Ya tiene una cuenta? Inicie sesin"})]})]})},pb=()=>{const[n,e]=B.useState(""),t=o=>{e(o.target.value)},i={main:"w-full relative min-h-screen bg-st pt-14 flex items-center justify-center",content:"flex flex-col items-center p-4 w-82 rounded-lg",helpText:"text-gray-400 text-center text-sm mb-4",logoBox:"absolute top-20 p-8",form:{title:"text-center text-rd font-bold w-full",main:"w-full flex flex-col items-end gap-2",inputBox:"w-full h-10 ",input:"w-full bg-nd h-full px-2 text-white size-full outline-none shadow-[0px_0px_4px_0px] shadow-rd rounded-lg focus:shadow-th",button:"bg-rd hover:bg-th active:bg-th text-nd h-12 w-full py-2 text-lg font-bold mt-4 rounded-lg"},links:"text-white active:text-th hover:text-th underline text-sm my-2"};return R.jsxs("section",{className:i.main,children:[R.jsx("picture",{className:i.logoBox,children:R.jsx("img",{src:$c,alt:"Game-Over-Logo"})}),R.jsx("span",{className:"aim absolute size-20 bottom-20 left-10",children:R.jsx("img",{className:"size-full object-contain",src:Up,alt:"aim-icon"})}),R.jsx("span",{className:"pad absolute size-20 bottom-20 right-10",children:R.jsx("img",{className:"size-full object-contain",src:Bp,alt:"pad-icon"})}),R.jsxs("div",{className:i.content,children:[R.jsx("p",{className:i.helpText,children:"Las Instrucciones para recuperar tu contrasea, llegaran al correo que registraste."}),R.jsxs(zc,{className:i.form.main,children:[R.jsx("h2",{className:i.form.title,children:"Recuperar Contrasea"}),R.jsx("span",{className:i.form.inputBox,children:R.jsx("input",{type:"email",className:i.form.input,placeholder:"Ingrese su correo electrnico",onChange:t,value:n})}),R.jsx("button",{type:"submit",className:i.form.button,children:"Enviar Instrucciones"})]}),R.jsx(cr,{className:i.links,to:"/accounts/login",children:"Ya recordaste tu contrasea? Inicia sesin"})]})]})},mb=eI([{path:"/",element:R.jsx(uC,{}),errorElement:R.jsx(hC,{}),children:[{index:!0,element:R.jsx(ky,{})},{path:"/home",element:R.jsx(ky,{})},{path:"/products/:category/:page",element:R.jsx(o_,{})},{path:"/products/:category/:brand/:page",element:R.jsx(o_,{})},{path:"/details/:category",element:R.jsx(gC,{})},{path:"/account",element:"",children:[{index:!0,element:""},{path:"/account/profile",element:""},{path:"/account/edit-profile",element:""},{path:"/account/addres",element:""},{path:"/account/auth",element:""},{path:"/account/cards",element:""},{path:"/account/orders",element:""}]},{path:"/payment",element:""}]},{path:"/accounts",element:R.jsx(db,{}),children:[{index:!0,element:R.jsx(A1,{to:"/accounts/login"})},{path:"/accounts/login",element:R.jsx(hb,{})},{path:"/accounts/register",element:R.jsx(fb,{})},{path:"/accounts/forgot-password",element:R.jsx(pb,{})}]}]);uT.createRoot(document.getElementById("root")).render(R.jsx(B.StrictMode,{children:R.jsx(dC,{children:R.jsxs(iC,{children:[R.jsx(hI,{router:mb}),R.jsx(rC,{})]})})}));
